import{C as K}from"./CommonAttr-0.0.0-dataease.js";import{d as j}from"./dvMain-0.0.0-dataease.js";import{d as y,t as L,ai as O,r as v,m as X,w as Y,o as B,a as Z,e as ee,f,g as h,i as l,k as r,V as E,j as e,N as te,a6 as P,a0 as G,_ as oe,n as N,p as ae,M as le,aw as re}from"./vue-0.0.0-dataease.js";import{u as g}from"./index-0.0.0-dataease.js";import{E as se}from"./el-collapse-item-0.0.0-dataease.js";import{a as ie}from"./el-form-item-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import{E as me,a as ne}from"./el-radio-0.0.0-dataease.js";import{E as pe}from"./el-row-0.0.0-dataease.js";import{E as ue}from"./el-col-0.0.0-dataease.js";import{E as ce}from"./el-upload-0.0.0-dataease.js";import"./el-progress-0.0.0-dataease.js";import{s as D}from"./snapshot-0.0.0-dataease.js";import{j as R,e as de}from"./index-0.0.0-dataease2.js";import{b as fe,u as he,i as _e}from"./imgUtils-0.0.0-dataease.js";import{e as A}from"./eventBus-0.0.0-dataease.js";import ve from"./ImgViewDialog-0.0.0-dataease.js";import{_ as V}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import{B as $}from"./chart-0.0.0-dataease.js";import ge from"./DatasetSelect-0.0.0-dataease.js";import{g as be}from"./chart-0.0.0-dataease2.js";import{_ as ye}from"./CarouselSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import Ve from"./Threshold-0.0.0-dataease.js";import{C as Ce}from"./CollapseSwitchItem-0.0.0-dataease.js";import"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import"./el-checkbox-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./index-0.0.0-dataease15.js";import"./attr-0.0.0-dataease20.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./user-0.0.0-dataease.js";import"./canvasUtils-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import"./el-select-0.0.0-dataease.js";import"./index-0.0.0-dataease4.js";import"./index-0.0.0-dataease14.js";import"./strings-0.0.0-dataease.js";import"./index-0.0.0-dataease5.js";import"./el-popper-0.0.0-dataease.js";import"./el-radio-button-0.0.0-dataease.js";import"./position-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./board-list-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./el-space-0.0.0-dataease.js";import"./icon_italic_outlined-0.0.0-dataease.js";import"./icon_right-alignment_outlined-0.0.0-dataease.js";import"./formatter-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./row-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./index-0.0.0-dataease12.js";import"./el-dialog-0.0.0-dataease.js";import"./use-dialog-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./el-popover-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./el-footer-0.0.0-dataease.js";import"./el-aside-0.0.0-dataease.js";import"./el-tree-0.0.0-dataease.js";import"./dv-folder-0.0.0-dataease.js";import"./icon_dataset-0.0.0-dataease.js";import"./icon_done_outlined-0.0.0-dataease.js";import"./dataset-0.0.0-dataease.js";import"./treeSortUtils-0.0.0-dataease.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./TableThresholdEdit-0.0.0-dataease.js";import"./icon_info_filled-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./icon_add_outlined-0.0.0-dataease.js";import"./field-list-0.0.0-dataease.js";import"./TextLabelThresholdEdit-0.0.0-dataease.js";import"./TextThresholdEdit-0.0.0-dataease.js";import"./PictureGroupThresholdEdit-0.0.0-dataease.js";import"./el-switch-0.0.0-dataease.js";const Se=y({__name:"PictureGroupUploadAttr",props:{themes:{type:String,default:"dark"},element:{type:Object,default(){return{propValue:{urlList:[]}}}}},setup(o){R();const d=o,s=j(),a=D(),{element:t}=L(d),{curComponent:u}=O(s),n=v([]),p=v(""),i=v(!1),_=v(!1),C=v(null),q=c=>{p.value=c.url,i.value=!0},F=(c,m)=>{_.value=!1;let S=c.url.split("static-resource/")[1],b=t.value.propValue.urlList.findIndex(w=>w.url.split("static-resource/")[1]===S);b!==-1&&(t.value.propValue.urlList.splice(b,1),g().emitter.emit("calcData-"+t.value.id)),a.recordSnapshotCache()};async function M(c){t.value.propValue.urlList.length<10&&he(c.file,m=>{a.recordSnapshotCache(),t.value.propValue.urlList.unshift({name:c.file.name,url:m}),g().emitter.emit("calcData-"+t.value.id)})}const z=()=>{a.recordSnapshotCache()},T=()=>{C.value.click()},W=()=>{n.value=[],t.value.propValue.urlList&&t.value.propValue.urlList.length>0&&t.value.propValue.urlList.forEach(c=>{n.value.push({name:c.name,url:_e(c.url)})})},U=()=>{W()};return X(()=>d.themes==="dark"?"ndark":"dark"),Y(()=>t.value.propValue.urlList,()=>{U()}),B(()=>{U(),A.on("uploadImg",T)}),Z(()=>{A.off("uploadImg",T)}),(c,m)=>{const S=ee("Plus"),b=ce,w=ue,k=pe,x=me,J=ne,Q=ie,H=se;return f(),h(H,{effect:o.themes,title:"图片组",name:"picture"},{default:l(()=>[r(k,{class:E(["img-area",`img-area_${o.themes}`])},{default:l(()=>[r(w,{style:{width:"130px !important"}},{default:l(()=>[r(b,{themes:o.themes,limit:10,action:"",accept:".jpeg,.jpg,.png,.gif,.svg",class:E(["avatar-uploader",{disabled:_.value}]),"list-type":"picture-card","on-preview":q,"on-remove":F,"before-upload":e(fe),"http-request":M,multiple:"","file-list":n.value},{default:l(()=>[r(e(de),null,{default:l(()=>[r(S)]),_:1})]),_:1},8,["themes","class","before-upload","file-list"]),r(ve,{modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=I=>i.value=I),"image-url":p.value},null,8,["modelValue","image-url"])]),_:1})]),_:1},8,["class"]),r(k,null,{default:l(()=>[te("span",{style:{"margin-top":"2px"},class:E(["image-hint",`image-hint_${o.themes}`])}," 支持JPG、PNG、GIF、SVG ",2)]),_:1}),r(k,{class:"pic-adaptor"},{default:l(()=>[e(u).style.adaptation?(f(),h(Q,{key:0,class:"form-item form-item-custom",label:"图片适应方式",size:"small",effect:o.themes},{default:l(()=>[r(J,{size:"small",modelValue:e(u).style.adaptation,"onUpdate:modelValue":m[1]||(m[1]=I=>e(u).style.adaptation=I),onChange:z,effect:o.themes},{default:l(()=>[r(x,{label:"adaptation",effect:o.themes},{default:l(()=>m[2]||(m[2]=[P("适应组件")])),_:1},8,["effect"]),r(x,{label:"original",effect:o.themes},{default:l(()=>m[3]||(m[3]=[P("原始尺寸")])),_:1},8,["effect"]),r(x,{label:"equiratio",effect:o.themes},{default:l(()=>m[4]||(m[4]=[P("等比适应")])),_:1},8,["effect"])]),_:1},8,["modelValue","effect"])]),_:1},8,["effect"])):G("",!0)]),_:1})]),_:1},8,["effect"])}}});const we=V(Se,[["__scopeId","data-v-2589d092"]]),ke=y({__name:"PictureGroupDatasetSelect",props:{themes:{type:String,default:"dark"},view:{type:Object,required:!1,default(){return{...$}}}},setup(o){const d=D(),s=o,{view:a}=L(s),t=oe({}),u=()=>{N(()=>{a.value.tableId&&a.value.id?be(a.value.tableId,a.value.id,{type:"table-info"}).then(n=>{a.value.xAxis=[],n.quotaList.pop(),a.value.xAxis.push(...n.dimensionList,...n.quotaList);const p=a.value;g().emitter.emit("calcData-"+p.id,p),d.recordSnapshotCache("calc",a.value.id)}).catch(()=>{}):a.value.xAxis=[]})};return(n,p)=>(f(),h(ge,{ref:"datasetSelector",modelValue:e(a).tableId,"onUpdate:modelValue":p[0]||(p[0]=i=>e(a).tableId=i),style:{flex:"1"},"view-id":e(a).id,themes:o.themes,disabled:!e(a).senior.threshold.enable,onOnDatasetChange:u,"state-obj":t},null,8,["modelValue","view-id","themes","disabled","state-obj"]))}});const xe=V(ke,[["__scopeId","data-v-8809fc02"]]),Ie=y({__name:"PictureGroupThreshold",props:{themes:{type:String,default:"dark"},element:{type:Object,default(){return{propValue:{urlList:[]}}}},view:{type:Object,required:!1,default(){return{...$}}}},setup(o){const d=D(),{t:s}=R(),a=o,{view:t,element:u}=L(a),n=i=>{t.value.senior.threshold=i,i.enable&&(u.value.carousel.enable=!1),N(()=>{g().emitter.emit("calcData-"+u.value.id)}),d.recordSnapshotCache("calcData",t.value.id)},p=()=>{t.value.senior.threshold.enable=!1};return B(()=>{g({name:"carouselValueChange",callback:()=>p()})}),(i,_)=>(f(),h(e(Ce),{effect:o.themes,title:e(s)("chart.threshold"),"change-model":e(t).senior.threshold,modelValue:e(t).senior.threshold.enable,"onUpdate:modelValue":_[0]||(_[0]=C=>e(t).senior.threshold.enable=C),name:"threshold",onModelChange:n},{default:l(()=>[ae(i.$slots,"dataset",{},void 0,!0),r(Ve,{themes:o.themes,chart:e(t),"property-inner":["tableThreshold"],onOnThresholdChange:n},null,8,["themes","chart"])]),_:3},8,["effect","title","change-model","modelValue"]))}});const Ee=V(Ie,[["__scopeId","data-v-f182dc8f"]]),Pe={class:"attr-list de-collapse-style"},Ge=y({__name:"Attr",props:{themes:{type:String,default:"dark"}},setup(o){const d=j(),{curComponent:s,canvasViewInfo:a,mobileInPc:t,batchOptStatus:u}=O(d);return(n,p)=>(f(),le("div",Pe,[r(K,{themes:o.themes,element:e(s),"background-color-picker-width":197,"background-border-select-width":197},re({default:l(()=>[!e(t)&&!e(u)?(f(),h(we,{key:0,themes:o.themes,element:e(s)},null,8,["themes","element"])):G("",!0)]),_:2},[e(t)?void 0:{name:"carousel",fn:l(()=>{var i;return[((i=e(s))==null?void 0:i.innerType)==="picture-group"?(f(),h(ye,{key:0,element:e(s),themes:o.themes},null,8,["element","themes"])):G("",!0)]}),key:"0"},e(t)?void 0:{name:"threshold",fn:l(()=>[r(Ee,{themes:o.themes,element:e(s),view:e(a)[e(s)?e(s).id:"default"]},{dataset:l(()=>[r(xe,{themes:o.themes,view:e(a)[e(s)?e(s).id:"default"]},null,8,["themes","view"])]),_:1},8,["themes","element","view"])]),key:"1"}]),1032,["themes","element"])]))}});const _o=V(Ge,[["__scopeId","data-v-1a603583"]]);export{_o as default};
