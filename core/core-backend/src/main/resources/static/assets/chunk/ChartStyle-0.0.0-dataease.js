import"./index-0.0.0-dataease.js";import{E as ie}from"./el-row-0.0.0-dataease.js";import{j as se}from"./index-0.0.0-dataease2.js";import me from"./MiscSelector-0.0.0-dataease.js";import ce from"./LabelSelector-0.0.0-dataease.js";import pe from"./TooltipSelector-0.0.0-dataease.js";import de from"./XAxisSelector-0.0.0-dataease.js";import he from"./YAxisSelector-0.0.0-dataease.js";import ue from"./DualYAxisSelector-0.0.0-dataease.js";import ye from"./TitleSelector-0.0.0-dataease.js";import{L as fe}from"./LegendSelector-0.0.0-dataease.js";import{d as ge}from"./dvMain-0.0.0-dataease.js";import{d as Ce,ai as be,t as xe,r as U,m as Y,w as Se,f as s,g as m,i as n,N as we,k as i,j as e,a0 as c,V as Ae,n as ve}from"./vue-0.0.0-dataease.js";import{C as b}from"./CollapseSwitchItem-0.0.0-dataease.js";import{a as D,E as f}from"./el-collapse-item-0.0.0-dataease.js";import Ve from"./BasicStyleSelector-0.0.0-dataease.js";import Fe from"./DualBasicStyleSelector-0.0.0-dataease.js";import{C as ke,B as Te,_ as Me,a as Oe}from"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import qe from"./TableHeaderSelector-0.0.0-dataease.js";import Ne from"./TableCellSelector-0.0.0-dataease.js";import Re from"./TableTotalSelector-0.0.0-dataease.js";import Be from"./MiscStyleSelector-0.0.0-dataease.js";import Ie from"./IndicatorValueSelector-0.0.0-dataease.js";import Le from"./IndicatorNameSelector-0.0.0-dataease.js";import Ee from"./QuadrantSelector-0.0.0-dataease.js";import _e from"./FlowMapLineSelector-0.0.0-dataease.js";import He from"./FlowMapPointSelector-0.0.0-dataease.js";import{_ as Pe}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./row-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./user-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import"./el-slider-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./index-0.0.0-dataease15.js";import"./index-0.0.0-dataease4.js";import"./el-tooltip-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-checkbox-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import"./el-select-0.0.0-dataease.js";import"./index-0.0.0-dataease14.js";import"./strings-0.0.0-dataease.js";import"./index-0.0.0-dataease5.js";import"./el-radio-group-0.0.0-dataease.js";import"./el-radio-0.0.0-dataease.js";import"./el-col-0.0.0-dataease.js";import"./el-form-item-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./chart-0.0.0-dataease.js";import"./formatter-0.0.0-dataease.js";import"./attr-0.0.0-dataease20.js";import"./field-list-0.0.0-dataease.js";import"./el-divider-0.0.0-dataease.js";import"./el-radio-button-0.0.0-dataease.js";import"./position-0.0.0-dataease.js";import"./el-space-0.0.0-dataease.js";import"./StringUtils-0.0.0-dataease.js";import"./el-tabs-0.0.0-dataease.js";import"./DualYAxisSelectorInner-0.0.0-dataease.js";import"./el-dialog-0.0.0-dataease.js";import"./use-dialog-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./icon_letter-spacing_outlined-0.0.0-dataease.js";import"./icon_italic_outlined-0.0.0-dataease.js";import"./icon_right-alignment_outlined-0.0.0-dataease.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./icon_bottom-align_outlined-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import"./chart-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";import"./el-switch-0.0.0-dataease.js";import"./index-0.0.0-dataease12.js";import"./el-upload-0.0.0-dataease.js";import"./el-progress-0.0.0-dataease.js";import"./CustomColorStyleSelect-0.0.0-dataease.js";import"./icon_admin_outlined-0.0.0-dataease.js";import"./el-popover-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./GradientColorSelector-0.0.0-dataease.js";import"./snapshot-0.0.0-dataease.js";import"./eventBus-0.0.0-dataease.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./imgUtils-0.0.0-dataease.js";import"./canvasUtils-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease.js";import"./board-list-0.0.0-dataease.js";import"./ImgViewDialog-0.0.0-dataease.js";import"./CustomAggrEdit-0.0.0-dataease.js";import"./icon_search-outline_outlined-0.0.0-dataease.js";import"./icon_adjustment_outlined-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./CodeMirror-0.0.0-dataease.js";import"./dataset-0.0.0-dataease.js";const Ue={class:"attr-style"},Ye=Ce({__name:"ChartStyle",props:{commonBackgroundPop:{type:Object,required:!1},commonBorderPop:{type:Object,required:!1},eventInfo:{type:Object,required:!1},chart:{type:Object,required:!0},themes:{type:String,default:"dark"},dimensionData:{type:Array,required:!0},quotaData:{type:Array,required:!0},properties:{type:Array,required:!1,default:()=>[]},propertyInnerAll:{type:Object,required:!1,default:()=>({})},selectorSpec:{type:Object,required:!1,default:()=>({})},allFields:{type:Array,required:!0}},emits:["onColorChange","onMiscChange","onLabelChange","onTooltipChange","onChangeXAxisForm","onChangeYAxisForm","onChangeYAxisExtForm","onTextChange","onLegendChange","onBasicStyleChange","onBackgroundChange","onStyleAttrChange","onTableHeaderChange","onTableCellChange","onTableTotalChange","onChangeMiscStyleForm","onExtTooltipChange","onIndicatorChange","onIndicatorNameChange","onChangeQuadrantForm","onChangeFlowMapLineForm","onChangeFlowMapPointForm"],setup(M,{emit:j}){const Q=ge(),{dvInfo:X,batchOptStatus:V,mobileInPc:F}=be(Q),{t:g}=se(),u={attrActiveNames:[],styleActiveNames:[],initReady:!0},x=M,{chart:o,themes:a,properties:z,propertyInnerAll:d,commonBackgroundPop:O,commonBorderPop:w,selectorSpec:k}=xe(x),p=j,q=U(),N=U(),$=Y(()=>!V.value&&X.value.type!=="dashboard"),W=Y(()=>!V.value&&["indicator","rich-text"].includes(o.value.type)&&x.eventInfo),h=r=>{var t;return(t=z.value)==null?void 0:t.includes(r)},A=(r,t)=>{p("onMiscChange",r,t)},R=(r,t)=>{u.initReady&&p("onLabelChange",r,t)},B=(r,t)=>{u.initReady&&p("onTooltipChange",r,t)},I=(r,t)=>{u.initReady&&p("onChangeXAxisForm",r,t)},v=(r,t)=>{t==="show"&&o.value.type.includes("chart-mix")&&(o.value.customStyle.yAxisExt.show=r.show,L(o.value.customStyle.yAxisExt,"show")),u.initReady&&p("onChangeYAxisForm",r,t)},L=(r,t)=>{u.initReady&&p("onChangeYAxisExtForm",r,t)},E=(r,t)=>{u.initReady&&p("onTextChange",r,t)},G=(r,t)=>{var y;const S={indicatorValue:r,indicatorName:void 0};(t==="color"||t==="suffixColor")&&(S.indicatorName=(y=N.value)==null?void 0:y.getFormData()),u.initReady&&p("onIndicatorChange",S,t)},_=(r,t)=>{var y;const S={indicatorName:r,indicatorValue:void 0};t==="color"&&(S.indicatorValue=(y=q.value)==null?void 0:y.getFormData()),u.initReady&&p("onIndicatorNameChange",S,t)},H=(r,t)=>{u.initReady&&p("onLegendChange",r,t)},T=(r,t)=>{u.initReady&&p("onBasicStyleChange",r,t)},J=(r,t)=>{u.initReady&&p("onBackgroundChange",r,t)},K=r=>{u.initReady&&p("onStyleAttrChange",{custom:"style",property:"active",value:w.value.borderActive})},Z=({key:r,value:t})=>{u.initReady&&p("onStyleAttrChange",{custom:"style",property:r,value:t})},P=(r,t)=>{p("onTableHeaderChange",r,t)},ee=(r,t)=>{p("onTableCellChange",r,t)},te=(r,t)=>{p("onTableTotalChange",r,t)},oe=(r,t)=>{p("onChangeMiscStyleForm",r,t)},re=r=>{p("onExtTooltipChange",r)},ae=r=>{p("onChangeQuadrantForm",r)},le=(r,t)=>{p("onChangeFlowMapLineForm",r,t)},ne=r=>{p("onChangeFlowMapPointForm",r)};return Se(()=>x.chart.id,()=>{u.initReady=!1,ve(()=>{u.initReady=!0})},{deep:!0}),(r,t)=>{const S=ie;return s(),m(S,{class:Ae(["view-panel","style-"+e(a)])},{default:n(()=>[we("div",Ue,[i(S,{class:"de-collapse-style"},{default:n(()=>[i(e(D),{modelValue:u.attrActiveNames,"onUpdate:modelValue":t[14]||(t[14]=y=>u.attrActiveNames=y),class:"style-collapse"},{default:n(()=>{var y;return[$.value?(s(),m(e(f),{key:0,effect:e(a),name:"position",title:"位置"},{default:n(()=>[i(ke,{themes:e(a)},null,8,["themes"])]),_:1},8,["effect"])):c("",!0),h("basic-style-selector")?(s(),m(e(f),{key:1,effect:e(a),name:"basicStyle",title:e(g)("chart.basic_style")},{default:n(()=>[i(Ve,{"property-inner":e(d)["basic-style-selector"],themes:e(a),chart:e(o),onOnBasicStyleChange:T,onOnMiscChange:A},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("dual-basic-style-selector")?(s(),m(e(f),{key:2,effect:e(a),name:"basicStyle",title:e(g)("chart.basic_style")},{default:n(()=>[i(Fe,{"property-inner":e(d)["dual-basic-style-selector"],themes:e(a),chart:e(o),onOnBasicStyleChange:T,onOnMiscChange:A},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("title-selector")?(s(),m(b,{key:3,themes:e(a),modelValue:e(o).customStyle.text.show,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).customStyle.text.show=l),"change-model":e(o).customStyle.text,onModelChange:t[1]||(t[1]=l=>E(l,"show")),name:"title",title:r.$t("chart.title")},{default:n(()=>[i(ye,{"property-inner":e(d)["title-selector"],themes:e(a),class:"attr-selector",chart:e(o),onOnTextChange:E},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("legend-selector")?(s(),m(b,{key:4,themes:e(a),modelValue:e(o).customStyle.legend.show,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).customStyle.legend.show=l),"change-model":e(o).customStyle.legend,onModelChange:t[3]||(t[3]=l=>H(l,"show")),name:"legend",title:r.$t("chart.legend")},{default:n(()=>[i(fe,{class:"attr-selector","property-inner":e(d)["legend-selector"],themes:e(a),chart:e(o),onOnLegendChange:H,onOnMiscChange:A},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("background-overall-component")&&e(O)?(s(),m(e(f),{key:5,effect:e(a),name:"background",title:"背景"},{default:n(()=>[i(Te,{"common-background-pop":e(O),themes:e(a),onOnBackgroundChange:J,"component-position":"component"},null,8,["common-background-pop","themes"])]),_:1},8,["effect"])):c("",!0),h("border-style")&&e(w)&&!e(V)?(s(),m(b,{key:6,modelValue:e(w).borderActive,"onUpdate:modelValue":t[4]||(t[4]=l=>e(w).borderActive=l),onModelChange:t[5]||(t[5]=l=>K(l)),themes:e(a),title:"边框",name:"borderSetting",class:"common-style-area"},{default:n(()=>[i(Me,{"style-info":e(w),themes:e(a),onOnStyleAttrChange:Z},null,8,["style-info","themes"])]),_:1},8,["modelValue","themes"])):c("",!0),W.value?(s(),m(e(f),{key:7,effect:e(a),name:"events",title:"事件"},{default:n(()=>[i(Oe,{themes:e(a),"events-info":M.eventInfo},null,8,["themes","events-info"])]),_:1},8,["effect"])):c("",!0),h("indicator-value-selector")?(s(),m(e(f),{key:8,effect:e(a),name:"indicator-value",title:"指标值"},{default:n(()=>[i(Ie,{ref_key:"indicatorValueRef",ref:q,"property-inner":e(d)["indicator-value-selector"],themes:e(a),class:"attr-selector",chart:e(o),"quota-fields":x.quotaData,onOnIndicatorChange:G},null,8,["property-inner","themes","chart","quota-fields"])]),_:1},8,["effect"])):c("",!0),h("indicator-name-selector")?(s(),m(b,{key:9,themes:e(a),modelValue:e(o).customAttr.indicatorName.show,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).customAttr.indicatorName.show=l),"change-model":e(o).customAttr.indicatorName,onModelChange:t[7]||(t[7]=l=>_(l,"show")),title:"指标名称",name:"indicator-name"},{default:n(()=>[i(Le,{ref_key:"indicatorNameRef",ref:N,"property-inner":e(d)["indicator-name-selector"],themes:e(a),class:"attr-selector",chart:e(o),"quota-fields":x.quotaData,onOnIndicatorNameChange:_},null,8,["property-inner","themes","chart","quota-fields"])]),_:1},8,["themes","modelValue","change-model"])):c("",!0),h("misc-selector")&&!e(o).type.includes("mix")?(s(),m(e(f),{key:10,effect:e(a),name:"size",title:"大小"},{default:n(()=>[i(me,{"property-inner":e(d)["misc-selector"],themes:e(a),class:"attr-selector",chart:e(o),"quota-fields":x.quotaData,"mobile-in-pc":e(F),onOnMiscChange:A},null,8,["property-inner","themes","chart","quota-fields","mobile-in-pc"])]),_:1},8,["effect"])):c("",!0),h("misc-style-selector")?(s(),m(e(f),{key:11,effect:e(a),name:"size",title:((y=e(k)["misc-style-selector"])==null?void 0:y.title)||e(g)("chart.tooltip_axis")},{default:n(()=>[i(Be,{"property-inner":e(d)["misc-style-selector"],themes:e(a),class:"attr-selector",chart:e(o),"quota-fields":x.quotaData,onOnChangeMiscStyleForm:oe},null,8,["property-inner","themes","chart","quota-fields"])]),_:1},8,["effect","title"])):c("",!0),h("label-selector")?(s(),m(b,{key:12,themes:e(a),modelValue:e(o).customAttr.label.show,"onUpdate:modelValue":t[8]||(t[8]=l=>e(o).customAttr.label.show=l),"change-model":e(o).customAttr.label,onModelChange:t[9]||(t[9]=l=>R({data:l},"show")),title:e(g)("chart.label"),name:"label"},{default:n(()=>[i(ce,{"property-inner":e(d)["label-selector"],themes:e(a),class:"attr-selector",chart:e(o),"all-fields":x.allFields,onOnLabelChange:R},null,8,["property-inner","themes","chart","all-fields"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("tooltip-selector")&&(!e(F)||e(F)&&e(o).type.indexOf("table")===-1)?(s(),m(b,{key:13,modelValue:e(o).customAttr.tooltip.show,"onUpdate:modelValue":t[10]||(t[10]=l=>e(o).customAttr.tooltip.show=l),themes:e(a),"change-model":e(o).customAttr.tooltip,title:e(g)("chart.tooltip"),"show-switch":e(d)["tooltip-selector"].includes("show"),name:"tooltip",onModelChange:t[11]||(t[11]=l=>B({data:l},"show"))},{default:n(()=>[i(pe,{class:"attr-selector","property-inner":e(d)["tooltip-selector"],themes:e(a),chart:e(o),"all-fields":x.allFields,onOnTooltipChange:B,onOnExtTooltipChange:re},null,8,["property-inner","themes","chart","all-fields"])]),_:1},8,["modelValue","themes","change-model","title","show-switch"])):c("",!0),h("table-header-selector")?(s(),m(b,{key:14,modelValue:e(o).customAttr.tableHeader.showTableHeader,"onUpdate:modelValue":t[12]||(t[12]=l=>e(o).customAttr.tableHeader.showTableHeader=l),"change-model":e(o).customAttr.tableHeader,effect:e(a),title:e(g)("chart.table_header"),"show-switch":e(d)["table-header-selector"].includes("showTableHeader"),name:"tableHeader",onModelChange:t[13]||(t[13]=l=>P(l,"showTableHeader"))},{default:n(()=>[i(qe,{"property-inner":e(d)["table-header-selector"],themes:e(a),chart:e(o),onOnTableHeaderChange:P},null,8,["property-inner","themes","chart"])]),_:1},8,["modelValue","change-model","effect","title","show-switch"])):c("",!0),h("table-cell-selector")?(s(),m(e(f),{key:15,effect:e(a),name:"tableCell",title:e(g)("chart.table_cell")},{default:n(()=>[i(Ne,{"property-inner":e(d)["table-cell-selector"],themes:e(a),chart:e(o),onOnTableCellChange:ee},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("table-total-selector")?(s(),m(e(f),{key:16,effect:e(a),name:"tableTotal",title:e(g)("chart.table_total")},{default:n(()=>[i(Re,{"property-inner":e(d)["table-total-selector"],themes:e(a),chart:e(o),onOnTableTotalChange:te},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("quadrant-selector")?(s(),m(e(f),{key:17,effect:e(a),name:"quadrant",title:e(g)("chart.quadrant")},{default:n(()=>[i(Ee,{class:"attr-selector","property-inner":e(d)["quadrant-selector"],themes:e(a),chart:e(o),onOnChangeQuadrantForm:ae},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("flow-map-line-selector")?(s(),m(e(f),{key:18,effect:e(a),name:"flowMapLineSelector",title:"线条"},{default:n(()=>[i(_e,{class:"attr-selector","property-inner":e(d)["flow-map-line-selector"],themes:e(a),chart:e(o),onOnChangeFlowMapLineForm:le,onOnBasicStyleChange:T},null,8,["property-inner","themes","chart"])]),_:1},8,["effect"])):c("",!0),h("flow-map-point-selector")?(s(),m(e(f),{key:19,effect:e(a),name:"flowMapPointSelector",title:"标注"},{default:n(()=>[i(He,{class:"attr-selector","property-inner":e(d)["flow-map-point-selector"],themes:e(a),chart:e(o),onOnChangeFlowMapPointForm:ne},null,8,["property-inner","themes","chart"])]),_:1},8,["effect"])):c("",!0)]}),_:1},8,["modelValue"]),i(e(D),{modelValue:u.styleActiveNames,"onUpdate:modelValue":t[21]||(t[21]=y=>u.styleActiveNames=y),class:"style-collapse"},{default:n(()=>{var y,l;return[h("x-axis-selector")?(s(),m(b,{key:0,themes:e(a),modelValue:e(o).customStyle.xAxis.show,"onUpdate:modelValue":t[15]||(t[15]=C=>e(o).customStyle.xAxis.show=C),"change-model":e(o).customStyle.xAxis,onModelChange:t[16]||(t[16]=C=>I(C,"show")),name:"xAxis",title:((y=e(k)["x-axis-selector"])==null?void 0:y.title)||e(g)("chart.xAxis")},{default:n(()=>[i(de,{class:"attr-selector","property-inner":e(d)["x-axis-selector"],themes:e(a),chart:e(o),onOnChangeXAxisForm:I},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("y-axis-selector")?(s(),m(b,{key:1,themes:e(a),modelValue:e(o).customStyle.yAxis.show,"onUpdate:modelValue":t[17]||(t[17]=C=>e(o).customStyle.yAxis.show=C),"change-model":e(o).customStyle.yAxis,onModelChange:t[18]||(t[18]=C=>v(C,"show")),name:"yAxis",title:e(g)("chart.yAxis")},{default:n(()=>[i(he,{class:"attr-selector","property-inner":e(d)["y-axis-selector"],themes:e(a),chart:e(o),onOnChangeYAxisForm:v},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("dual-y-axis-selector")?(s(),m(b,{key:2,themes:e(a),modelValue:e(o).customStyle.yAxis.show,"onUpdate:modelValue":t[19]||(t[19]=C=>e(o).customStyle.yAxis.show=C),"change-model":e(o).customStyle.yAxis,onModelChange:t[20]||(t[20]=C=>v(C,"show")),name:"yAxis",title:((l=e(k)["dual-y-axis-selector"])==null?void 0:l.title)??e(g)("chart.yAxis")},{default:n(()=>[i(ue,{class:"attr-selector","property-inner":e(d)["dual-y-axis-selector"],themes:e(a),chart:e(o),onOnChangeYAxisForm:v,onOnChangeYAxisExtForm:L},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0)]}),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["class"])}}});const jo=Pe(Ye,[["__scopeId","data-v-653a5552"]]);export{jo as default};
