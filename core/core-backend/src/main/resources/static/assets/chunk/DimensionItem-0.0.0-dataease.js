import{j as de,_ as A,e as ie}from"./index-0.0.0-dataease2.js";import"./index-0.0.0-dataease.js";import{a as le,b as me,E as ue}from"./el-dropdown-menu-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-dropdown-item-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{d as re,r as B,t as _e,m as M,w as pe,o as fe,e as O,f as o,M as H,k as n,i as t,V as y,g as i,N as c,a6 as h,a7 as _,j as e,a0 as u,ac as E,W as ye,q as Q,U as he,X as ve}from"./vue-0.0.0-dataease.js";import{i as R,a as ge,b as ke}from"./icon_sort_outlined-0.0.0-dataease.js";import{i as Z}from"./icon_delete-trash_outlined-0.0.0-dataease.js";import{i as be}from"./icon_down_outlined-1-0.0.0-dataease.js";import{i as N}from"./icon_right_outlined-0.0.0-dataease.js";import{i as v}from"./icon_done_outlined-0.0.0-dataease.js";import{i as xe}from"./icon_edit_outlined-0.0.0-dataease.js";import{g as we}from"./utils-0.0.0-dataease.js";import{f as x}from"./attr-0.0.0-dataease20.js";import{i as U}from"./field-list-0.0.0-dataease.js";import{E as Se}from"./index-0.0.0-dataease4.js";import{E as Te}from"./index-0.0.0-dataease14.js";import{_ as Ce}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./user-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";const De={class:"item-style"},Ie={key:0,style:{display:"flex",color:"#646a73"}},Me={key:1,style:{display:"flex",color:"#646a73"}},He={class:"item-span-style"},Ee={class:"item-name"},Ne={class:"inner-dropdown-menu menu-item-padding"},qe={class:"menu-item-content"},Pe={class:"summary-span-item"},Ve={class:"inner-dropdown-menu menu-item-padding"},$e={class:"menu-item-content"},je={class:"summary-span-item"},Fe={class:"inner-dropdown-menu menu-item-padding"},We={class:"menu-item-content"},ze={class:"summary-span-item"},Ae=re({__name:"DimensionItem",props:{param:{type:Object,required:!1},item:{type:Object,required:!0},index:{type:Number,required:!0},chart:{type:Object,required:!0},dimensionData:{type:Array,required:!0},quotaData:{type:Array,required:!0},themes:{type:String,default:"dark"},type:{type:String,required:!0}},emits:["onDimensionItemRemove","onCustomSort","onDimensionItemChange","onNameEdit","valueFormatter","onToggleHide"],setup(l,{emit:X}){const{t:r}=de(),I=B("success"),q=B(!1),s=l,k=X,{item:a}=_e(s),P=M(()=>s.themes==="dark"?"ndark":"dark"),V=M(()=>(s.chart.type==="table-normal"||s.chart.type==="table-info")&&(s.item.deType===2||s.item.deType===3));pe([()=>s.dimensionData,()=>s.item,()=>s.chart.type],()=>{F()},{deep:!0});const G=p=>{if(p)switch(p.type){case"rename":Y();break;case"remove":j();break;case"filter":break;case"formatter":ee();break;case"toggleHide":ae();break}},w=p=>({type:p}),J=p=>{if(p.type==="custom_sort"){const g={index:s.index,sort:p.type};k("onCustomSort",g)}else a.value.index=s.index,a.value.sort=p.type,a.value.customSort=[],delete a.value.axisType,k("onDimensionItemChange",a.value)},S=p=>({type:p}),K=p=>{a.value.dateStyle=p.type,a.value.axisType=s.type,k("onDimensionItemChange",a.value)},b=p=>({type:p}),L=p=>{a.value.datePattern=p.type,a.value.axisType=s.type,k("onDimensionItemChange",a.value)},$=p=>({type:p}),Y=()=>{a.value.index=s.index,a.value.renameType=s.type,k("onNameEdit",a.value)},j=()=>{a.value.index=s.index,a.value.removeType=s.type,k("onDimensionItemRemove",a.value)},F=()=>{I.value=we(s.dimensionData,s.quotaData,s.item)},ee=()=>{a.value.index=s.index,a.value.formatterType=s.type,k("valueFormatter",a.value)},te=p=>s.chart.type==="symbolic-map"||s.chart.type==="flow-map"?!1:!p.chartId&&(p.deType===0||p.deType===5),ne=()=>{const p=s.type==="extColor",g=s.chart.type.includes("chart-mix"),m=s.type==="dimension"||s.type==="dimensionStack"||s.type==="dimensionExt";return p?!1:!g||m},ae=()=>{a.value.index=s.index,a.value.hide=!a.value.hide,a.value.axisType=s.type,k("onToggleHide",a.value)},se=M(()=>["table-info","table-normal"].includes(s.chart.type)&&a.value.hide);return fe(()=>{F()}),(p,g)=>{const m=A,d=ie,W=Se,z=O("Hide"),oe=Te,f=le,T=me,C=ue,D=A,ce=O("View");return o(),H("span",De,[n(C,{effect:l.themes,trigger:"click",onCommand:G},{dropdown:t(()=>[n(T,{effect:l.themes,class:y(["drop-style",l.themes==="dark"?"dark-dimension-quota":""])},{default:t(()=>[ne()?(o(),i(f,{key:0,onClick:g[0]||(g[0]=E(()=>{},["prevent"]))},{default:t(()=>[n(C,{effect:l.themes,"popper-class":"data-dropdown_popper_mr9",placement:"right-start",style:{width:"100%",height:"100%"},onCommand:J},{dropdown:t(()=>[n(T,{effect:l.themes,class:y(["drop-style sub",l.themes==="dark"?"dark-dimension-quota":""])},{default:t(()=>[n(f,{class:"menu-item-padding",command:S("none")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).sort==="none"?"content-active":""])},[h(_(e(r)("chart.none"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).sort==="none"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"]),n(f,{class:"menu-item-padding",command:S("asc")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).sort==="asc"?"content-active":""])},[h(_(e(r)("chart.asc"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).sort==="asc"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"]),n(f,{class:"menu-item-padding",command:S("desc")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).sort==="desc"?"content-active":""])},[h(_(e(r)("chart.desc"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).sort==="desc"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"]),te(e(a))?(o(),i(f,{key:0,class:"menu-item-padding",command:S("custom_sort")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).sort==="custom_sort"?"content-active":""])},[h(_(e(r)("chart.custom_sort"))+_(e(r)("chart.sort"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).sort==="custom_sort"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"])):u("",!0)]),_:1},8,["effect","class"])]),default:t(()=>[c("span",Ne,[c("span",qe,[n(d,null,{default:t(()=>[n(m,{name:"icon_sort_outlined"},{default:t(()=>[n(e(R),{class:"svg-icon"})]),_:1})]),_:1}),c("span",null,_(e(r)("chart.sort")),1),c("span",Pe,"("+_(e(r)("chart."+s.item.sort))+")",1)]),n(d,null,{default:t(()=>[n(m,{name:"icon_right_outlined"},{default:t(()=>[n(e(N),{class:"svg-icon"})]),_:1})]),_:1})])]),_:1},8,["effect"])]),_:1})):u("",!0),e(a).deType===1?(o(),i(f,{key:1,onClick:g[1]||(g[1]=E(()=>{},["prevent"])),divided:!l.chart.type.includes("chart-mix")||l.chart.type.includes("chart-mix")&&(l.type==="dimension"||l.type==="dimensionStack"||l.type==="dimensionExt")},{default:t(()=>[n(C,{effect:l.themes,placement:"right-start","popper-class":"data-dropdown_popper_mr9",style:{width:"100%",height:"100%"},onCommand:K},{dropdown:t(()=>[n(T,{effect:l.themes,class:y(["drop-style sub",l.themes==="dark"?"dark-dimension-quota":""])},{default:t(()=>[n(f,{class:"menu-item-padding",command:b("y")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).dateStyle==="y"?"content-active":""])},[h(_(e(r)("chart.y"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).dateStyle==="y"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"]),q.value?(o(),i(f,{key:0,class:"menu-item-padding",command:b("y_Q")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).dateStyle==="y_Q"?"content-active":""])},[h(_(e(r)("chart.y_Q"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).dateStyle==="y_Q"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"])):u("",!0),n(f,{class:"menu-item-padding",command:b("y_M")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).dateStyle==="y_M"?"content-active":""])},[h(_(e(r)("chart.y_M"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).dateStyle==="y_M"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"]),q.value?(o(),i(f,{key:1,class:"menu-item-padding",command:b("y_W")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).dateStyle==="y_W"?"content-active":""])},[h(_(e(r)("chart.y_W"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).dateStyle==="y_W"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"])):u("",!0),n(f,{class:"menu-item-padding",command:b("y_M_d")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).dateStyle==="y_M_d"?"content-active":""])},[h(_(e(r)("chart.y_M_d"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).dateStyle==="y_M_d"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"]),l.chart.type.includes("bar-range")?u("",!0):(o(),i(f,{key:2,class:"menu-item-padding",command:b("H_m_s"),divided:""},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).dateStyle==="H_m_s"?"content-active":""])},[h(_(e(r)("chart.H_m_s"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).dateStyle==="H_m_s"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"])),n(f,{class:"menu-item-padding",command:b("y_M_d_H_m"),divided:l.chart.type.includes("bar-range")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).dateStyle==="y_M_d_H_m"?"content-active":""])},[h(_(e(r)("chart.y_M_d_H_m"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).dateStyle==="y_M_d_H_m"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command","divided"]),n(f,{class:"menu-item-padding",command:b("y_M_d_H_m_s")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).dateStyle==="y_M_d_H_m_s"?"content-active":""])},[h(_(e(r)("chart.y_M_d_H_m_s"))+" ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).dateStyle==="y_M_d_H_m_s"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"])]),_:1},8,["effect","class"])]),default:t(()=>[c("span",Ve,[c("span",$e,[n(d),c("span",null,_(e(r)("chart.dateStyle")),1),c("span",je,"("+_(e(r)("chart."+e(a).dateStyle))+")",1)]),n(d,null,{default:t(()=>[n(m,{name:"icon_right_outlined"},{default:t(()=>[n(e(N),{class:"svg-icon"})]),_:1})]),_:1})])]),_:1},8,["effect"])]),_:1},8,["divided"])):u("",!0),e(a).deType===1?(o(),i(f,{key:2,onClick:g[2]||(g[2]=E(()=>{},["prevent"]))},{default:t(()=>[n(C,{effect:l.themes,placement:"right-start","popper-class":"data-dropdown_popper_mr9",style:{width:"100%",height:"100%"},onCommand:L},{dropdown:t(()=>[n(T,{effect:l.themes,class:y(["drop-style sub",l.themes==="dark"?"dark-dimension-quota":""])},{default:t(()=>[n(f,{class:"menu-item-padding",command:$("date_sub")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).datePattern==="date_sub"?"content-active":""])},[h(_(e(r)("chart.date_sub"))+"(1990-01-01) ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).datePattern==="date_sub"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"]),n(f,{class:"menu-item-padding",command:$("date_split")},{default:t(()=>[c("span",{class:y(["sub-menu-content",e(a).datePattern==="date_split"?"content-active":""])},[h(_(e(r)("chart.date_split"))+"(1990/01/01) ",1),n(d,{class:"sub-menu-content--icon"},{default:t(()=>[e(a).datePattern==="date_split"?(o(),i(m,{key:0,name:"icon_done_outlined"},{default:t(()=>[n(e(v),{class:"svg-icon"})]),_:1})):u("",!0)]),_:1})],2)]),_:1},8,["command"])]),_:1},8,["effect","class"])]),default:t(()=>[c("span",Fe,[c("span",We,[n(d),c("span",null,_(e(r)("chart.datePattern")),1),c("span",ze,"("+_(e(r)("chart."+e(a).datePattern))+")",1)]),n(d,null,{default:t(()=>[n(m,{name:"icon_right_outlined"},{default:t(()=>[n(e(N),{class:"svg-icon"})]),_:1})]),_:1})])]),_:1},8,["effect"])]),_:1})):u("",!0),n(f,{class:"menu-item-padding",divided:!l.chart.type.includes("chart-mix")||l.chart.type.includes("chart-mix")&&(l.type==="dimension"||l.type==="dimensionStack"||l.type==="dimensionExt"),command:w("rename")},{default:t(()=>[n(d,null,{default:t(()=>[n(D,{name:"icon_edit_outlined"},{default:t(()=>[n(e(xe),{class:"svg-icon"})]),_:1})]),_:1}),c("span",null,_(e(r)("chart.show_name_set")),1)]),_:1},8,["divided","command"]),["table-normal","table-info"].includes(l.chart.type)?(o(),i(f,{key:3,class:"menu-item-padding",command:w("toggleHide")},{default:t(()=>[n(d,null,{default:t(()=>[e(a).hide===!0?(o(),i(D,{key:0,name:"view"},{default:t(()=>[n(ce,{class:"svg-icon"})]),_:1})):(o(),i(D,{key:1,name:"hide"},{default:t(()=>[n(z,{class:"svg-icon"})]),_:1}))]),_:1}),c("span",null,_(e(a).hide===!0?e(r)("chart.show"):e(r)("chart.hide")),1)]),_:1},8,["command"])):u("",!0),V.value?(o(),i(f,{key:4,class:"menu-item-padding",divided:!V.value,command:w("formatter")},{default:t(()=>[n(d),c("span",null,_(e(r)("chart.value_formatter"))+"...",1)]),_:1},8,["divided","command"])):u("",!0),n(f,{class:"menu-item-padding",divided:"",command:w("remove")},{default:t(()=>[n(d,null,{default:t(()=>[n(D,{name:"icon_delete-trash_outlined"},{default:t(()=>[n(e(Z),{class:"svg-icon"})]),_:1})]),_:1}),c("span",null,_(e(r)("chart.delete")),1)]),_:1},8,["command"])]),_:1},8,["effect","class"])]),default:t(()=>[n(oe,{class:y(["item-axis father",["editor-"+s.themes,`${l.themes}_icon-right`]]),style:ye({backgroundColor:I.value+"0a",border:"1px solid "+I.value})},{default:t(()=>[l.type!=="extColor"?(o(),H("span",Ie,[e(a).sort==="asc"?(o(),i(d,{key:0},{default:t(()=>[n(m,{name:"icon_sort-a-to-z_outlined"},{default:t(()=>[n(e(ge),{class:"svg-icon"})]),_:1})]),_:1})):u("",!0),e(a).sort==="desc"?(o(),i(d,{key:1},{default:t(()=>[n(m,{name:"icon_sort-z-to-a_outlined"},{default:t(()=>[n(e(ke),{class:"svg-icon"})]),_:1})]),_:1})):u("",!0),e(a).sort==="custom_sort"?(o(),i(d,{key:2},{default:t(()=>[n(m,{name:"icon_sort_outlined"},{default:t(()=>[n(e(R),{class:"svg-icon"})]),_:1})]),_:1})):u("",!0),n(d,null,{default:t(()=>[n(m,{className:`field-icon-${e(x)[[2,3].includes(e(a).deType)?2:0]}`},{default:t(()=>[(o(),i(Q(e(U)[e(x)[e(a).deType]]),{class:y(["svg-icon",`field-icon-${e(x)[[2,3].includes(e(a).deType)?2:0]}`])},null,8,["class"]))]),_:1},8,["className"])]),_:1})])):u("",!0),l.type==="extColor"?(o(),H("span",Me,[n(d,null,{default:t(()=>[n(m,{className:`field-icon-${e(x)[[2,3].includes(e(a).deType)?2:0]}`,name:`field_${e(x)[e(a).deType]}`},{default:t(()=>[(o(),i(Q(e(U)[e(x)[e(a).deType]]),{class:y(["svg-icon",`field-icon-${e(x)[[2,3].includes(e(a).deType)?2:0]}`])},null,8,["class"]))]),_:1},8,["className","name"])]),_:1})])):u("",!0),n(W,{effect:P.value,placement:"top",content:e(a).chartShowName?e(a).chartShowName:e(a).name},{default:t(()=>[c("span",He,[c("span",Ee,_(e(a).chartShowName?e(a).chartShowName:e(a).name),1)])]),_:1},8,["effect","content"]),n(d,{style:{"margin-left":"8px"}},{default:t(()=>[n(m,null,{default:t(()=>[he(n(z,{class:"svg-icon inner-class"},null,512),[[ve,se.value]])]),_:1})]),_:1}),n(W,{effect:P.value,placement:"top"},{content:t(()=>[c("span",null,_(e(r)("chart.delete")),1)]),default:t(()=>[n(d,{class:"child remove-icon"},{default:t(()=>[n(m,null,{default:t(()=>[n(e(Z),{onClick:j,class:"svg-icon inner-class"})]),_:1})]),_:1})]),_:1},8,["effect"]),n(d,{class:"child",style:{position:"absolute",top:"7px",right:"10px",cursor:"pointer"}},{default:t(()=>[n(m,{name:"icon_down_outlined-1"},{default:t(()=>[n(e(be),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["class","style"])]),_:1},8,["effect"])])}}});const yt=Ce(Ae,[["__scopeId","data-v-21cfd105"]]);export{yt as default};
