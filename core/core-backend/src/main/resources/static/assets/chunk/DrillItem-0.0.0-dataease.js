import{j as F,_ as q,e as O}from"./index-0.0.0-dataease2.js";import"./index-0.0.0-dataease.js";import{a as Z,b as W,E as G}from"./el-dropdown-menu-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-dropdown-item-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{d as H,r as J,t as K,w as L,o as P,f as d,M as S,k as e,i as o,V as f,g as _,N as c,a6 as k,a7 as r,j as t,a0 as p,ac as Q,W as U,Z as X,q as Y}from"./vue-0.0.0-dataease.js";import{i as z}from"./icon_delete-trash_outlined-0.0.0-dataease.js";import{i as ee}from"./icon_down_outlined-1-0.0.0-dataease.js";import{i as j,a as te,b as oe}from"./icon_sort_outlined-0.0.0-dataease.js";import{i as ne}from"./icon_right_outlined-0.0.0-dataease.js";import{i as x}from"./icon_done_outlined-0.0.0-dataease.js";import{i as se}from"./icon_edit_outlined-0.0.0-dataease.js";import{g as ae}from"./utils-0.0.0-dataease.js";import{f as b}from"./attr-0.0.0-dataease20.js";import{i as ce}from"./field-list-0.0.0-dataease.js";import{E as ie}from"./index-0.0.0-dataease4.js";import{E as le}from"./index-0.0.0-dataease14.js";import{_ as me}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./user-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";const de={class:"item-style"},re={style:{display:"flex",color:"#646a73"}},ue={class:"item-span-style"},_e={class:"item-name"},pe={class:"inner-dropdown-menu menu-item-padding"},fe={class:"menu-item-content"},he={class:"summary-span-item"},ye=H({__name:"DrillItem",props:{param:{type:Object,required:!1},item:{type:Object,required:!0},chart:{type:Object,required:!0},index:{type:Number,required:!0},dimensionData:{type:Array,required:!0},quotaData:{type:Array,required:!0},themes:{type:String,default:"dark"}},emits:["onDimensionItemRemove","onCustomSort","onDimensionItemChange","onNameEdit"],setup(l,{emit:M}){const{t:u}=F(),w=J("success"),a=l,y=M,{item:n}=K(a);L([()=>a.dimensionData,()=>a.item,()=>a.chart.type],()=>{T()},{deep:!0});const V=m=>{if(m)switch(m.type){case"rename":A();break;case"remove":I();break}},D=m=>({type:m}),I=()=>{n.value.index=a.index,y("onDimensionItemRemove",n.value)},T=()=>{w.value=ae(a.dimensionData,a.quotaData,a.item)},A=()=>{n.value.index=a.index,n.value.renameType="drillFields",y("onNameEdit",n.value)},B=m=>{if(m.type==="custom_sort"){const v={index:a.index,sort:m.type};y("onCustomSort",v)}else n.value.index=a.index,n.value.sort=m.type,n.value.customSort=[],delete n.value.axisType,y("onDimensionItemChange",n.value)},g=m=>({type:m});return P(()=>{T()}),(m,v)=>{const i=q,s=O,R=ie,$=le,h=Z,C=W,N=G,E=q;return d(),S("span",de,[e(N,{effect:l.themes,trigger:"click",size:"mini",onCommand:V},{dropdown:o(()=>[e(C,{effect:l.themes,class:f(["drop-style",l.themes==="dark"?"dark-dimension-quota":""])},{default:o(()=>[l.index!==0?(d(),_(h,{key:0,onClick:v[0]||(v[0]=Q(()=>{},["prevent"]))},{default:o(()=>[e(N,{effect:l.themes,"popper-class":"data-dropdown_popper_mr9",placement:"right-start",style:{width:"100%",height:"100%"},onCommand:B},{dropdown:o(()=>[e(C,{effect:l.themes,class:f(["drop-style sub",l.themes==="dark"?"dark-dimension-quota":""])},{default:o(()=>[e(h,{class:"menu-item-padding",command:g("none")},{default:o(()=>[c("span",{class:f(["sub-menu-content",t(n).sort==="none"?"content-active":""])},[k(r(t(u)("chart.none"))+" ",1),e(s,{class:"sub-menu-content--icon"},{default:o(()=>[t(n).sort==="none"?(d(),_(i,{key:0,name:"icon_done_outlined"},{default:o(()=>[e(t(x),{class:"svg-icon"})]),_:1})):p("",!0)]),_:1})],2)]),_:1},8,["command"]),e(h,{class:"menu-item-padding",command:g("asc")},{default:o(()=>[c("span",{class:f(["sub-menu-content",t(n).sort==="asc"?"content-active":""])},[k(r(t(u)("chart.asc"))+" ",1),e(s,{class:"sub-menu-content--icon"},{default:o(()=>[t(n).sort==="asc"?(d(),_(i,{key:0,name:"icon_done_outlined"},{default:o(()=>[e(t(x),{class:"svg-icon"})]),_:1})):p("",!0)]),_:1})],2)]),_:1},8,["command"]),e(h,{class:"menu-item-padding",command:g("desc")},{default:o(()=>[c("span",{class:f(["sub-menu-content",t(n).sort==="desc"?"content-active":""])},[k(r(t(u)("chart.desc"))+" ",1),e(s,{class:"sub-menu-content--icon"},{default:o(()=>[t(n).sort==="desc"?(d(),_(i,{key:0,name:"icon_done_outlined"},{default:o(()=>[e(t(x),{class:"svg-icon"})]),_:1})):p("",!0)]),_:1})],2)]),_:1},8,["command"]),e(h,{class:"menu-item-padding",command:g("custom_sort")},{default:o(()=>[c("span",{class:f(["sub-menu-content",t(n).sort==="custom_sort"?"content-active":""])},[k(r(t(u)("chart.custom_sort"))+r(t(u)("chart.sort"))+" ",1),e(s,{class:"sub-menu-content--icon"},{default:o(()=>[t(n).sort==="custom_sort"?(d(),_(i,{key:0,name:"icon_done_outlined"},{default:o(()=>[e(t(x),{class:"svg-icon"})]),_:1})):p("",!0)]),_:1})],2)]),_:1},8,["command"])]),_:1},8,["effect","class"])]),default:o(()=>[c("span",pe,[c("span",fe,[e(s,null,{default:o(()=>[e(i,{name:"icon_sort_outlined"},{default:o(()=>[e(t(j),{class:"svg-icon"})]),_:1})]),_:1}),c("span",null,r(t(u)("chart.sort")),1),c("span",he,"("+r(t(u)("chart."+a.item.sort))+")",1)]),e(s,null,{default:o(()=>[e(i,{name:"icon_right_outlined"},{default:o(()=>[e(t(ne),{class:"svg-icon"})]),_:1})]),_:1})])]),_:1},8,["effect"])]),_:1})):p("",!0),e(h,{class:"menu-item-padding",command:D("rename")},{default:o(()=>[e(s,null,{default:o(()=>[e(E,{name:"icon_edit_outlined"},{default:o(()=>[e(t(se),{class:"svg-icon"})]),_:1})]),_:1}),c("span",null,r(t(u)("chart.show_name_set")),1)]),_:1},8,["command"]),e(h,{class:"menu-item-padding",divided:"",command:D("remove")},{default:o(()=>[e(s,null,{default:o(()=>[e(E,{name:"icon_delete-trash_outlined"},{default:o(()=>[e(t(z),{class:"svg-icon"})]),_:1})]),_:1}),c("span",null,r(t(u)("chart.delete")),1)]),_:1},8,["command"])]),_:1},8,["effect","class"])]),default:o(()=>[e($,{class:f(["item-axis father",["editor-"+a.themes,`${l.themes}_icon-right`]]),style:U({backgroundColor:w.value+"0a",border:"1px solid "+w.value})},{default:o(()=>[c("span",re,[l.index!==0?(d(),S(X,{key:0},[t(n).sort==="asc"?(d(),_(s,{key:0},{default:o(()=>[e(i,{name:"icon_sort-a-to-z_outlined"},{default:o(()=>[e(t(te),{class:"svg-icon"})]),_:1})]),_:1})):p("",!0),t(n).sort==="desc"?(d(),_(s,{key:1},{default:o(()=>[e(i,{name:"icon_sort-z-to-a_outlined"},{default:o(()=>[e(t(oe),{class:"svg-icon"})]),_:1})]),_:1})):p("",!0),t(n).sort==="custom_sort"?(d(),_(s,{key:2},{default:o(()=>[e(i,{name:"icon_sort_outlined"},{default:o(()=>[e(t(j),{class:"svg-icon"})]),_:1})]),_:1})):p("",!0)],64)):p("",!0),e(s,null,{default:o(()=>[e(i,{className:`field-icon-${t(b)[[2,3].includes(t(n).deType)?2:0]}`},{default:o(()=>[(d(),_(Y(t(ce)[t(b)[t(n).deType]]),{class:f(["svg-icon",`field-icon-${t(b)[[2,3].includes(t(n).deType)?2:0]}`])},null,8,["class"]))]),_:1},8,["className"])]),_:1})]),e(R,{effect:l.themes==="dark"?"ndark":"dark",placement:"top",content:t(n).chartShowName?t(n).chartShowName:t(n).name},{default:o(()=>[c("span",ue,[c("span",_e,r(t(n).chartShowName?t(n).chartShowName:t(n).name),1)])]),_:1},8,["effect","content"]),e(s,{class:"child remove-icon",size:"14px"},{default:o(()=>[e(i,{name:"icon_delete-trash_outlined","class-name":"inner-class"},{default:o(()=>[e(t(z),{onClick:I,class:"svg-icon inner-class"})]),_:1})]),_:1}),e(s,{class:"child",style:{position:"absolute",top:"7px",right:"10px",color:"#a6a6a6",cursor:"pointer"}},{default:o(()=>[e(i,{name:"icon_down_outlined-1"},{default:o(()=>[e(t(ee),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["class","style"])]),_:1},8,["effect"])])}}});const Je=me(ye,[["__scopeId","data-v-6d0dd0ed"]]);export{Je as default};
