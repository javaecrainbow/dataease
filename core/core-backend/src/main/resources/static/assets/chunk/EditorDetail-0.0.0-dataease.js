import{p as W}from"./index-0.0.0-dataease.js";import{E as Nl}from"./el-dialog-0.0.0-dataease.js";import{j as D,w as le,_ as A,k as Ol,x as Be,y as Rl,n as El,e as Pl}from"./index-0.0.0-dataease2.js";import{E as ql}from"./el-date-picker-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import{E as ie,a as fe}from"./el-checkbox-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{E as jl,a as Il}from"./el-select-0.0.0-dataease.js";import{E as ae}from"./el-input-number-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import{E as oe,a as Ll}from"./el-radio-0.0.0-dataease.js";import{a as ll,E as al}from"./el-table-column-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{_ as Al}from"./HandleMore.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{E as Wl}from"./el-row-0.0.0-dataease.js";import{E as Hl}from"./el-popover-0.0.0-dataease.js";import{E as Ml}from"./el-col-0.0.0-dataease.js";import{E as ol,a as tl}from"./el-tabs-0.0.0-dataease.js";import{E as _e,a as Dl}from"./el-form-item-0.0.0-dataease.js";import{d as B,r as b,_ as H,m as M,al as te,w as R,f,M as w,N as p,k as o,i as u,a6 as V,a7 as d,j as l,Z as O,aa as I,g as S,a0 as k,t as Bl,ab as Fl,U as Q,X as se,V as ye,ac as re,q as ze,ad as Fe,n as Ke}from"./vue-0.0.0-dataease.js";import{i as Ge}from"./icon_calendar_outlined-0.0.0-dataease.js";import{i as Kl}from"./icon_rename_outlined-0.0.0-dataease.js";import{i as Je}from"./icon_down_outlined-0.0.0-dataease.js";import{i as Xe}from"./icon_down_outlined-1-0.0.0-dataease.js";import{i as Ye}from"./icon_add_outlined-0.0.0-dataease.js";import{d as Gl}from"./de-copy-0.0.0-dataease.js";import{d as Jl}from"./de-delete-0.0.0-dataease.js";import{i as Xl}from"./icon_warning_filled-0.0.0-dataease.js";import{i as Ze}from"./icon_delete-trash_outlined-0.0.0-dataease.js";import{i as Yl}from"./icon_edit_outlined-0.0.0-dataease.js";import{E as Zl}from"./EmptyBackground-0.0.0-dataease.js";import{_ as Ql}from"./ApiHttpRequestDraw.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{f as Qe,a as ea}from"./attr-0.0.0-dataease20.js";import{d as la}from"./datasource-0.0.0-dataease.js";import{g as aa}from"./base64-0.0.0-dataease.js";import{_ as be}from"./CustomPassword.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import"./el-checkbox-group-0.0.0-dataease.js";import{i as oa}from"./field-list-0.0.0-dataease.js";import{d as ee}from"./lodash-0.0.0-dataease.js";import{E as ta}from"./index-0.0.0-dataease4.js";import{_ as na}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./use-dialog-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./user-0.0.0-dataease.js";import"./dayjs.min-0.0.0-dataease.js";import"./arrays-0.0.0-dataease.js";import"./index-0.0.0-dataease15.js";import"./index-0.0.0-dataease5.js";import"./index-0.0.0-dataease14.js";import"./strings-0.0.0-dataease.js";import"./el-dropdown-menu-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./el-dropdown-item-0.0.0-dataease.js";import"./row-0.0.0-dataease.js";import"./el-empty-0.0.0-dataease.js";import"./none-0.0.0-dataease.js";import"./nothing-tree-0.0.0-dataease.js";import"./el-drawer-0.0.0-dataease.js";import"./el-virtual-list-0.0.0-dataease.js";import"./el-table-v2-0.0.0-dataease.js";import"./browser-0.0.0-dataease.js";import"./icon_expand-right_filled-0.0.0-dataease.js";import"./ApiHttpRequestForm-0.0.0-dataease.js";import"./ApiKeyValue.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./ApiTestModel-0.0.0-dataease.js";import"./icon_drag_outlined-0.0.0-dataease.js";import"./vuedraggable-es-0.0.0-dataease.js";import"./ApiBody-0.0.0-dataease.js";import"./ApiVariable-0.0.0-dataease.js";import"./util-0.0.0-dataease.js";import"./CodeEdit.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./ApiAuthConfig.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./icon_visible_outlined-0.0.0-dataease.js";import"./icon_invisible_outlined-0.0.0-dataease.js";const ua={style:{"margin-left":"10px","margin-right":"5px"}},sa={style:{"margin-left":"5px","margin-right":"5px"}},ra={style:{"margin-left":"10px","margin-right":"5px"}},ia={style:{"margin-left":"5px","margin-right":"5px"}},el=B({__name:"SecondAndMinute",props:{modelValue:W.string.def("?"),label:W.string.def("")},emits:["update:modelValue"],setup(N,{emit:E}){const a=N,{t:m}=D(),e=b("1"),T=b(0),$=b(0),s=H({cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},appoint:[]}),z=M(()=>{const c=[];switch(e.value){case"1":c.push("*");break;case"2":c.push(`${s.cycle.start}-${s.cycle.end}`);break;case"3":c.push(`${s.loop.start}/${s.loop.end}`);break;case"4":c.push(s.appoint.join(","));break;case"6":c.push(`${$.value===0?"":$.value}L`);break;default:c.push("?");break}return c.join("")});te(()=>{h()}),R(()=>a.modelValue,()=>{h()}),R(()=>z.value,()=>{C("update:modelValue",z.value)});const h=()=>{a.modelValue&&(a.modelValue==="?"?e.value="5":a.modelValue.indexOf("-")!==-1?a.modelValue.split("-").length===2&&(e.value="2",s.cycle.start=a.modelValue.split("-")[0],s.cycle.end=a.modelValue.split("-")[1]):a.modelValue.indexOf("/")!==-1?a.modelValue.split("/").length===2&&(e.value="3",s.loop.start=a.modelValue.split("/")[0],s.loop.end=a.modelValue.split("/")[1]):a.modelValue.indexOf("*")!==-1?e.value="1":a.modelValue.indexOf("L")!==-1?(e.value="6",$.value=a.modelValue.replace("L","")):a.modelValue.indexOf("#")!==-1?a.modelValue.split("#").length===2&&(e.value="7",s.week.start=a.modelValue.split("#")[0],s.week.end=a.modelValue.split("#")[1]):a.modelValue.indexOf("W")!==-1?(e.value="8",T.value=a.modelValue.replace("W","")):(e.value="4",s.appoint=a.modelValue.split(",")))},C=E;return(c,t)=>{const y=oe,U=ae,x=ie,L=fe;return f(),w("div",null,[p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value=r),label:"1",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.every"))+d(N.label),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value=r),label:"2",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.cycle")),1)]),_:1},8,["modelValue"]),p("span",ua,d(l(m)("cron.from")),1),o(U,{modelValue:s.cycle.start,"onUpdate:modelValue":t[2]||(t[2]=r=>s.cycle.start=r),min:1,max:59,size:"small",style:{width:"100px"},onChange:t[3]||(t[3]=r=>e.value="2")},null,8,["modelValue"]),p("span",sa,d(l(m)("cron.to")),1),o(U,{modelValue:s.cycle.end,"onUpdate:modelValue":t[4]||(t[4]=r=>s.cycle.end=r),min:2,max:59,size:"small",style:{width:"100px"},onChange:t[5]||(t[5]=r=>e.value="2")},null,8,["modelValue"]),V(" "+d(N.label),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[6]||(t[6]=r=>e.value=r),label:"3",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.repeat")),1)]),_:1},8,["modelValue"]),p("span",ra,d(l(m)("cron.from")),1),o(U,{modelValue:s.loop.start,"onUpdate:modelValue":t[7]||(t[7]=r=>s.loop.start=r),min:0,max:59,size:"small",style:{width:"100px"},onChange:t[8]||(t[8]=r=>e.value="3")},null,8,["modelValue"]),p("span",ia,d(N.label)+d(l(m)("cron.every_begin")),1),o(U,{modelValue:s.loop.end,"onUpdate:modelValue":t[9]||(t[9]=r=>s.loop.end=r),min:1,max:59,size:"small",style:{width:"100px"},onChange:t[10]||(t[10]=r=>e.value="3")},null,8,["modelValue"]),V(" "+d(N.label)+d(l(m)("cron.every_exec")),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[11]||(t[11]=r=>e.value=r),label:"4",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.set")),1)]),_:1},8,["modelValue"]),o(L,{modelValue:s.appoint,"onUpdate:modelValue":t[13]||(t[13]=r=>s.appoint=r)},{default:u(()=>[(f(),w(O,null,I(6,r=>p("div",{key:r,style:{"margin-left":"10px","line-height":"25px"}},[(f(),w(O,null,I(10,P=>o(x,{key:P,label:r-1+""+(P-1),onChange:t[12]||(t[12]=Ve=>e.value="4")},null,8,["label"])),64))])),64))]),_:1},8,["modelValue"])])])}}}),da={style:{"margin-left":"10px","margin-right":"5px"}},ma={style:{"margin-left":"5px","margin-right":"5px"}},pa={style:{"margin-left":"10px","margin-right":"5px"}},ca={style:{"margin-left":"5px","margin-right":"5px"}},fa=B({__name:"Hour",props:{modelValue:W.string.def("?")},emits:["update:modelValue"],setup(N,{emit:E}){const a=N,{t:m}=D(),e=b("1"),T=b(0),$=b(0),s=H({cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},appoint:[]}),z=M(()=>{const c=[];switch(e.value){case"1":c.push("*");break;case"2":c.push(`${s.cycle.start}-${s.cycle.end}`);break;case"3":c.push(`${s.loop.start}/${s.loop.end}`);break;case"4":c.push(s.appoint.join(","));break;case"6":c.push(`${$.value===0?"":$.value}L`);break;default:c.push("?");break}return c.join("")});te(()=>{h()}),R(()=>a.modelValue,()=>{h()}),R(()=>z.value,()=>{C("update:modelValue",z.value)});const h=()=>{a.modelValue&&(a.modelValue==="?"?e.value="5":a.modelValue.indexOf("-")!==-1?a.modelValue.split("-").length===2&&(e.value="2",s.cycle.start=a.modelValue.split("-")[0],s.cycle.end=a.modelValue.split("-")[1]):a.modelValue.indexOf("/")!==-1?a.modelValue.split("/").length===2&&(e.value="3",s.loop.start=a.modelValue.split("/")[0],s.loop.end=a.modelValue.split("/")[1]):a.modelValue.indexOf("*")!==-1?e.value="1":a.modelValue.indexOf("L")!==-1?(e.value="6",$.value=a.modelValue.replace("L","")):a.modelValue.indexOf("#")!==-1?a.modelValue.split("#").length===2&&(e.value="7",s.week.start=a.modelValue.split("#")[0],s.week.end=a.modelValue.split("#")[1]):a.modelValue.indexOf("W")!==-1?(e.value="8",T.value=a.modelValue.replace("W","")):(e.value="4",s.appoint=a.modelValue.split(",")))},C=E;return(c,t)=>{const y=oe,U=ae,x=ie,L=fe;return f(),w("div",null,[p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value=r),label:"1",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.every_hour")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value=r),label:"2",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.cycle")),1)]),_:1},8,["modelValue"]),p("span",da,d(l(m)("cron.from")),1),o(U,{modelValue:s.cycle.start,"onUpdate:modelValue":t[2]||(t[2]=r=>s.cycle.start=r),min:0,max:23,size:"small",style:{width:"100px"},onChange:t[3]||(t[3]=r=>e.value="2")},null,8,["modelValue"]),p("span",ma,d(l(m)("cron.to")),1),o(U,{modelValue:s.cycle.end,"onUpdate:modelValue":t[4]||(t[4]=r=>s.cycle.end=r),min:2,max:23,size:"small",style:{width:"100px"},onChange:t[5]||(t[5]=r=>e.value="2")},null,8,["modelValue"]),V(" "+d(l(m)("cron.hour")),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[6]||(t[6]=r=>e.value=r),label:"3",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.repeat")),1)]),_:1},8,["modelValue"]),p("span",pa,d(l(m)("cron.from")),1),o(U,{modelValue:s.loop.start,"onUpdate:modelValue":t[7]||(t[7]=r=>s.loop.start=r),min:0,max:23,size:"small",style:{width:"100px"},onChange:t[8]||(t[8]=r=>e.value="3")},null,8,["modelValue"]),p("span",ca,d(l(m)("cron.hour_begin")),1),o(U,{modelValue:s.loop.end,"onUpdate:modelValue":t[9]||(t[9]=r=>s.loop.end=r),min:1,max:23,size:"small",style:{width:"100px"},onChange:t[10]||(t[10]=r=>e.value="3")},null,8,["modelValue"]),V(" "+d(l(m)("cron.hour_exec")),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[11]||(t[11]=r=>e.value=r),label:"4",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.set")),1)]),_:1},8,["modelValue"]),o(L,{modelValue:s.appoint,"onUpdate:modelValue":t[13]||(t[13]=r=>s.appoint=r)},{default:u(()=>[(f(),w(O,null,I(3,r=>p("div",{key:r,style:{"margin-left":"10px","line-height":"25px"}},[(f(),w(O,null,I(10,P=>(f(),w(O,null,[parseInt(r-1+""+(P-1),10)<24?(f(),S(x,{key:P,label:r-1+""+(P-1),onChange:t[12]||(t[12]=Ve=>e.value="4")},null,8,["label"])):k("",!0)],64))),64))])),64))]),_:1},8,["modelValue"])])])}}}),Va={style:{"margin-left":"10px","margin-right":"5px"}},ga={style:{"margin-left":"5px","margin-right":"5px"}},va={style:{"margin-left":"10px","margin-right":"5px"}},_a={style:{"margin-left":"5px","margin-right":"5px"}},ya={style:{"margin-left":"10px","margin-right":"5px"}},ba=B({__name:"Day",props:{modelValue:W.string.def("?")},emits:["update:modelValue"],setup(N,{emit:E}){const a=N,{t:m}=D(),e=b("5"),T=b(0),$=b(0),s=H({cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},appoint:[]}),z=M(()=>{const c=[];switch(e.value){case"1":c.push("*");break;case"2":c.push(`${s.cycle.start}-${s.cycle.end}`);break;case"3":c.push(`${s.loop.start}/${s.loop.end}`);break;case"4":c.push(s.appoint.join(","));break;case"6":c.push(`${$.value===0?"":$.value}L`);break;case"7":c.push(`${s.week.start}#${s.week.end}`);break;case"8":c.push(`${T.value}W`);break;default:c.push("?");break}return c.join("")});te(()=>{h()}),R(()=>a.modelValue,()=>{h()}),R(()=>z.value,()=>{C("update:modelValue",z.value)});const h=()=>{a.modelValue&&(a.modelValue==="?"?e.value="5":a.modelValue.indexOf("-")!==-1?a.modelValue.split("-").length===2&&(e.value="2",s.cycle.start=a.modelValue.split("-")[0],s.cycle.end=a.modelValue.split("-")[1]):a.modelValue.indexOf("/")!==-1?a.modelValue.split("/").length===2&&(e.value="3",s.loop.start=a.modelValue.split("/")[0],s.loop.end=a.modelValue.split("/")[1]):a.modelValue.indexOf("*")!==-1?e.value="1":a.modelValue.indexOf("L")!==-1?(e.value="6",$.value=a.modelValue.replace("L","")):a.modelValue.indexOf("#")!==-1?a.modelValue.split("#").length===2&&(e.value="7",s.week.start=a.modelValue.split("#")[0],s.week.end=a.modelValue.split("#")[1]):a.modelValue.indexOf("W")!==-1?(e.value="8",T.value=a.modelValue.replace("W","")):(e.value="4",s.appoint=a.modelValue.split(",")))},C=E;return(c,t)=>{const y=oe,U=ae,x=ie,L=fe;return f(),w("div",null,[p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value=r),label:"1",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.every_day")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value=r),label:"5",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.not_set")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=r=>e.value=r),label:"2",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.cycle")),1)]),_:1},8,["modelValue"]),p("span",Va,d(l(m)("cron.from")),1),o(U,{modelValue:s.cycle.start,"onUpdate:modelValue":t[3]||(t[3]=r=>s.cycle.start=r),min:1,max:31,size:"small",style:{width:"100px"},onChange:t[4]||(t[4]=r=>e.value="2")},null,8,["modelValue"]),p("span",ga,d(l(m)("cron.to")),1),o(U,{modelValue:s.cycle.end,"onUpdate:modelValue":t[5]||(t[5]=r=>s.cycle.end=r),min:2,max:31,size:"small",style:{width:"100px"},onChange:t[6]||(t[6]=r=>e.value="2")},null,8,["modelValue"]),V(" "+d(l(m)("cron.day")),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[7]||(t[7]=r=>e.value=r),label:"3",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.repeat")),1)]),_:1},8,["modelValue"]),p("span",va,d(l(m)("cron.from")),1),o(U,{modelValue:s.loop.start,"onUpdate:modelValue":t[8]||(t[8]=r=>s.loop.start=r),min:1,max:31,size:"small",style:{width:"100px"},onChange:t[9]||(t[9]=r=>e.value="3")},null,8,["modelValue"]),p("span",_a,d(l(m)("cron.day_begin")),1),o(U,{modelValue:s.loop.end,"onUpdate:modelValue":t[10]||(t[10]=r=>s.loop.end=r),min:1,max:31,size:"small",style:{width:"100px"},onChange:t[11]||(t[11]=r=>e.value="3")},null,8,["modelValue"]),V(" "+d(l(m)("cron.day_exec")),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[12]||(t[12]=r=>e.value=r),label:"8",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.work_day")),1)]),_:1},8,["modelValue"]),p("span",ya,d(l(m)("cron.this_month")),1),o(U,{modelValue:T.value,"onUpdate:modelValue":t[13]||(t[13]=r=>T.value=r),min:1,max:31,size:"small",style:{width:"100px"},onChange:t[14]||(t[14]=r=>e.value="8")},null,8,["modelValue"]),V(" "+d(l(m)("cron.day_near_work_day")),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[15]||(t[15]=r=>e.value=r),label:"6",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.this_week_last_day")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[16]||(t[16]=r=>e.value=r),label:"4",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.set")),1)]),_:1},8,["modelValue"]),o(L,{modelValue:s.appoint,"onUpdate:modelValue":t[18]||(t[18]=r=>s.appoint=r)},{default:u(()=>[(f(),w(O,null,I(4,r=>p("div",{key:r,style:{"margin-left":"10px","line-height":"25px"}},[(f(),w(O,null,I(10,P=>(f(),w(O,null,[parseInt(r-1+""+(P-1),10)<32&&!(r===1&&P===1)?(f(),S(x,{key:P,label:r-1+""+(P-1),onChange:t[17]||(t[17]=Ve=>e.value="4")},null,8,["label"])):k("",!0)],64))),64))])),64))]),_:1},8,["modelValue"])])])}}}),xa={style:{"margin-left":"10px","margin-right":"5px"}},ha={style:{"margin-left":"5px","margin-right":"5px"}},ka={style:{"margin-left":"10px","margin-right":"5px"}},wa={style:{"margin-left":"5px","margin-right":"5px"}},Ca=B({__name:"Month",props:{modelValue:W.string.def("?")},emits:["update:modelValue"],setup(N,{emit:E}){const a=N,{t:m}=D(),e=b("1"),T=b(0),$=b(0),s=H({cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},appoint:[]}),z=M(()=>{const c=[];switch(e.value){case"1":c.push("*");break;case"2":c.push(`${s.cycle.start}-${s.cycle.end}`);break;case"3":c.push(`${s.loop.start}/${s.loop.end}`);break;case"4":c.push(s.appoint.join(","));break;case"6":c.push(`${$.value===0?"":$.value}L`);break;default:c.push("?");break}return c.join("")});te(()=>{h()}),R(()=>a.modelValue,()=>{h()}),R(()=>z.value,()=>{C("update:modelValue",z.value)});const h=()=>{a.modelValue&&(a.modelValue==="?"?e.value="5":a.modelValue.indexOf("-")!==-1?a.modelValue.split("-").length===2&&(e.value="2",s.cycle.start=a.modelValue.split("-")[0],s.cycle.end=a.modelValue.split("-")[1]):a.modelValue.indexOf("/")!==-1?a.modelValue.split("/").length===2&&(e.value="3",s.loop.start=a.modelValue.split("/")[0],s.loop.end=a.modelValue.split("/")[1]):a.modelValue.indexOf("*")!==-1?e.value="1":a.modelValue.indexOf("L")!==-1?(e.value="6",$.value=a.modelValue.replace("L","")):a.modelValue.indexOf("#")!==-1?a.modelValue.split("#").length===2&&(e.value="7",s.week.start=a.modelValue.split("#")[0],s.week.end=a.modelValue.split("#")[1]):a.modelValue.indexOf("W")!==-1?(e.value="8",T.value=a.modelValue.replace("W","")):(e.value="4",s.appoint=a.modelValue.split(",")))},C=E;return(c,t)=>{const y=oe,U=ae,x=ie,L=fe;return f(),w("div",null,[p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value=r),label:"1",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.every_month")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value=r),label:"5",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.not_set")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=r=>e.value=r),label:"2",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.cycle")),1)]),_:1},8,["modelValue"]),p("span",xa,d(l(m)("cron.from")),1),o(U,{modelValue:s.cycle.start,"onUpdate:modelValue":t[3]||(t[3]=r=>s.cycle.start=r),min:1,max:12,size:"small",style:{width:"100px"},onChange:t[4]||(t[4]=r=>e.value="2")},null,8,["modelValue"]),p("span",ha,d(l(m)("cron.to")),1),o(U,{modelValue:s.cycle.end,"onUpdate:modelValue":t[5]||(t[5]=r=>s.cycle.end=r),min:2,max:12,size:"small",style:{width:"100px"},onChange:t[6]||(t[6]=r=>e.value="2")},null,8,["modelValue"]),V(" "+d(l(m)("cron.month")),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[7]||(t[7]=r=>e.value=r),label:"3",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.repeat")),1)]),_:1},8,["modelValue"]),p("span",ka,d(l(m)("cron.from")),1),o(U,{modelValue:s.loop.start,"onUpdate:modelValue":t[8]||(t[8]=r=>s.loop.start=r),min:1,max:12,size:"small",style:{width:"100px"},onChange:t[9]||(t[9]=r=>e.value="3")},null,8,["modelValue"]),p("span",wa,d(l(m)("cron.month_begin")),1),o(U,{modelValue:s.loop.end,"onUpdate:modelValue":t[10]||(t[10]=r=>s.loop.end=r),min:1,max:12,size:"small",style:{width:"100px"},onChange:t[11]||(t[11]=r=>e.value="3")},null,8,["modelValue"]),V(" "+d(l(m)("cron.month_exec")),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[12]||(t[12]=r=>e.value=r),label:"4",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.set")),1)]),_:1},8,["modelValue"]),o(L,{modelValue:s.appoint,"onUpdate:modelValue":t[14]||(t[14]=r=>s.appoint=r),style:{"margin-left":"0px","line-height":"25px"}},{default:u(()=>[(f(),w(O,null,I(12,r=>o(x,{key:r,label:r+"",onChange:t[13]||(t[13]=P=>e.value="4")},null,8,["label"])),64))]),_:1},8,["modelValue"])])])}}}),Ua={style:{"margin-left":"10px","margin-right":"5px"}},$a={style:{"margin-left":"5px","margin-right":"5px"}},Sa={style:{"margin-left":"10px","margin-right":"5px"}},Ta={style:{"margin-left":"5px","margin-right":"5px"}},za={style:{"font-size":"12px"}},Na=B({__name:"Week",props:{modelValue:W.string.def("?")},emits:["update:modelValue"],setup(N,{emit:E}){const a=N,{t:m}=D(),e=b("1"),T=b(0),$=b(0),s=H({cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},appoint:[]}),z=M(()=>{const c=[];switch(e.value){case"1":c.push("*");break;case"2":c.push(`${s.cycle.start}-${s.cycle.end}`);break;case"3":c.push(`${s.loop.start}/${s.loop.end}`);break;case"4":c.push(s.appoint.join(","));break;case"6":c.push(`${$.value===0?"":$.value}L`);break;case"7":c.push(`${s.week.start}#${s.week.end}`);break;default:c.push("?");break}return c.join("")});te(()=>{h()}),R(()=>a.modelValue,()=>{h()}),R(()=>z.value,()=>{C("update:modelValue",z.value)});const h=()=>{a.modelValue&&(a.modelValue==="?"?e.value="5":a.modelValue.indexOf("-")!==-1?a.modelValue.split("-").length===2&&(e.value="2",s.cycle.start=a.modelValue.split("-")[0],s.cycle.end=a.modelValue.split("-")[1]):a.modelValue.indexOf("/")!==-1?a.modelValue.split("/").length===2&&(e.value="3",s.loop.start=a.modelValue.split("/")[0],s.loop.end=a.modelValue.split("/")[1]):a.modelValue.indexOf("*")!==-1?e.value="1":a.modelValue.indexOf("L")!==-1?(e.value="6",$.value=a.modelValue.replace("L","")):a.modelValue.indexOf("#")!==-1?a.modelValue.split("#").length===2&&(e.value="7",s.week.start=a.modelValue.split("#")[0],s.week.end=a.modelValue.split("#")[1]):a.modelValue.indexOf("W")!==-1?(e.value="8",T.value=a.modelValue.replace("W","")):(e.value="4",s.appoint=a.modelValue.split(",")))},C=E;return(c,t)=>{const y=oe,U=ae,x=ie,L=fe;return f(),w("div",null,[p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value=r),label:"1",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.every_week")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value=r),label:"5",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.not_set")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=r=>e.value=r),label:"2",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.cycle")),1)]),_:1},8,["modelValue"]),p("span",Ua,d(l(m)("cron.week_start")),1),o(U,{modelValue:s.cycle.start,"onUpdate:modelValue":t[3]||(t[3]=r=>s.cycle.start=r),min:1,max:7,size:"small",style:{width:"100px"},onChange:t[4]||(t[4]=r=>e.value="2")},null,8,["modelValue"]),p("span",$a,d(l(m)("cron.week_end")),1),o(U,{modelValue:s.cycle.end,"onUpdate:modelValue":t[5]||(t[5]=r=>s.cycle.end=r),min:2,max:7,size:"small",style:{width:"100px"},onChange:t[6]||(t[6]=r=>e.value="2")},null,8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[7]||(t[7]=r=>e.value=r),label:"3",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.repeat")),1)]),_:1},8,["modelValue"]),p("span",Sa,d(l(m)("cron.week_start")),1),o(U,{modelValue:s.loop.start,"onUpdate:modelValue":t[8]||(t[8]=r=>s.loop.start=r),min:1,max:7,size:"small",style:{width:"100px"},onChange:t[9]||(t[9]=r=>e.value="3")},null,8,["modelValue"]),p("span",Ta,d(l(m)("cron.every_begin")),1),o(U,{modelValue:s.loop.end,"onUpdate:modelValue":t[10]||(t[10]=r=>s.loop.end=r),min:1,max:7,size:"small",style:{width:"100px"},onChange:t[11]||(t[11]=r=>e.value="3")},null,8,["modelValue"]),V(" "+d(l(m)("cron.day_exec")),1)]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[12]||(t[12]=r=>e.value=r),label:"4",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.set")),1)]),_:1},8,["modelValue"]),o(L,{modelValue:s.appoint,"onUpdate:modelValue":t[14]||(t[14]=r=>s.appoint=r),style:{"margin-left":"50px","line-height":"25px"}},{default:u(()=>[(f(),w(O,null,I(7,r=>o(x,{key:r,label:r+"",onChange:t[13]||(t[13]=P=>e.value="4")},null,8,["label"])),64))]),_:1},8,["modelValue"])]),p("div",null,[p("span",za,d(l(m)("cron.week_tips")),1)])])}}}),Oa={style:{"margin-left":"10px","margin-right":"5px"}},Ra={style:{"margin-left":"5px","margin-right":"5px"}},Ea=B({__name:"Year",props:{modelValue:W.string.def("?")},emits:["update:modelValue"],setup(N,{emit:E}){const a=N,{t:m}=D(),e=b("1"),T=b(0),$=b(0),s=H({cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},appoint:[]}),z=M(()=>{const c=[];switch(e.value){case"1":c.push("*");break;case"2":c.push(`${s.cycle.start}-${s.cycle.end}`);break;case"3":c.push(`${s.loop.start}/${s.loop.end}`);break;case"4":c.push(s.appoint.join(","));break;case"6":c.push(`${$.value===0?"":$.value}L`);break;default:c.push("?");break}return c.join("")});te(()=>{h()}),R(()=>a.modelValue,()=>{h()}),R(()=>z.value,()=>{C("update:modelValue",z.value)});const h=()=>{a.modelValue&&(a.modelValue==="?"?e.value="5":a.modelValue.indexOf("-")!==-1?a.modelValue.split("-").length===2&&(e.value="2",s.cycle.start=a.modelValue.split("-")[0],s.cycle.end=a.modelValue.split("-")[1]):a.modelValue.indexOf("/")!==-1?a.modelValue.split("/").length===2&&(e.value="3",s.loop.start=a.modelValue.split("/")[0],s.loop.end=a.modelValue.split("/")[1]):a.modelValue.indexOf("*")!==-1?e.value="1":a.modelValue.indexOf("L")!==-1?(e.value="6",$.value=a.modelValue.replace("L","")):a.modelValue.indexOf("#")!==-1?a.modelValue.split("#").length===2&&(e.value="7",s.week.start=a.modelValue.split("#")[0],s.week.end=a.modelValue.split("#")[1]):a.modelValue.indexOf("W")!==-1?(e.value="8",T.value=a.modelValue.replace("W","")):(e.value="4",s.appoint=a.modelValue.split(",")))},C=E;return(c,t)=>{const y=oe,U=ae;return f(),w("div",null,[p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=x=>e.value=x),label:"1",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.every_year")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=x=>e.value=x),label:"5",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.not_set")),1)]),_:1},8,["modelValue"])]),p("div",null,[o(y,{modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=x=>e.value=x),label:"2",size:"small",border:""},{default:u(()=>[V(d(l(m)("cron.cycle")),1)]),_:1},8,["modelValue"]),p("span",Oa,d(l(m)("cron.from")),1),o(U,{modelValue:s.cycle.start,"onUpdate:modelValue":t[3]||(t[3]=x=>s.cycle.start=x),min:2e3,size:"small",style:{width:"100px"},onChange:t[4]||(t[4]=x=>e.value="2")},null,8,["modelValue"]),p("span",Ra,d(l(m)("cron.to")),1),o(U,{modelValue:s.cycle.end,"onUpdate:modelValue":t[5]||(t[5]=x=>s.cycle.end=x),min:2e3,size:"small",style:{width:"100px"},onChange:t[6]||(t[6]=x=>e.value="2")},null,8,["modelValue"]),V(" "+d(l(m)("cron.year")),1)])])}}}),Pa=B({__name:"Cron",props:{modelValue:W.string.def("?"),isRate:W.bool.def(!1)},emits:["update:modelValue"],setup(N,{emit:E}){const a=N,{t:m}=D(),e=H({activeName:"s",sVal:"",mVal:"",hVal:"",dVal:"",monthVal:"",weekVal:"",yearVal:""}),T=M(()=>[{sVal:e.sVal,mVal:e.mVal,hVal:e.hVal,dVal:e.dVal,monthVal:e.monthVal,weekVal:e.weekVal,yearVal:e.yearVal}]),$=M(()=>!e.dVal&&!e.weekVal?"":(e.dVal==="?"&&e.weekVal==="?"&&le.error(m("cron.d_w_cant_not_set")),e.dVal!=="?"&&e.weekVal!=="?"&&le.error(m("cron.d_w_must_one_set")),`${e.sVal} ${e.mVal} ${e.hVal} ${e.dVal} ${e.monthVal} ${e.weekVal} ${e.yearVal}`));te(()=>{s()}),R(()=>a.modelValue,()=>{a.isRate&&s()},{immediate:!0}),R(()=>$.value,()=>{z("update:modelValue",$.value)});const s=()=>{if(!a.modelValue)return;const h=a.modelValue.split(" ");e.sVal=h[0],e.mVal=h[1],e.hVal=h[2],e.dVal=h[3],e.monthVal=h[4],e.weekVal=h[5],e.yearVal=h[6]},z=E;return(h,C)=>{const c=ol,t=tl,y=ll,U=al;return f(),w("div",null,[o(t,{modelValue:e.activeName,"onUpdate:modelValue":C[7]||(C[7]=x=>e.activeName=x)},{default:u(()=>[o(c,{label:l(m)("cron.second"),name:"s"},{default:u(()=>[o(el,{modelValue:e.sVal,"onUpdate:modelValue":C[0]||(C[0]=x=>e.sVal=x),label:l(m)("cron.second")},null,8,["modelValue","label"])]),_:1},8,["label"]),o(c,{label:l(m)("cron.minute"),name:"m"},{default:u(()=>[o(el,{modelValue:e.mVal,"onUpdate:modelValue":C[1]||(C[1]=x=>e.mVal=x),label:l(m)("cron.minute")},null,8,["modelValue","label"])]),_:1},8,["label"]),o(c,{label:l(m)("cron.hour"),name:"h"},{default:u(()=>[o(fa,{modelValue:e.hVal,"onUpdate:modelValue":C[2]||(C[2]=x=>e.hVal=x),label:l(m)("cron.hour")},null,8,["modelValue","label"])]),_:1},8,["label"]),o(c,{label:l(m)("cron.day"),name:"d"},{default:u(()=>[o(ba,{modelValue:e.dVal,"onUpdate:modelValue":C[3]||(C[3]=x=>e.dVal=x),label:l(m)("cron.day")},null,8,["modelValue","label"])]),_:1},8,["label"]),o(c,{label:l(m)("cron.month"),name:"month"},{default:u(()=>[o(Ca,{modelValue:e.monthVal,"onUpdate:modelValue":C[4]||(C[4]=x=>e.monthVal=x),label:l(m)("cron.month")},null,8,["modelValue","label"])]),_:1},8,["label"]),o(c,{label:l(m)("cron.week"),name:"week"},{default:u(()=>[o(Na,{modelValue:e.weekVal,"onUpdate:modelValue":C[5]||(C[5]=x=>e.weekVal=x),label:l(m)("cron.week")},null,8,["modelValue","label"])]),_:1},8,["label"]),o(c,{label:l(m)("cron.year"),name:"year"},{default:u(()=>[o(Ea,{modelValue:e.yearVal,"onUpdate:modelValue":C[6]||(C[6]=x=>e.yearVal=x),label:l(m)("cron.year")},null,8,["modelValue","label"])]),_:1},8,["label"])]),_:1},8,["modelValue"]),o(U,{"header-cell-class-name":"header-cell",data:T.value,size:"mini",border:"",style:{width:"100%"}},{default:u(()=>[o(y,{prop:"sVal",label:l(m)("cron.second"),width:"70"},null,8,["label"]),o(y,{prop:"mVal",label:l(m)("cron.minute"),width:"70"},null,8,["label"]),o(y,{prop:"hVal",label:l(m)("cron.hour"),width:"70"},null,8,["label"]),o(y,{prop:"dVal",label:l(m)("cron.day"),width:"70"},null,8,["label"]),o(y,{prop:"monthVal",label:l(m)("cron.month"),width:"70"},null,8,["label"]),o(y,{prop:"weekVal",label:l(m)("cron.week"),width:"70"},null,8,["label"]),o(y,{prop:"yearVal",label:l(m)("cron.year")},null,8,["label"])]),_:1},8,["data"])])}}}),qa={class:"editor-detail"},ja={class:"detail-inner create-dialog"},Ia={class:"info-update"},La={class:"title-form_primary flex-space table-info-mr"},Aa={key:1,class:"api-card-content"},Wa=["onClick"],Ha={class:"name ellipsis"},Ma={key:0,class:"de-tag invalid"},Da={key:1,class:"de-tag valid"},Ba={class:"tips"},Fa={class:"foot"},Ka={class:"req-title"},Ga={class:"req-value"},Ja={key:2,style:{display:"flex"}},Xa={class:"left-api_params"},Ya=["title","onClick"],Za={class:"label"},Qa={class:"name-copy"},eo={class:"right-api_params"},lo={class:"flex-align-center icon"},ao={class:"name"},oo={key:2,class:"execute-rate-cont"},to={class:"simple-cron"},no={style:{width:"814px",height:"400px","overflow-y":"auto"}},uo={style:{width:"100%"}},so=B({__name:"EditorDetail",props:{form:{required:!1,default(){return H({id:0,name:"",desc:"",type:"API",apiConfiguration:[]})},type:Object},activeStep:{required:!1,default:1,type:Number}},setup(N,{expose:E}){const{t:a}=D(),m=N,{form:e,activeStep:T}=Bl(m),$=H({itemRef:[]}),s=b([]),z=b(!1),h=b(),C=b(!0),c={name:[{required:!0,message:a("datasource.input_name"),trigger:"blur"},{min:1,max:64,message:a("datasource.input_limit_1_64",[1,64]),trigger:"blur"}]},t=b(ee(c)),y=b(""),U=b(),x={name:"",deTableName:"",url:"",type:"",serialNumber:0,method:"GET",request:{headers:[{}],arguments:[],body:{type:"",raw:"",kvs:[]},authManager:{verification:"",username:"",password:""}},fields:[]},L=g=>{g!=="API"&&(e.value.configuration={dataBase:"",jdbcUrl:"",urlType:"hostName",sshType:"password",extraParams:"",username:"",password:"",host:"",authMethod:"",port:"",initialPoolSize:5,minPoolSize:5,maxPoolSize:5,queryTimeout:30},s.value=[],t.value=ee(c),Ne()),g==="API"&&(e.value.syncSetting={updateType:"all_scope",syncRate:"SIMPLE_CRON",simpleCronValue:"1",simpleCronType:"minute",startTime:"",endTime:"",endLimit:"0",cron:"0 0/1 * * * ? *"}),g==="oracle"&&(e.value.configuration.connectionType="sid"),e.value.type=g,setTimeout(()=>{var n;(n=h==null?void 0:h.value)==null||n.clearValidate()},0)},r=M(()=>e.value.type!=="API"),P=[{id:"passwd",label:a("datasource.passwd")},{id:"kerberos",label:"Kerberos"}],Ve=(g,n,_)=>((n==null||n==="")&&e.value.configuration.useSSH&&_(new Error(a("data_source.cannot_be_empty"))),_()),nl=(g,n,_)=>((n==null||n==="")&&e.value.configuration.useSSH&&_(new Error(a("data_source.cannot_be_empty_de"))),_()),ul=(g,n,_)=>((n==null||n==="")&&e.value.configuration.useSSH&&_(new Error(a("data_source.cannot_be_empty_de_name"))),_()),sl=(g,n,_)=>((n==null||n==="")&&e.value.configuration.useSSH&&e.value.configuration.sshType==="password"&&_(new Error(a("data_source.cannot_be_empty_de_pwd"))),_()),rl=(g,n,_)=>((n===null||n===""||n===void 0)&&e.value.configuration.useSSH&&e.value.configuration.sshType==="sshkey"&&_(new Error(a("data_source.cannot_be_empty_de_key"))),_()),Ne=()=>{const g={"configuration.jdbcUrl":[{required:!0,message:a("datasource.please_input_jdbc_url"),trigger:"blur"}],"configuration.dataBase":[{required:!0,message:a("datasource.please_input_data_base"),trigger:"blur"}],"configuration.authMethod":[{required:!0,message:a("datasource.please_select_oracle_type"),trigger:"blur"}],"configuration.username":[{required:!0,message:a("datasource.please_input_user_name"),trigger:"blur"}],"configuration.password":[{required:!0,message:a("datasource.please_input_password"),trigger:"blur"}],"configuration.host":[{required:!0,message:a("datasource._ip_address"),trigger:"blur"}],"configuration.extraParams":[{required:!1,message:a("datasource.please_input_url"),trigger:"blur"}],"configuration.port":[{required:!0,message:a("datasource.please_input_port"),trigger:"blur"}],"configuration.initialPoolSize":[{required:!0,message:a("common.inputText")+a("datasource.initial_pool_size"),trigger:"blur"}],"configuration.minPoolSize":[{required:!0,message:a("common.inputText")+a("datasource.min_pool_size"),trigger:"blur"}],"configuration.maxPoolSize":[{required:!0,message:a("common.inputText")+a("datasource.max_pool_size"),trigger:"blur"}],"configuration.queryTimeout":[{required:!0,message:a("common.inputText")+a("datasource.query_timeout"),trigger:"blur"}],"configuration.sshHost":[{validator:Ve,trigger:"blur"}],"configuration.sshPort":[{validator:nl,trigger:"blur"}],"configuration.sshUserName":[{validator:ul,trigger:"blur"}],"configuration.sshPassword":[{validator:sl,trigger:"blur"}],"configuration.sshKey":[{validator:rl,trigger:"blur"}]};["oracle","sqlServer","pg","redshift","db2"].includes(e.value.type)&&(g["configuration.schema"]=[{required:!0,message:a("datasource.please_choose_schema"),trigger:"blur"}]),e.value.type==="oracle"&&(g["configuration.connectionType"]=[{required:!0,message:a("datasource.connection_mode"),trigger:"change"}]),e.value.type==="es"&&(g["configuration.url"]=[{required:!0,message:a("datasource.please_input_datasource_url"),trigger:"change"}]),t.value={...ee(g),...ee(c)}};R(()=>e.value.type,g=>{g!=="API"&&(t.value=ee(c),Ne())},{immediate:!0}),R(()=>T.value,()=>{var g;he.value=((g=e.value.syncSetting)==null?void 0:g.syncRate)==="CRON"});const il=g=>{$.itemRef.push(g)},dl=g=>{const n=JSON.parse(JSON.stringify(g));n.deTableName="",n.serialNumber=e.value.apiConfiguration[e.value.apiConfiguration.length-1].serialNumber+1;const _=new RegExp(g.name+"_copy_([0-9]*)","gim");let v=0;for(let J=1;J<e.value.apiConfiguration.length;J++){const me=e.value.apiConfiguration[J].name.match(_);if(me!==null){const j=me[0].substring(e.value.apiConfiguration[J].name.length+5,me[0].length-1);!isNaN(parseInt(j))&&parseInt(j)>v&&(v=parseInt(j))}}v=v+1,n.name=g.name+"_copy_"+v,$.itemRef=[],e.value.apiConfiguration.push(n),le.success(a("datasource.success_copy"))},xe=g=>{let n=null;if(y.value=a("datasource.data_table"),g)n=ee(g);else{n=ee(x),n.type=F.value;let _=e.value.apiConfiguration.length>0?e.value.apiConfiguration[e.value.apiConfiguration.length-1].serialNumber+1:0,v=e.value.paramsConfiguration.length>0?e.value.paramsConfiguration[e.value.paramsConfiguration.length-1].serialNumber+1:0;n.serialNumber=_+v}Ke(()=>{U.value.initApiItem(n,e.value,F.value)})},F=b("table"),ge=b(!1),ve=b(!1),ml=(g,n)=>{e.value.apiConfiguration.splice(e.value.apiConfiguration.indexOf(g),1),Oe(n)},Oe=g=>{$.itemRef[g].hide()},pl=()=>(h.value.clearValidate(),h.value.validate),cl=()=>h.value.clearValidate(),fl=()=>{h.value.resetFields()},Vl=g=>{let n=!1;if(g.type!=="params"){g.status="Success";for(let _=0;_<e.value.apiConfiguration.length;_++)e.value.apiConfiguration[_].serialNumber===g.serialNumber&&(n=!0,e.value.apiConfiguration[_]=g);n||($.itemRef=[],e.value.apiConfiguration.push(g))}else{for(let _=0;_<e.value.paramsConfiguration.length;_++)e.value.paramsConfiguration[_].serialNumber===g.serialNumber&&(n=!0,e.value.paramsConfiguration[_]=g,g.serialNumber===Pe.value&&qe(g));n||($.itemRef=[],e.value.paramsConfiguration.push(g))}},he=b(!1),gl=()=>{e.value.syncSetting.syncRate==="SIMPLE"&&(e.value.syncSetting.endLimit=0,e.value.syncSetting.endTime=0,e.value.syncSetting.cron=""),e.value.syncSetting.syncRate==="SIMPLE_CRON"&&(e.value.syncSetting.cron="0 0/1 * * * ? *",e.value.syncSetting.simpleCronType="minute"),e.value.syncSetting.syncRate==="CRON"&&(e.value.syncSetting.cron="00 00 * ? * * *"),Ke(()=>{he.value=e.value.syncSetting.syncRate==="CRON"})},Re=()=>{if(e.value.syncSetting.simpleCronType==="minute"){(e.value.syncSetting.simpleCronValue<1||e.value.syncSetting.simpleCronValue>59)&&(le.warning(a("cron.minute_limit")),e.value.syncSetting.simpleCronValue=59),e.value.syncSetting.cron="0 0/"+e.value.syncSetting.simpleCronValue+" * * * ? *";return}if(e.value.syncSetting.simpleCronType==="hour"){(e.value.syncSetting.simpleCronValue<1||e.value.syncSetting.simpleCronValue>23)&&(le.warning(a("cron.hour_limit")),e.value.syncSetting.simpleCronValue=23),e.value.syncSetting.cron="0 0 0/"+e.value.syncSetting.simpleCronValue+" * * ? *";return}if(e.value.syncSetting.simpleCronType==="day"){(e.value.syncSetting.simpleCronValue<1||e.value.syncSetting.simpleCronValue>31)&&(le.warning(a("cron.day_limit")),e.value.syncSetting.simpleCronValue=31),e.value.syncSetting.cron="0 0 0 1/"+e.value.syncSetting.simpleCronValue+" * ? *";return}},ke=b(!1),vl=()=>{ke.value=!0;const g=h.value.validate;g(n=>{if(ke.value=!1,n){const _=JSON.parse(JSON.stringify(e.value));_.configuration=aa.encode(JSON.stringify(_.configuration)),z.value=!0,la(_).then(v=>{s.value=v.data,le.success(a("commons.success"))}).finally(()=>{z.value=!1})}})},Ee=()=>{h.value.validateField("configuration.schema")},_l=b(),yl={"syncSetting.updateType":[{required:!0,message:a("datasource.update_type"),trigger:"change"}],"syncSetting.syncRate":[{required:!0,message:a("datasource.sync_rate"),trigger:"change"}],"syncSetting.simpleCronValue":[{required:!0,message:a("auth.set_rules"),trigger:"change"}],"syncSetting.cron":[{required:!0,message:a("common.cron_exp"),trigger:"change"}],"syncSetting.startTime":[{required:!0,message:a("datasource.start_time"),trigger:"change"}]},we=b(!1),de=b(!1),Ce=b(""),Pe=b(0),K=b({name:"",id:1,deType:0}),G=b({name:"",serialNumber:1}),bl={name:[{required:!0,message:a("data_source.enter_parameter_name"),trigger:"change"},{min:2,max:64,message:a("data_source.to_64_characters"),trigger:"blur"}]},xl={name:[{required:!0,message:a("data_source.the_interface_name"),trigger:"change"},{min:2,max:64,message:a("data_source.to_64_characters_de"),trigger:"blur"}]},qe=g=>{ne.value=g.fields,Ce.value=g.name,Pe.value=g.serialNumber},je=b(),Ie=b(),hl=()=>{je.value.validate(g=>{g&&ne.value.forEach(n=>{n.id===K.value.id&&(n.name=K.value.name)})})},kl=()=>{Ie.value.validate(g=>{g&&e.value.paramsConfiguration.forEach(n=>{n.serialNumber===G.value.serialNumber&&(n.name=G.value.name)}),de.value=!1})},Le=()=>{we.value=!1},Ae=()=>{de.value=!1},ne=b([]),We=(g,n)=>{g==="rename"&&(de.value=!0,G.value.name=n.name,G.value.serialNumber=n.serialNumber),g==="delete"&&Be.confirm(a("data_source.sure_to_delete"),{confirmButtonType:"danger",type:"warning",autofocus:!1,showClose:!1}).then(()=>{let _=0;for(let v=0;v<e.value.paramsConfiguration.length;v++)e.value.paramsConfiguration[v].serialNumber===n.serialNumber&&(_=v);e.value.paramsConfiguration.splice(_,1),Ce.value===n.name&&(ne.value=[])}),g==="edit"&&xe(n)},wl=g=>{Be.confirm(a("data_source.sure_to_delete"),{confirmButtonType:"danger",type:"warning",autofocus:!1,showClose:!1}).then(()=>{ne.value.splice(ne.value.indexOf(g),1)})},Cl=[{label:a("data_source.rename"),svgName:Kl,command:"rename"},{label:a("data_source.delete"),svgName:Ze,command:"delete"}];return E({submitForm:pl,resetForm:fl,initForm:L,clearForm:cl}),(g,n)=>{const _=Rl,v=Dl,J=ol,me=tl,j=El,ue=Ml,X=Pl,He=Hl,Ue=Wl,Ul=ta,$l=Al,$e=ll,Sl=al,q=oe,pe=Ll,Y=ae,ce=jl,Se=Il,Tl=ie,Me=ql,De=Nl,zl=Fl("loading");return f(),w("div",qa,[p("div",ja,[Q(p("div",Ia,[p("div",{class:ye([l(T)===1&&"active","info-text"])},d(l(a)("data_source.source_configuration_information")),3),n[55]||(n[55]=p("div",{class:"update-info-line"},null,-1)),p("div",{class:ye([l(T)===2&&"active","update-text"])},d(l(a)("data_source.data_update_settings")),3)],512),[[se,l(e).type==="API"]]),Q(p("div",{class:"title-form_primary base-info"},d(l(a)("datasource.basic_info")),513),[[se,l(T)!==2&&l(e).type==="API"]]),Q((f(),S(l(_e),{ref_key:"dsForm",ref:h,model:l(e),rules:t.value,"label-width":"180px","label-position":"top","require-asterisk-position":"right"},{default:u(()=>[Q(o(v,{label:l(a)("auth.datasource")+l(a)("chart.name"),prop:"name"},{default:u(()=>[o(_,{modelValue:l(e).name,"onUpdate:modelValue":n[0]||(n[0]=i=>l(e).name=i),autocomplete:"off",placeholder:l(a)("datasource.input_name")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),[[se,l(T)!==2]]),Q(o(v,{label:l(a)("common.description")},{default:u(()=>[o(_,{class:"description-text",type:"textarea",placeholder:l(a)("common.inputText"),modelValue:l(e).description,"onUpdate:modelValue":n[1]||(n[1]=i=>l(e).description=i),row:10,maxlength:50,"show-word-limit":""},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),[[se,l(T)!==2]]),l(e).type==="API"?(f(),w(O,{key:0},[Q(p("div",La,[o(me,{modelValue:F.value,"onUpdate:modelValue":n[2]||(n[2]=i=>F.value=i),class:"api-tabs"},{default:u(()=>[o(J,{label:l(a)("datasource.data_table"),name:"table"},null,8,["label"]),o(J,{label:l(a)("data_source.connection_method"),name:"params"},null,8,["label"])]),_:1},8,["modelValue"]),o(j,{type:"primary",style:{"margin-left":"auto"},onClick:n[3]||(n[3]=()=>xe(null))},{icon:u(()=>[o(l(A),{name:"icon_add_outlined"},{default:u(()=>[o(l(Ye),{class:"svg-icon"})]),_:1})]),default:u(()=>[V(" "+d(l(a)("common.add")),1)]),_:1})],512),[[se,l(T)!==2]]),!l(e).apiConfiguration.length&&F.value==="table"?Q((f(),S(Zl,{key:0,description:l(a)("datasource.no_data_table"),"img-type":"noneWhite"},null,8,["description"])),[[se,l(T)!==2]]):k("",!0),l(e).type==="API"&&l(T)===1&&F.value==="table"?(f(),w("div",Aa,[(f(!0),w(O,null,I(l(e).apiConfiguration,(i,Z)=>(f(),w("div",{key:i.id,class:"api-card",onClick:Te=>xe(i)},[o(Ue,null,{default:u(()=>[o(ue,{style:{display:"flex"},span:19},{default:u(()=>[p("span",Ha,d(i.name),1),i.status==="Error"?(f(),w("span",Ma,d(l(a)("datasource.invalid")),1)):k("",!0),i.status==="Success"?(f(),w("span",Da,d(l(a)("datasource.valid")),1)):k("",!0)]),_:2},1024),o(ue,{style:{"text-align":"right"},span:5},{default:u(()=>[o(X,{class:"de-copy-icon hover-icon",onClick:re(Te=>dl(i),["stop"])},{default:u(()=>[o(l(A),{name:"de-copy"},{default:u(()=>[o(l(Gl),{class:"svg-icon"})]),_:1})]),_:2},1032,["onClick"]),p("span",{onClick:n[4]||(n[4]=re(()=>{},["stop"]))},[o(He,{placement:"top",width:"200",ref_for:!0,ref:il,"show-arrow":"","popper-class":"api-table-delete",trigger:"click"},{reference:u(()=>[o(X,{class:"de-delete-icon hover-icon"},{default:u(()=>[o(l(A),{name:"de-delete"},{default:u(()=>[o(l(Jl),{class:"svg-icon"})]),_:1})]),_:1})]),default:u(()=>[o(X,{class:"de-copy-icon icon-warning"},{default:u(()=>[o(l(A),{name:"icon_warning_filled"},{default:u(()=>[o(l(Xl),{class:"svg-icon"})]),_:1})]),_:1}),p("div",Ba,d(l(a)("datasource.delete_this_item")),1),p("div",Fa,[o(j,{style:{"min-width":"48px"},secondary:"",onClick:Te=>Oe(Z)},{default:u(()=>[V(d(l(a)("common.cancel")),1)]),_:2},1032,["onClick"]),o(j,{style:{"min-width":"48px"},type:"primary",onClick:Te=>ml(i,Z)},{default:u(()=>[V(d(l(a)("common.sure")),1)]),_:2},1032,["onClick"])])]),_:2},1024)])]),_:2},1024)]),_:2},1024),p("div",Ka,[p("span",null,d(l(a)("datasource.method")),1),p("span",null,d(l(a)("datasource.url")),1)]),p("div",Ga,[p("span",null,d(i.method),1),o(Ul,{effect:"dark",content:i.url,placement:"top"},{default:u(()=>[p("span",null,d(i.url),1)]),_:2},1032,["content"])])],8,Wa))),128))])):k("",!0),l(e).type==="API"&&l(T)===1&&F.value==="params"?(f(),w("div",Ja,[p("div",Xa,[(f(!0),w(O,null,I(l(e).paramsConfiguration,i=>(f(),w("div",{class:ye([[{active:Ce.value===i.name}],"list-item_primary"]),title:i.name,key:i.id,onClick:Z=>qe(i)},[p("span",Za,d(i.name),1),p("span",Qa,[o(X,{class:"hover-icon",onClick:re(Z=>We("edit",i),["stop"])},{default:u(()=>[o(l(A),{name:"icon_edit_outlined"},{default:u(()=>[o(l(Yl),{class:"svg-icon"})]),_:1})]),_:2},1032,["onClick"]),o($l,{"icon-size":"24px",onHandleCommand:Z=>We(Z,i),"menu-list":Cl,placement:"bottom-start"},null,8,["onHandleCommand"])])],10,Ya))),128))]),p("div",eo,[o(Sl,{height:"300",style:{width:"100%"},"header-cell-class-name":"header-cell",data:ne.value},{default:u(()=>[o($e,{label:l(a)("visualization.param_name")},{default:u(i=>[V(d(i.row.name||"-"),1)]),_:1},8,["label"]),o($e,{label:l(a)("deDataset.parameter_type")},{default:u(i=>[p("div",lo,[o(X,null,{default:u(()=>[o(l(A),null,{default:u(()=>[(f(),S(ze(l(oa)[l(Qe)[i.row.deType]]),{class:ye(["svg-icon",`field-icon-${l(Qe)[i.row.deType]}`])},null,8,["class"]))]),_:2},1024)]),_:2},1024),V(" "+d(l(ea)[i.row.deType]),1)])]),_:1},8,["label"]),o($e,{label:l(a)("common.operate")},{default:u(i=>[o(j,{text:"",onClick:re(Z=>wl(i.row),["stop"])},{icon:u(()=>[o(l(A),{name:"icon_delete-trash_outlined"},{default:u(()=>[o(l(Ze),{class:"svg-icon"})]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])])])):k("",!0)],64)):k("",!0),r.value?(f(),w(O,{key:1},[l(e).type!=="es"?(f(),S(v,{key:0,label:l(a)("data_source.connection_method"),prop:"type"},{default:u(()=>[o(pe,{modelValue:l(e).configuration.urlType,"onUpdate:modelValue":n[5]||(n[5]=i=>l(e).configuration.urlType=i)},{default:u(()=>[o(q,{label:"hostName"},{default:u(()=>[V(d(l(a)("data_source.hostname")),1)]),_:1}),o(q,{label:"jdbcUrl"},{default:u(()=>[V(d(l(a)("data_source.jdbc_connection")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):k("",!0),l(e).configuration.urlType==="jdbcUrl"?(f(),S(v,{key:1,label:l(a)("data_source.jdbc_connection_string"),prop:"configuration.jdbcUrl"},{default:u(()=>[o(_,{modelValue:l(e).configuration.jdbcUrl,"onUpdate:modelValue":n[6]||(n[6]=i=>l(e).configuration.jdbcUrl=i),placeholder:l(a)("data_source.jdbc_connection_string"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0),l(e).configuration.urlType!=="jdbcUrl"&&l(e).type!=="es"?(f(),S(v,{key:2,label:l(a)("datasource.host"),prop:"configuration.host"},{default:u(()=>[o(_,{modelValue:l(e).configuration.host,"onUpdate:modelValue":n[7]||(n[7]=i=>l(e).configuration.host=i),placeholder:l(a)("datasource._ip_address"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0),l(e).configuration.urlType!=="jdbcUrl"&&l(e).type!=="es"?(f(),S(v,{key:3,label:l(a)("datasource.port"),prop:"configuration.port"},{default:u(()=>[o(Y,{modelValue:l(e).configuration.port,"onUpdate:modelValue":n[8]||(n[8]=i=>l(e).configuration.port=i),autocomplete:"off","step-strictly":"",class:"text-left",min:0,placeholder:l(a)("common.inputText")+l(a)("datasource.port"),"controls-position":"right",type:"number"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0),l(e).configuration.urlType!=="jdbcUrl"&&l(e).type!=="es"?(f(),S(v,{key:4,label:l(a)("datasource.data_base"),prop:"configuration.dataBase"},{default:u(()=>[o(_,{modelValue:l(e).configuration.dataBase,"onUpdate:modelValue":n[9]||(n[9]=i=>l(e).configuration.dataBase=i),placeholder:l(a)("datasource.please_input_data_base"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0),l(e).type==="presto"?(f(),S(v,{key:5,label:l(a)("datasource.auth_method"),prop:"configuration.authMethod"},{default:u(()=>[o(Se,{placeholder:l(a)("common.inputText")+l(a)("datasource.auth_method"),modelValue:l(e).configuration.authMethod,"onUpdate:modelValue":n[10]||(n[10]=i=>l(e).configuration.authMethod=i),class:"de-select"},{default:u(()=>[(f(),w(O,null,I(P,i=>o(ce,{key:i.id,label:i.label,value:i.id},null,8,["label","value"])),64))]),_:1},8,["placeholder","modelValue"])]),_:1},8,["label"])):k("",!0),l(e).type==="presto"?(f(),S(v,{key:6,label:l(a)("datasource.client_principal"),prop:"configuration.username"},{default:u(()=>[o(_,{placeholder:l(a)("common.inputText")+l(a)("datasource.client_principal"),modelValue:l(e).configuration.username,"onUpdate:modelValue":n[11]||(n[11]=i=>l(e).configuration.username=i),autocomplete:"off"},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):k("",!0),l(e).type==="presto"?(f(),S(v,{key:7,label:l(a)("datasource.keytab_Key_path"),prop:"configuration.password"},{default:u(()=>[o(l(be),{placeholder:l(a)("common.inputText")+l(a)("datasource.keytab_Key_path"),"show-password":"",type:"password",modelValue:l(e).configuration.password,"onUpdate:modelValue":n[12]||(n[12]=i=>l(e).configuration.password=i)},null,8,["placeholder","modelValue"]),p("p",null,d(l(a)("datasource.kerbers_info")),1)]),_:1},8,["label"])):k("",!0),l(e).type=="es"?(f(),S(v,{key:8,label:g.$t("datasource.datasource_url"),prop:"configuration.url"},{default:u(()=>[o(_,{modelValue:l(e).configuration.url,"onUpdate:modelValue":n[13]||(n[13]=i=>l(e).configuration.url=i),placeholder:g.$t("datasource.please_input_datasource_url"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0),l(e).type!=="presto"?(f(),S(v,{key:9,label:l(a)("datasource.user_name")},{default:u(()=>[o(_,{placeholder:l(a)("common.inputText")+l(a)("datasource.user_name"),modelValue:l(e).configuration.username,"onUpdate:modelValue":n[14]||(n[14]=i=>l(e).configuration.username=i),autocomplete:"off"},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):k("",!0),l(e).type!=="presto"?(f(),S(v,{key:10,label:l(a)("datasource.password")},{default:u(()=>[o(l(be),{placeholder:l(a)("common.inputText")+l(a)("datasource.password"),"show-password":"",type:"password",modelValue:l(e).configuration.password,"onUpdate:modelValue":n[15]||(n[15]=i=>l(e).configuration.password=i)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):k("",!0),l(e).type=="oracle"&&l(e).configuration.urlType!=="jdbcUrl"?(f(),S(v,{key:11,label:l(a)("datasource.connection_mode"),prop:"configuration.connectionType"},{default:u(()=>[o(q,{modelValue:l(e).configuration.connectionType,"onUpdate:modelValue":n[16]||(n[16]=i=>l(e).configuration.connectionType=i),label:"sid"},{default:u(()=>[V(d(l(a)("datasource.oracle_sid")),1)]),_:1},8,["modelValue"]),o(q,{modelValue:l(e).configuration.connectionType,"onUpdate:modelValue":n[17]||(n[17]=i=>l(e).configuration.connectionType=i),label:"serviceName"},{default:u(()=>[V(d(l(a)("datasource.oracle_service_name")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):k("",!0),["oracle","sqlServer","pg","redshift","db2"].includes(l(e).type)?(f(),S(v,{key:12,class:"schema-label",prop:ke.value?"":"configuration.schema"},{label:u(()=>[p("span",ao,[V(d(l(a)("datasource.schema")),1),n[56]||(n[56]=p("i",{class:"required"},null,-1))]),o(j,{text:"",size:"small",onClick:n[18]||(n[18]=i=>vl())},{icon:u(()=>[o(l(A),{name:"icon_add_outlined"},{default:u(()=>[o(l(Ye),{class:"svg-icon"})]),_:1})]),default:u(()=>[V(" "+d(l(a)("datasource.get_schema")),1)]),_:1})]),default:u(()=>[o(Se,{modelValue:l(e).configuration.schema,"onUpdate:modelValue":n[19]||(n[19]=i=>l(e).configuration.schema=i),filterable:"",placeholder:l(a)("common.please_select"),class:"de-select",onChange:Ee,onBlur:Ee},{default:u(()=>[(f(!0),w(O,null,I(s.value,i=>(f(),S(ce,{key:i,label:i,value:i},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["prop"])):k("",!0),l(e).configuration.urlType!=="jdbcUrl"&&l(e).type!=="es"?(f(),S(v,{key:13,label:l(a)("datasource.extra_params")},{default:u(()=>[o(_,{placeholder:l(a)("common.inputText")+l(a)("datasource.extra_params"),modelValue:l(e).configuration.extraParams,"onUpdate:modelValue":n[20]||(n[20]=i=>l(e).configuration.extraParams=i),autocomplete:"off"},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):k("",!0),o(v,null,{default:u(()=>[!["es","api"].includes(l(e).type)&&l(e).configuration.urlType!=="jdbcUrl"?(f(),w("span",{key:0,class:"de-expand",onClick:n[21]||(n[21]=i=>ve.value=!ve.value)},[V(d(l(a)("data_source.ssh_settings"))+" ",1),o(X,null,{default:u(()=>[o(l(A),null,{default:u(()=>[(f(),S(ze(ve.value?l(Je):l(Xe)),{class:"svg-icon"}))]),_:1})]),_:1})])):k("",!0)]),_:1}),ve.value?(f(),w(O,{key:14},[o(v,null,{default:u(()=>[o(Tl,{modelValue:l(e).configuration.useSSH,"onUpdate:modelValue":n[22]||(n[22]=i=>l(e).configuration.useSSH=i)},{default:u(()=>[V(d(l(a)("data_source.enable_ssh")),1)]),_:1},8,["modelValue"])]),_:1}),o(v,{label:l(a)("data_source.host"),prop:"configuration.sshHost"},{default:u(()=>[o(_,{modelValue:l(e).configuration.sshHost,"onUpdate:modelValue":n[23]||(n[23]=i=>l(e).configuration.sshHost=i),placeholder:l(a)("data_source.please_enter_hostname"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(v,{label:l(a)("data_source.port"),prop:"configuration.sshPort"},{default:u(()=>[o(Y,{modelValue:l(e).configuration.sshPort,"onUpdate:modelValue":n[24]||(n[24]=i=>l(e).configuration.sshPort=i),autocomplete:"off","step-strictly":"",class:"text-left",min:0,max:65535,placeholder:l(a)("common.inputText")+l(a)("datasource.port"),"controls-position":"right"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(v,{label:l(a)("datasource.user_name"),prop:"configuration.sshUserName"},{default:u(()=>[o(_,{placeholder:l(a)("common.inputText")+l(a)("datasource.user_name"),modelValue:l(e).configuration.sshUserName,"onUpdate:modelValue":n[25]||(n[25]=i=>l(e).configuration.sshUserName=i),autocomplete:"off",maxlength:255},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),o(v,{label:l(a)("data_source.connection_method")},{default:u(()=>[o(pe,{modelValue:l(e).configuration.sshType,"onUpdate:modelValue":n[26]||(n[26]=i=>l(e).configuration.sshType=i)},{default:u(()=>[o(q,{label:"password"},{default:u(()=>[V(d(l(a)("data_source.password")),1)]),_:1}),o(q,{label:"sshkey"},{default:u(()=>n[57]||(n[57]=[V("ssh key")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(e).configuration.sshType==="password"?(f(),S(v,{key:0,label:l(a)("datasource.password"),prop:"configuration.sshPassword"},{default:u(()=>[o(l(be),{placeholder:l(a)("common.inputText")+l(a)("datasource.password"),"show-password":"",type:"password",modelValue:l(e).configuration.sshPassword,"onUpdate:modelValue":n[27]||(n[27]=i=>l(e).configuration.sshPassword=i)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):k("",!0),l(e).configuration.sshType==="sshkey"?(f(),S(v,{key:1,label:"ssh key",prop:"configuration.sshKey"},{default:u(()=>[o(_,{type:"textarea",rows:6,modelValue:l(e).configuration.sshKey,"onUpdate:modelValue":n[28]||(n[28]=i=>l(e).configuration.sshKey=i),placeholder:l(a)("data_source.enter_ssh_key"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1})):k("",!0),l(e).configuration.sshType==="sshkey"?(f(),S(v,{key:2,label:l(a)("data_source.ssh_key_password")},{default:u(()=>[o(l(be),{placeholder:l(a)("common.inputText")+l(a)("datasource.password"),"show-password":"",type:"password",modelValue:l(e).configuration.sshKeyPassword,"onUpdate:modelValue":n[29]||(n[29]=i=>l(e).configuration.sshKeyPassword=i)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):k("",!0)],64)):k("",!0),o(v,null,{default:u(()=>[["es","api"].includes(l(e).type)?k("",!0):(f(),w("span",{key:0,class:"de-expand",onClick:n[30]||(n[30]=i=>ge.value=!ge.value)},[V(d(l(a)("datasource.priority"))+" ",1),o(X,null,{default:u(()=>[o(l(A),null,{default:u(()=>[(f(),S(ze(ge.value?l(Je):l(Xe))))]),_:1})]),_:1})]))]),_:1}),ge.value?(f(),w(O,{key:15},[o(Ue,{gutter:24,class:"mb16"},{default:u(()=>[o(ue,{span:12},{default:u(()=>[o(v,{label:l(a)("datasource.initial_pool_size"),prop:"configuration.initialPoolSize"},{default:u(()=>[o(Y,{modelValue:l(e).configuration.initialPoolSize,"onUpdate:modelValue":n[31]||(n[31]=i=>l(e).configuration.initialPoolSize=i),"controls-position":"right",autocomplete:"off",placeholder:l(a)("common.inputText")+l(a)("datasource.initial_pool_size"),type:"number",min:0},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),o(ue,{span:12},{default:u(()=>[o(v,{label:l(a)("datasource.min_pool_size"),prop:"configuration.minPoolSize"},{default:u(()=>[o(Y,{modelValue:l(e).configuration.minPoolSize,"onUpdate:modelValue":n[32]||(n[32]=i=>l(e).configuration.minPoolSize=i),"controls-position":"right",autocomplete:"off",placeholder:l(a)("common.inputText")+l(a)("datasource.min_pool_size"),type:"number",min:0},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),o(Ue,{gutter:24},{default:u(()=>[o(ue,{span:12},{default:u(()=>[o(v,{label:l(a)("datasource.max_pool_size"),prop:"configuration.maxPoolSize"},{default:u(()=>[o(Y,{modelValue:l(e).configuration.maxPoolSize,"onUpdate:modelValue":n[33]||(n[33]=i=>l(e).configuration.maxPoolSize=i),"controls-position":"right",autocomplete:"off",placeholder:l(a)("common.inputText")+l(a)("datasource.max_pool_size"),type:"number",min:0},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),o(ue,{span:12},{default:u(()=>[o(v,{label:`${l(a)("datasource.query_timeout")}(${l(a)("common.second")})`,prop:"configuration.queryTimeout"},{default:u(()=>[o(Y,{modelValue:l(e).configuration.queryTimeout,"onUpdate:modelValue":n[34]||(n[34]=i=>l(e).configuration.queryTimeout=i),"controls-position":"right",autocomplete:"off",placeholder:l(a)("common.inputText")+l(a)("datasource.query_timeout"),type:"number",min:0},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})],64)):k("",!0),o(l(Ol),{form:l(e),jsname:"L2NvbXBvbmVudC9kYXRhLWZpbGxpbmcvRGF0YXNvdXJjZUVuYWJsZURhdGFGaWxsaW5n"},null,8,["form"])],64)):k("",!0)]),_:1},8,["model","rules"])),[[zl,z.value]]),o(l(_e),{ref_key:"dsApiForm",ref:_l,model:l(e),rules:yl,"label-width":"180px","label-position":"top","require-asterisk-position":"right"},{default:u(()=>[l(T)===2&&l(e).type==="API"?(f(),S(v,{key:0,label:l(a)("datasource.update_type"),prop:"syncSetting.updateType"},{default:u(()=>[o(pe,{modelValue:l(e).syncSetting.updateType,"onUpdate:modelValue":n[35]||(n[35]=i=>l(e).syncSetting.updateType=i)},{default:u(()=>[o(q,{label:"all_scope"},{default:u(()=>[V(d(l(a)("datasource.all_scope")),1)]),_:1}),o(q,{label:"add_scope"},{default:u(()=>[V(d(l(a)("datasource.add_scope")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):k("",!0),l(T)===2&&l(e).type==="API"?(f(),S(v,{key:1,label:l(a)("datasource.sync_rate"),prop:"syncSetting.syncRate"},{default:u(()=>[o(pe,{modelValue:l(e).syncSetting.syncRate,"onUpdate:modelValue":n[36]||(n[36]=i=>l(e).syncSetting.syncRate=i),onChange:gl},{default:u(()=>[o(q,{label:"RIGHTNOW"},{default:u(()=>[V(d(l(a)("data_source.update_now")),1)]),_:1}),o(q,{label:"CRON"},{default:u(()=>[V(d(l(a)("datasource.cron_config")),1)]),_:1}),o(q,{label:"SIMPLE_CRON"},{default:u(()=>[V(d(l(a)("datasource.simple_cron")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):k("",!0),l(T)===2&&l(e).type==="API"&&l(e).syncSetting.syncRate!=="RIGHTNOW"?(f(),w("div",oo,[l(e).syncSetting.syncRate==="SIMPLE_CRON"?(f(),S(v,{key:0,label:l(a)("auth.set_rules"),prop:"syncSetting.simpleCronValue"},{default:u(()=>[p("div",to,[V(d(l(a)("common.every"))+" ",1),o(Y,{modelValue:l(e).syncSetting.simpleCronValue,"onUpdate:modelValue":n[37]||(n[37]=i=>l(e).syncSetting.simpleCronValue=i),"controls-position":"right",min:1,onChange:n[38]||(n[38]=i=>Re())},null,8,["modelValue"]),o(Se,{modelValue:l(e).syncSetting.simpleCronType,"onUpdate:modelValue":n[39]||(n[39]=i=>l(e).syncSetting.simpleCronType=i),filterable:"",onChange:n[40]||(n[40]=i=>Re())},{default:u(()=>[o(ce,{label:l(a)("common.minute"),value:"minute"},null,8,["label"]),o(ce,{label:l(a)("common.hour"),value:"hour"},null,8,["label"]),o(ce,{label:l(a)("common.day"),value:"day"},null,8,["label"])]),_:1},8,["modelValue"]),V(" "+d(l(a)("data_source.update_once")),1)])]),_:1},8,["label"])):k("",!0),l(e).syncSetting.syncRate==="CRON"?(f(),S(v,{key:1,prop:"syncSetting.cron"},{default:u(()=>[o(He,{width:834,modelValue:C.value,"onUpdate:modelValue":n[45]||(n[45]=i=>C.value=i),trigger:"click"},{default:u(()=>[p("div",no,[he.value?(f(),S(Pa,{key:0,modelValue:l(e).syncSetting.cron,"onUpdate:modelValue":n[41]||(n[41]=i=>l(e).syncSetting.cron=i),"is-rate":l(e).syncRate==="CRON",onClose:n[42]||(n[42]=i=>C.value=!1)},null,8,["modelValue","is-rate"])):k("",!0)])]),reference:u(()=>[o(_,{modelValue:l(e).syncSetting.cron,"onUpdate:modelValue":n[43]||(n[43]=i=>l(e).syncSetting.cron=i),onClick:n[44]||(n[44]=i=>C.value=!0)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})):k("",!0),l(e).syncSetting.syncRate!=="RIGHTNOW"?(f(),S(v,{key:2,label:l(a)("datasource.start_time"),prop:"syncSetting.startTime"},{default:u(()=>[o(Me,{modelValue:l(e).syncSetting.startTime,"onUpdate:modelValue":n[46]||(n[46]=i=>l(e).syncSetting.startTime=i),class:"de-date-picker","prefix-icon":l(Ge),type:"datetime",placeholder:l(a)("datasource.start_time")},null,8,["modelValue","prefix-icon","placeholder"])]),_:1},8,["label"])):k("",!0),l(e).syncSetting.syncRate!=="RIGHTNOW"?(f(),S(v,{key:3,label:l(a)("datasource.end_time"),prop:"syncSetting.endLimit"},{default:u(()=>[p("div",uo,[o(Me,{modelValue:l(e).syncSetting.endTime,"onUpdate:modelValue":n[47]||(n[47]=i=>l(e).syncSetting.endTime=i),class:"de-date-picker","prefix-icon":l(Ge),type:"datetime",placeholder:l(a)("datasource.end_time")},null,8,["modelValue","prefix-icon","placeholder"])])]),_:1},8,["label"])):k("",!0)])):k("",!0)]),_:1},8,["model"]),o(De,{title:l(a)("data_source.edit_parameters"),modelValue:we.value,"onUpdate:modelValue":n[51]||(n[51]=i=>we.value=i),width:"420px",class:"create-dialog","before-close":Le},{footer:u(()=>[o(j,{secondary:"",onClick:Le},{default:u(()=>[V(d(l(a)("dataset.cancel")),1)]),_:1}),o(j,{type:"primary",onClick:hl},{default:u(()=>[V(d(l(a)("dataset.confirm")),1)]),_:1})]),default:u(()=>[o(l(_e),{"label-position":"top","require-asterisk-position":"right",ref_key:"paramsObjRef",ref:je,onKeydown:n[50]||(n[50]=Fe(re(()=>{},["stop","prevent"]),["enter"])),model:K.value,rules:bl},{default:u(()=>[o(v,{label:l(a)("visualization.param_name"),prop:"name"},{default:u(()=>[o(_,{placeholder:l(a)("data_source.enter_parameter_name"),modelValue:K.value.name,"onUpdate:modelValue":n[48]||(n[48]=i=>K.value.name=i)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),o(v,{label:l(a)("deDataset.parameter_type"),prop:"deType"},{default:u(()=>[o(pe,{modelValue:K.value.deType,"onUpdate:modelValue":n[49]||(n[49]=i=>K.value.deType=i)},{default:u(()=>[o(q,{value:0,label:l(a)("data_source.text")},null,8,["label"]),o(q,{value:2,label:l(a)("data_source.numerical_value")},null,8,["label"]),o(q,{value:3,label:l(a)("data_source.numeric_value_decimal")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title","modelValue"]),o(De,{title:l(a)("data_source.rename"),modelValue:de.value,"onUpdate:modelValue":n[54]||(n[54]=i=>de.value=i),width:"420px",class:"create-dialog","before-close":Ae},{footer:u(()=>[o(j,{secondary:"",onClick:Ae},{default:u(()=>[V(d(l(a)("dataset.cancel")),1)]),_:1}),o(j,{type:"primary",onClick:kl},{default:u(()=>[V(d(l(a)("dataset.confirm")),1)]),_:1})]),default:u(()=>[o(l(_e),{"label-position":"top","require-asterisk-position":"right",ref_key:"apiObjRef",ref:Ie,onKeydown:n[53]||(n[53]=Fe(re(()=>{},["stop","prevent"]),["enter"])),model:G.value,rules:xl},{default:u(()=>[o(v,{label:l(a)("data_source.interface_name"),prop:"name"},{default:u(()=>[o(_,{placeholder:l(a)("data_source.the_interface_name"),modelValue:G.value.name,"onUpdate:modelValue":n[52]||(n[52]=i=>G.value.name=i)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title","modelValue"]),o(Ql,{onReturnItem:Vl,ref_key:"editApiItem",ref:U},null,512)])])}}});const Et=na(so,[["__scopeId","data-v-0fd237e9"]]);export{Et as default};
