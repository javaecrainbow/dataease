import"./index-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{j as M,y as j}from"./index-0.0.0-dataease2.js";import"./el-tag-0.0.0-dataease.js";import{E as q,a as P}from"./el-select-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import{E as G,a as K}from"./el-radio-0.0.0-dataease.js";import{E as Z}from"./el-radio-button-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import{E as H}from"./el-slider-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{a as Q,E as W}from"./el-form-item-0.0.0-dataease.js";import{E as X}from"./el-checkbox-0.0.0-dataease.js";import{d as Y,w as $,_ as ee,m as v,r as te,o as oe,f as m,M as b,k as a,i as r,V as c,a6 as h,a7 as F,j as s,N as le,a0 as p,g as y,Z as D,aa as ae,ac as x}from"./vue-0.0.0-dataease.js";import{M as re,C as ne}from"./chart-0.0.0-dataease.js";import{e as E,i as ie}from"./StringUtils-0.0.0-dataease.js";import{p as me}from"./util-0.0.0-dataease2.js";import{_ as se}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./user-0.0.0-dataease.js";import"./index-0.0.0-dataease4.js";import"./index-0.0.0-dataease14.js";import"./strings-0.0.0-dataease.js";import"./index-0.0.0-dataease5.js";import"./position-0.0.0-dataease.js";import"./index-0.0.0-dataease15.js";import"./formatter-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";const fe={key:0},de={style:{"padding-left":"22px"}},ue=Y({__name:"FunctionCfg",props:{chart:{type:Object,required:!0},themes:{type:String,default:"dark"},propertyInner:{type:Array}},emits:["onFunctionCfgChange"],setup(o,{emit:N}){const{t:i}=M(),n=o,O=N;$(()=>n.chart.senior.functionCfg,()=>{S()},{deep:!0});const t=ee({functionForm:JSON.parse(JSON.stringify(re)),predefineColors:ne,showEmptyStrategy:!1}),d=()=>{O("onFunctionCfgChange",t.functionForm)},C=f=>{var e;return(e=n.propertyInner)==null?void 0:e.includes(f)},S=()=>{const f=JSON.parse(JSON.stringify(n.chart));if(f.senior){let e=me(f.senior);e.functionCfg&&(t.functionForm=e.functionCfg),B()}},U=v(()=>!(E(n.chart.type,"table-pivot","table-info","indicator")||n.chart.type.includes("chart-mix"))),V=v(()=>E(n.chart.type,"rich-text")),w=v(()=>C("emptyDataStrategy")&&ie(n.chart.type,"table")&&t.functionForm.emptyDataStrategy!=="breakLine"),_=te([]),B=()=>{if(w.value){_.value=[];let f;E(n.chart.type,"table-normal","table-pivot")&&(f=n.chart.yAxis),n.chart.type==="table-info"&&(f=n.chart.xAxis),f.forEach(e=>{e.groupType==="q"&&_.value.push({label:e.name,value:e.dataeaseName})})}};return oe(()=>{S()}),(f,e)=>{const I=X,u=Q,A=H,k=Z,g=G,T=K,L=j,R=q,J=P,z=W;return m(),b("div",{onKeydown:e[9]||(e[9]=x(()=>{},["stop"])),onKeyup:e[10]||(e[10]=x(()=>{},["stop"])),style:{width:"100%"}},[a(z,{ref:"functionForm",model:t.functionForm,"label-position":"top",onSubmit:e[8]||(e[8]=x(()=>{},["prevent"]))},{default:r(()=>[C("slider")?(m(),b("div",fe,[a(u,{class:c(["form-item form-item-checkbox","form-item-"+o.themes])},{default:r(()=>[a(I,{effect:o.themes,size:"small",modelValue:t.functionForm.sliderShow,"onUpdate:modelValue":e[0]||(e[0]=l=>t.functionForm.sliderShow=l),onChange:d},{default:r(()=>[h(F(s(i)("chart.slider")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),le("div",de,[a(u,{label:s(i)("chart.slider_range")+"(%)",class:c(["form-item range-slider form-item-checkbox","form-item-"+o.themes])},{default:r(()=>[a(A,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderRange,"onUpdate:modelValue":e[1]||(e[1]=l=>t.functionForm.sliderRange=l),style:{width:"90%","margin-top":"-8px"},min:0,max:100,"input-size":"small",range:"",onChange:d},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"]),a(u,{label:s(i)("chart.slider_bg"),class:c(["form-item","form-item-"+o.themes])},{default:r(()=>[a(k,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderBg,"onUpdate:modelValue":e[2]||(e[2]=l=>t.functionForm.sliderBg=l),class:"color-picker-style",predefine:t.predefineColors,onChange:d,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"]),a(u,{label:s(i)("chart.slider_fill_bg"),class:c(["form-item","form-item-"+o.themes])},{default:r(()=>[a(k,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderFillBg,"onUpdate:modelValue":e[3]||(e[3]=l=>t.functionForm.sliderFillBg=l),class:"color-picker-style",predefine:t.predefineColors,onChange:d,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"]),a(u,{label:s(i)("chart.slider_text_color"),class:c(["form-item","form-item-"+o.themes])},{default:r(()=>[a(k,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderTextColor,"onUpdate:modelValue":e[4]||(e[4]=l=>t.functionForm.sliderTextColor=l),class:"color-picker-style",predefine:t.predefineColors,onChange:d,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"])])])):p("",!0),C("emptyDataStrategy")?(m(),y(u,{key:1,label:s(i)("chart.empty_data_strategy"),class:c(["form-item","form-item-"+o.themes])},{default:r(()=>[a(T,{effect:o.themes,modelValue:t.functionForm.emptyDataStrategy,"onUpdate:modelValue":e[5]||(e[5]=l=>t.functionForm.emptyDataStrategy=l),onChange:d},{default:r(()=>[a(g,{effect:o.themes,label:"breakLine"},{default:r(()=>[h(F(V.value?'置为"-"':s(i)("chart.break_line")),1)]),_:1},8,["effect"]),V.value?(m(),y(g,{key:0,effect:o.themes,label:"custom"},{default:r(()=>e[11]||(e[11]=[h(" 自定义 ")])),_:1},8,["effect"])):p("",!0),V.value?p("",!0):(m(),b(D,{key:1},[a(g,{effect:o.themes,label:"setZero"},{default:r(()=>[h(F(s(i)("chart.set_zero")),1)]),_:1},8,["effect"]),U.value?(m(),y(g,{key:0,effect:o.themes,label:"ignoreData"},{default:r(()=>[h(F(s(i)("chart.ignore_data")),1)]),_:1},8,["effect"])):p("",!0)],64))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"])):p("",!0),a(u,null,{default:r(()=>[t.functionForm.emptyDataStrategy==="custom"?(m(),y(L,{key:0,effect:o.themes,modelValue:t.functionForm.emptyDataCustomValue,"onUpdate:modelValue":e[6]||(e[6]=l=>t.functionForm.emptyDataCustomValue=l),class:"value-item",onChange:d,placeholder:"请输入自定义值",clearable:""},null,8,["effect","modelValue"])):p("",!0)]),_:1}),w.value?(m(),y(u,{key:2,label:s(i)("chart.empty_data_field_ctrl"),class:c(["form-item","form-item-"+o.themes])},{default:r(()=>[a(J,{effect:o.themes,modelValue:t.functionForm.emptyDataFieldCtrl,"onUpdate:modelValue":e[7]||(e[7]=l=>t.functionForm.emptyDataFieldCtrl=l),multiple:"",onChange:d},{default:r(()=>[(m(!0),b(D,null,ae(_.value,l=>(m(),y(R,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"])):p("",!0)]),_:1},8,["model"])],32)}}});const Ze=se(ue,[["__scopeId","data-v-aef6b7e0"]]);export{Ze as default};
