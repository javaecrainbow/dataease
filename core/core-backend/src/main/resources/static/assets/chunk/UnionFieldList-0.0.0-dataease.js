import{p as I}from"./index-0.0.0-dataease.js";import{E as S,a as B}from"./el-table-column-0.0.0-dataease.js";import{E as $}from"./el-checkbox-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{j,y as A,_ as D,e as M}from"./index-0.0.0-dataease2.js";import{i as R}from"./icon_search-outline_outlined-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import{f as L}from"./attr-0.0.0-dataease20.js";import{i as q}from"./field-list-0.0.0-dataease.js";import{d as z,r as d,w as V,f as w,M as O,N as v,a7 as m,k as o,i as n,j as c,g as G,V as H,q as J,a6 as K}from"./vue-0.0.0-dataease.js";import{_ as P}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./index-0.0.0-dataease4.js";import"./index-0.0.0-dataease5.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./user-0.0.0-dataease.js";const Q={class:"field-block-style"},W={class:"field-block-option"},X={class:"option-field"},Y={class:"field-block-body"},Z=z({__name:"UnionFieldList",props:{fieldList:{type:Array,default:()=>[]},node:I.object.def({})},emits:["checkedFields"],setup(g,{emit:E}){const{t:k}=j(),r=g,b=E,N=d(),p=d(""),f=d(!1),_=d(!0),T=l=>{t.value.forEach(a=>{a.checked=l});const e=t.value.map(a=>a.originName);l?s.value=[...s.value.filter(a=>!e.includes(a.originName)),...t.value]:s.value=s.value.filter(a=>!e.includes(a.originName)),_.value=!1,b("checkedFields",s.value)},t=d([]),s=d([]),x=()=>{u(t.value.filter(l=>l.checked))},u=l=>{const e=l.length;f.value=e===t.value.length,_.value=e>0&&e<t.value.length,s.value=r.fieldList.filter(a=>a.checked),b("checkedFields",s.value)};return V(p,l=>{l.trim()!==""?t.value=r.fieldList.filter(e=>e.originName.toLocaleLowerCase().includes(l.trim().toLocaleLowerCase())):t.value=r.fieldList,u(t.value.filter(e=>e.checked))},{immediate:!0}),V(()=>r.fieldList,()=>{t.value=r.fieldList,u(t.value.filter(l=>l.checked))}),(l,e)=>{const a=D,y=M,F=A,C=$,h=B;return w(),O("div",Q,[v("div",W,[v("span",X,m(l.$t("dataset.field_select"))+"("+m(s.value.length)+"/"+m(g.fieldList.length)+")",1),o(F,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=i=>p.value=i),placeholder:l.$t("auth.search_by_field"),clearable:"",class:"option-input"},{prefix:n(()=>[o(y,null,{default:n(()=>[o(a,{name:"icon_search-outline_outlined"},{default:n(()=>[o(c(R),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["modelValue","placeholder"])]),v("div",Y,[o(c(S),{"header-cell-class-name":"header-cell",ref_key:"multipleTableRef",ref:N,data:t.value,style:{width:"100%"},onSelectionChange:u},{default:n(()=>[o(h,{align:"center",width:"55"},{header:n(()=>[o(C,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=i=>f.value=i),indeterminate:_.value,onChange:T},null,8,["modelValue","indeterminate"])]),default:n(i=>[o(C,{onChange:x,modelValue:i.row.checked,"onUpdate:modelValue":U=>i.row.checked=U},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(h,{label:c(k)("dataset.origin_name")},{default:n(i=>[o(y,null,{default:n(()=>[o(a,null,{default:n(()=>[(w(),G(J(c(q)[c(L)[i.row.deType]]),{class:H(["svg-icon",`field-icon-${c(L)[i.row.deType]}`])},null,8,["class"]))]),_:2},1024)]),_:2},1024),K(" "+m(i.row.originName),1)]),_:1},8,["label"]),o(h,{property:"description",label:c(k)("deDataset.description")},null,8,["label"])]),_:1},8,["data"])])])}}});const be=P(Z,[["__scopeId","data-v-b94f669e"]]);export{be as default};
