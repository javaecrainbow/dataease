import"./translate-0.0.0-dataease.js";import{D as L,f as z}from"./chart-0.0.0-dataease.js";import{d as D}from"./dvMain-0.0.0-dataease.js";import{u as g}from"./index-0.0.0-dataease.js";import{m as C}from"./lodash-0.0.0-dataease.js";const r=D(),c="#000000",F="#CCCCCC",V="#f5f6f7",b="#FFFFFF",S="#FFFFFF",R="#858383",k="#030B2E",w="#5a5c62",G={basicStyle:["barWidth","lineWidth","lineSymbolSize"],tableHeader:["tableTitleFontSize","tableTitleHeight"],tableCell:["tableItemFontSize","tableItemHeight"],misc:["nameFontSize","valueFontSize","spaceSplit","scatterSymbolSize","radarSize","wordSizeRange","wordSpacing"],label:{fontSize:"",seriesLabelFormatter:["fontSize"]},tooltip:{fontSize:"",seriesTooltipFormatter:["fontSize"]},indicator:["fontSize","suffixFontSize"],indicatorName:["fontSize","nameValueSpacing"]},K={text:["fontSize"],legend:["fontSize"],xAxis:{fontSize:"fontSize",axisLabel:["fontSize"],splitLine:{lineStyle:["width"]}},yAxis:{fontSize:"fontSize",axisLabel:["fontSize"],splitLine:{lineStyle:["width"]}},yAxisExt:{fontSize:"fontSize",axisLabel:["fontSize"],splitLine:{lineStyle:["width"]}},misc:{fontSize:"fontSize",axisLine:{lineStyle:["width"]},axisTick:{lineStyle:["width"]},axisLabel:["margin","fontSize"],splitLine:{lineStyle:["width"]}}},E={legend:["color"],xAxis:{color:"color",axisLabel:["color"]},yAxis:{color:"",axisLabel:["color"]},yAxisExt:{color:"",axisLabel:["color"]},misc:{color:"color",axisTick:{lineStyle:["color"]},axisLabel:["color"]}},y={xAxis:{splitLine:{lineStyle:["color"]}},yAxis:{splitLine:{lineStyle:["color"]}},yAxisExt:{splitLine:{lineStyle:["color"]}},misc:{splitLine:{lineStyle:["color"]},axisLine:{lineStyle:["color"]}}},T={label:["color"],tooltip:["color"],indicatorName:["color"]},A={tooltip:["backgroundColor"]},_={lineWidth:2,lineSymbolSize:8};function f(e,o){if(e instanceof Array)return e.forEach((n,t)=>{const a=Math.round(n*o);e[t]=a>1?a:1}),e;const i=Math.round(e*o);return i>1?i:1}function m(e,o){var i,n,t,a;(n=(i=e.label)==null?void 0:i.seriesLabelFormatter)==null||n.forEach(s=>{s.color=o}),(a=(t=e.label)==null?void 0:t.seriesTooltipFormatter)==null||a.forEach(s=>{s.color=o})}function v(e,o,i,n){for(const t in e)e[t]instanceof Array?e[t].filter(a=>a!=="wordSizeRange").forEach(a=>{o[t]&&(o[t][a]||o[t].length)&&(n==="mobile"&&_[a]!==void 0?o[t][a]=_[a]:o[t]instanceof Array?o[t].forEach(s=>{s[a]=f(s[a],i)}):o[t][a]=f(o[t][a],i))}):typeof e[t]=="string"?o[t]=f(o[t],i):o[t]&&v(e[t],o[t],i,n)}function l(e,o,i){for(const n in e)e[n]instanceof Array?e[n].forEach(t=>{o[n]&&(o[n][t]=i)}):typeof e[n]=="string"?o[n]=i:o[n]&&l(e[n],o[n],i)}function M(e,o){const i=r.canvasStyleData;i.dashboard.themeColor==="light"?(l(E,e,c),l(y,e,F),l(T,o,c),l(A,o,b),m(o,c),C(o,L,i.component.chartColor)):(l(E,e,S),l(y,e,R),l(T,o,S),l(A,o,w),m(o,S),C(o,z,i.component.chartColor)),e.text={...i.component.chartTitle,title:e.text.title,show:e.text.show,remarkShow:e.text.remarkShow,remark:e.text.remark}}function d(e){if(["DeTabs"].includes(e.component)&&(e.commonBackground.innerPadding=0),r.dvInfo.type==="dataV"&&["CanvasBoard","CanvasIcon","Picture","Group","SvgTriangle","SvgStar"].includes(e.component))e.commonBackground.backgroundColorSelect=!1,e.commonBackground.innerPadding=0;else{const o=r.canvasStyleData.component.chartCommonStyle;for(const i in o)e.commonBackground[i]=o[i]}if(e.style.color&&(r.canvasStyleData.dashboard.themeColor==="light"?e.style.color=c:e.style.color=S),e.component==="UserView"){const o=r.canvasViewInfo[e.id];M(o.customStyle,o.customAttr),g().emitter.emit("renderChart-"+e.id,o)}else if(e.component==="Group")e.propValue.forEach(o=>{d(o)});else if(e.component==="DeTabs")r.canvasStyleData.dashboard.themeColor==="light"?(e.style.headFontColor=c,e.style.headFontActiveColor=c):(e.style.headFontColor=S,e.style.headFontActiveColor=S),e.propValue.forEach(o=>{o.componentData.forEach(i=>{d(i)})});else if(e.component==="VQuery"){const o=r.canvasViewInfo[e.id];o&&H(o)}return e}function U(){r.componentData.forEach(o=>{d(o)})}const h=["labelColor","borderColor","text","bgColor"],x=["borderShow","textColorShow","bgColorShow"];function H(e){if(u(e.type)){const o=r.canvasStyleData.component.filterStyle;h.forEach(i=>{e.customStyle.component[i]=o[i];const n=h.indexOf(i);n!==-1&&(e.customStyle.component[x[n]]=!0)})}}function W(e){const o=Object.values(r.canvasViewInfo),i=r.canvasStyleData.component.filterStyle;o.forEach(n=>{if(u(n.type)){n.customStyle.component[e]=i[e];const t=h.indexOf(e);t!==-1&&(n.customStyle.component[x[t]]=!0)}})}function u(e){return["VQuery"].includes(e)}export{k as D,V as L,d as a,U as b,W as c,G as d,K as e,v as r};
