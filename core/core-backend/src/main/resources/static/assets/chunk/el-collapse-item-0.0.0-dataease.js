import{l as x,x as V,A as U,i as S,h as D,ag as j,w as W,y as z}from"./index-0.0.0-dataease.js";import{m as G,a0 as $,aa as A,e as L}from"./index-0.0.0-dataease2.js";import{I as g}from"./lodash-0.0.0-dataease.js";import{r as b,w as R,S as X,m as r,d as C,f as T,M as B,p as E,V as m,j as e,R as q,N as v,ad as J,ac as Q,k as I,i as K,a6 as Y,a7 as Z,U as ee,X as se}from"./vue-0.0.0-dataease.js";import{_ as ae}from"./index-0.0.0-dataease12.js";import{g as H}from"./index-0.0.0-dataease4.js";const F=Symbol("collapseContextKey"),w=s=>typeof U(s),te=x({accordion:Boolean,modelValue:{type:V([Array,String,Number]),default:()=>G([])}}),le={[$]:w,[A]:w},oe=(s,o)=>{const a=b(g(s.modelValue)),n=l=>{a.value=l;const i=s.accordion?a.value[0]:a.value;o($,i),o(A,i)},t=l=>{if(s.accordion)n([a.value[0]===l?"":l]);else{const i=[...a.value],c=i.indexOf(l);c>-1?i.splice(c,1):i.push(l),n(i)}};return R(()=>s.modelValue,()=>a.value=g(s.modelValue),{deep:!0}),X(F,{activeNames:a,handleItemClick:t}),{activeNames:a,setActiveNames:n}},ne=()=>{const s=S("collapse");return{rootKls:r(()=>s.b())}},ie=C({name:"ElCollapse"}),ce=C({...ie,props:te,emits:le,setup(s,{expose:o,emit:a}){const n=s,{activeNames:t,setActiveNames:l}=oe(n,a),{rootKls:i}=ne();return o({activeNames:t,setActiveNames:l}),(c,u)=>(T(),B("div",{class:m(e(i)),role:"tablist","aria-multiselectable":"true"},[E(c.$slots,"default")],2))}});var re=D(ce,[["__file","/Users/st/Desktop/vue/nxx-ui/packages/components/collapse/src/collapse.vue"]]);const de=x({title:{type:String,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},name:{type:V([String,Number]),default:()=>H()},disabled:Boolean}),ue=s=>{const o=q(F),a=b(!1),n=b(!1),t=b(H()),l=r(()=>o==null?void 0:o.activeNames.value.includes(s.name));return{focusing:a,id:t,isActive:l,handleFocus:()=>{setTimeout(()=>{n.value?n.value=!1:a.value=!0},50)},handleHeaderClick:()=>{s.disabled||(o==null||o.handleItemClick(s.name),a.value=!1,n.value=!0)},handleEnterClick:()=>{o==null||o.handleItemClick(s.name)}}},pe=(s,{focusing:o,isActive:a,id:n})=>{const t=S("collapse"),l=r(()=>[t.b("item"),t.m(s.effect),t.is("active",e(a)),t.is("disabled",s.disabled)]),i=r(()=>[t.be("item","header"),t.is("active",e(a)),{focusing:e(o)&&!s.disabled}]),c=r(()=>[t.be("item","arrow"),t.is("active",e(a))]),u=r(()=>t.be("item","wrap")),h=r(()=>t.be("item","content")),_=r(()=>t.b(`content-${e(n)}`)),k=r(()=>t.b(`head-${e(n)}`));return{arrowKls:c,headKls:i,rootKls:l,itemWrapperKls:u,itemContentKls:h,scopedContentId:_,scopedHeadId:k}},me=["aria-expanded","aria-controls","aria-describedby"],fe=["id","tabindex"],ve=["id","aria-hidden","aria-labelledby"],be=C({name:"ElCollapseItem"}),Ce=C({...be,props:de,setup(s,{expose:o}){const a=s,{focusing:n,id:t,isActive:l,handleFocus:i,handleHeaderClick:c,handleEnterClick:u}=ue(a),{arrowKls:h,headKls:_,rootKls:k,itemWrapperKls:P,itemContentKls:O,scopedContentId:y,scopedHeadId:N}=pe(a,{focusing:n,isActive:l,id:t});return o({isActive:l,handleHeaderClick:c}),(f,d)=>(T(),B("div",{class:m(e(k))},[v("div",{role:"tab","aria-expanded":e(l),"aria-controls":e(y),"aria-describedby":e(y)},[v("div",{id:e(N),class:m(e(_)),role:"button",tabindex:f.disabled?-1:0,onClick:d[0]||(d[0]=(...p)=>e(c)&&e(c)(...p)),onKeypress:d[1]||(d[1]=J(Q((...p)=>e(u)&&e(u)(...p),["stop","prevent"]),["space","enter"])),onFocus:d[2]||(d[2]=(...p)=>e(i)&&e(i)(...p)),onBlur:d[3]||(d[3]=p=>n.value=!1)},[I(e(L),{class:m(e(h))},{default:K(()=>[I(e(j))]),_:1},8,["class"]),E(f.$slots,"title",{},()=>[Y(Z(f.title),1)])],42,fe)],8,me),I(e(ae),null,{default:K(()=>[ee(v("div",{id:e(y),class:m(e(P)),role:"tabpanel","aria-hidden":!e(l),"aria-labelledby":e(N)},[v("div",{class:m(e(O))},[E(f.$slots,"default")],2)],10,ve),[[se,e(l)]])]),_:3})],2))}});var M=D(Ce,[["__file","/Users/st/Desktop/vue/nxx-ui/packages/components/collapse/src/collapse-item.vue"]]);const Ne=W(re,{CollapseItem:M}),ge=z(M);export{ge as E,Ne as a};
