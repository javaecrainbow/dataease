import{r as z,aL as De,d as j,_ as be,m as x,w as P,o as me,b as ke,c as Le,a as He,k as S,n as N,G as Ne,V as We,aM as Xe,W as Ye,S as Ve,U as Fe,X as Ue,a5 as Ze,D as Ke}from"./vue-0.0.0-dataease.js";import{J as Ie,K as ve,H as je,L as Ge,c as G,t as D,n as W,f as Z,g as Re,F as $e,G as qe,M as Je,d as Be,N as Q,D as he,p as Qe,a as ue,w as le,m as de,k as pe,C as et,l as tt,v as at,A as we,i as ge,O as nt,P as ye,E as Te,Q as lt,u as _e,e as it,s as ot,j as Se}from"./index-0.0.0-dataease23.js";import{u as st,a as p,b as Ae,c as ct,r as rt,d as ut}from"./use-route-0.0.0-dataease.js";import{o as Pe,a as dt}from"./index-0.0.0-dataease24.js";import{u as ft,S as vt}from"./index-0.0.0-dataease27.js";function ht(e,o,c){let s,r=0;const t=e.scrollLeft,d=c===0?1:Math.round(c*1e3/16);let u=t;function f(){Ie(s)}function v(){u+=(o-t)/d,e.scrollLeft=u,++r<d&&(s=ve(v))}return v(),f}function gt(e,o,c,s){let r,t=je(e);const d=t<o,u=c===0?1:Math.round(c*1e3/16),f=(o-t)/u;function v(){Ie(r)}function l(){t+=f,(d&&t>o||!d&&t<o)&&(t=o),Ge(e,t),d&&t<o||!d&&t>o?r=ve(l):s&&(r=ve(s))}return l(),v}function bt(){const e=z([]),o=[];return De(()=>{e.value=[]}),[e,s=>(o[s]||(o[s]=r=>{e.value[s]=r}),o[s])]}const[ze,ae]=G("swipe"),mt={loop:D,width:W,height:W,vertical:Boolean,autoplay:Z(0),duration:Z(500),touchable:D,lazyRender:Boolean,initialSwipe:Z(0),indicatorColor:String,showIndicators:D,stopPropagation:D},Oe=Symbol(ze);var wt=j({name:ze,props:mt,emits:["change","dragStart","dragEnd"],setup(e,{emit:o,slots:c}){const s=z(),r=z(),t=be({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let d=!1;const u=st(),{children:f,linkChildren:v}=Re(Oe),l=x(()=>f.length),m=x(()=>t[e.vertical?"height":"width"]),C=x(()=>e.vertical?u.deltaY.value:u.deltaX.value),k=x(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-m.value*l.value:0),w=x(()=>m.value?Math.ceil(Math.abs(k.value)/m.value):l.value),I=x(()=>l.value*m.value),g=x(()=>(t.active+l.value)%l.value),K=x(()=>{const n=e.vertical?"vertical":"horizontal";return u.direction.value===n}),b=x(()=>{const n={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(m.value){const y=e.vertical?"height":"width",T=e.vertical?"width":"height";n[y]=`${I.value}px`,n[T]=e[T]?`${e[T]}px`:""}return n}),X=n=>{const{active:y}=t;return n?e.loop?ue(y+n,-1,l.value):ue(y+n,0,w.value):y},Y=(n,y=0)=>{let T=n*m.value;e.loop||(T=Math.min(T,-k.value));let _=y-T;return e.loop||(_=ue(_,k.value,0)),_},$=({pace:n=0,offset:y=0,emitChange:T})=>{if(l.value<=1)return;const{active:_}=t,a=X(n),i=Y(a,y);if(e.loop){if(f[0]&&i!==k.value){const h=i<k.value;f[0].setOffset(h?I.value:0)}if(f[l.value-1]&&i!==0){const h=i>0;f[l.value-1].setOffset(h?-I.value:0)}}t.active=a,t.offset=i,T&&a!==_&&o("change",g.value)},M=()=>{t.swiping=!0,t.active<=-1?$({pace:l.value}):t.active>=l.value&&$({pace:-l.value})},L=()=>{M(),u.reset(),Q(()=>{t.swiping=!1,$({pace:-1,emitChange:!0})})},q=()=>{M(),u.reset(),Q(()=>{t.swiping=!1,$({pace:1,emitChange:!0})})};let H;const B=()=>clearTimeout(H),V=()=>{B(),+e.autoplay>0&&l.value>1&&(H=setTimeout(()=>{q(),V()},+e.autoplay))},O=(n=+e.initialSwipe)=>{if(!s.value)return;const y=()=>{var T,_;if(!he(s)){const a={width:s.value.offsetWidth,height:s.value.offsetHeight};t.rect=a,t.width=+((T=e.width)!=null?T:a.width),t.height=+((_=e.height)!=null?_:a.height)}l.value&&(n=Math.min(l.value-1,n),n===-1&&(n=l.value-1)),t.active=n,t.swiping=!0,t.offset=Y(n),f.forEach(a=>{a.setOffset(0)}),V()};he(s)?N().then(y):y()},F=()=>O(t.active);let J;const ie=n=>{!e.touchable||n.touches.length>1||(u.start(n),d=!1,J=Date.now(),B(),M())},oe=n=>{e.touchable&&t.swiping&&(u.move(n),K.value&&(!e.loop&&(t.active===0&&C.value>0||t.active===l.value-1&&C.value<0)||(Qe(n,e.stopPropagation),$({offset:C.value}),d||(o("dragStart",{index:g.value}),d=!0))))},ee=()=>{if(!e.touchable||!t.swiping)return;const n=Date.now()-J,y=C.value/n;if((Math.abs(y)>.25||Math.abs(C.value)>m.value/2)&&K.value){const _=e.vertical?u.offsetY.value:u.offsetX.value;let a=0;e.loop?a=_>0?C.value>0?-1:1:0:a=-Math[C.value>0?"ceil":"floor"](C.value/m.value),$({pace:a,emitChange:!0})}else C.value&&$({pace:0});d=!1,t.swiping=!1,o("dragEnd",{index:g.value}),V()},se=(n,y={})=>{M(),u.reset(),Q(()=>{let T;e.loop&&n===l.value?T=t.active===0?0:n:T=n%l.value,y.immediate?Q(()=>{t.swiping=!1}):t.swiping=!1,$({pace:T-t.active,emitChange:!0})})},ce=(n,y)=>{const T=y===g.value,_=T?{backgroundColor:e.indicatorColor}:void 0;return S("i",{style:_,class:ae("indicator",{active:T})},null)},re=()=>{if(c.indicator)return c.indicator({active:g.value,total:l.value});if(e.showIndicators&&l.value>1)return S("div",{class:ae("indicators",{vertical:e.vertical})},[Array(l.value).fill("").map(ce)])};return p({prev:L,next:q,state:t,resize:F,swipeTo:se}),v({size:m,props:e,count:l,activeIndicator:g}),P(()=>e.initialSwipe,n=>O(+n)),P(l,()=>O(t.active)),P(()=>e.autoplay,V),P([$e,qe,()=>e.width,()=>e.height],F),P(Je(),n=>{n==="visible"?V():B()}),me(O),ke(()=>O(t.active)),Pe(()=>O(t.active)),Le(B),He(B),Be("touchmove",oe,{target:r}),()=>{var n;return S("div",{ref:s,class:ae()},[S("div",{ref:r,style:b.value,class:ae("track",{vertical:e.vertical}),onTouchstartPassive:ie,onTouchend:ee,onTouchcancel:ee},[(n=c.default)==null?void 0:n.call(c)]),re()])}}});const yt=le(wt),[Tt,Ce]=G("tabs");var St=j({name:Tt,props:{count:de(Number),inited:Boolean,animated:Boolean,duration:de(W),swipeable:Boolean,lazyRender:Boolean,currentIndex:de(Number)},emits:["change"],setup(e,{emit:o,slots:c}){const s=z(),r=u=>o("change",u),t=()=>{var u;const f=(u=c.default)==null?void 0:u.call(c);return e.animated||e.swipeable?S(yt,{ref:s,loop:!1,class:Ce("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[f]}):f},d=u=>{const f=s.value;f&&f.state.active!==u&&f.swipeTo(u,{immediate:!e.inited})};return P(()=>e.currentIndex,d),me(()=>{d(e.currentIndex)}),p({swipeRef:s}),()=>S("div",{class:Ce("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ee,ne]=G("tabs"),Ct={type:pe("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:Z(0),duration:Z(.3),animated:Boolean,ellipsis:D,swipeable:Boolean,scrollspy:Boolean,offsetTop:Z(0),background:String,lazyRender:D,showHeader:D,lineWidth:W,lineHeight:W,beforeChange:Function,swipeThreshold:Z(5),titleActiveColor:String,titleInactiveColor:String},Me=Symbol(Ee);var xt=j({name:Ee,props:Ct,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:o,slots:c}){let s,r,t,d,u;const f=z(),v=z(),l=z(),m=z(),C=Ae(),k=et(f),[w,I]=bt(),{children:g,linkChildren:K}=Re(Me),b=be({inited:!1,position:"",lineStyle:{},currentIndex:-1}),X=x(()=>g.length>+e.swipeThreshold||!e.ellipsis||e.shrink),Y=x(()=>({borderColor:e.color,background:e.background})),$=(a,i)=>{var h;return(h=a.name)!=null?h:i},M=x(()=>{const a=g[b.currentIndex];if(a)return $(a,b.currentIndex)}),L=x(()=>tt(e.offsetTop)),q=x(()=>e.sticky?L.value+s:0),H=a=>{const i=v.value,h=w.value;if(!X.value||!i||!h||!h[b.currentIndex])return;const A=h[b.currentIndex].$el,R=A.offsetLeft-(i.offsetWidth-A.offsetWidth)/2;d&&d(),d=ht(i,R,a?0:+e.duration)},B=()=>{const a=b.inited;N(()=>{const i=w.value;if(!i||!i[b.currentIndex]||e.type!=="line"||he(f.value))return;const h=i[b.currentIndex].$el,{lineWidth:A,lineHeight:R}=e,E=h.offsetLeft+h.offsetWidth/2,U={width:we(A),backgroundColor:e.color,transform:`translateX(${E}px) translateX(-50%)`};if(a&&(U.transitionDuration=`${e.duration}s`),ge(R)){const te=we(R);U.height=te,U.borderRadius=te}b.lineStyle=U})},V=a=>{const i=a<b.currentIndex?-1:1;for(;a>=0&&a<g.length;){if(!g[a].disabled)return a;a+=i}},O=(a,i)=>{const h=V(a);if(!ge(h))return;const A=g[h],R=$(A,h),E=b.currentIndex!==null;b.currentIndex!==h&&(b.currentIndex=h,i||H(),B()),R!==e.active&&(o("update:active",R),E&&o("change",R,A.title)),t&&!e.scrollspy&&nt(Math.ceil(ye(f.value)-L.value))},F=(a,i)=>{const h=g.find((R,E)=>$(R,E)===a),A=h?g.indexOf(h):0;O(A,i)},J=(a=!1)=>{if(e.scrollspy){const i=g[b.currentIndex].$el;if(i&&k.value){const h=ye(i,k.value)-q.value;r=!0,u&&u(),u=gt(k.value,h,a?0:+e.duration,()=>{r=!1})}}},ie=(a,i,h)=>{const{title:A,disabled:R}=g[i],E=$(g[i],i);R||(ct(e.beforeChange,{args:[E],done:()=>{O(i),J()}}),rt(a)),o("clickTab",{name:E,title:A,event:h,disabled:R})},oe=a=>{t=a.isFixed,o("scroll",a)},ee=a=>{N(()=>{F(a),J(!0)})},se=()=>{for(let a=0;a<g.length;a++){const{top:i}=Te(g[a].$el);if(i>q.value)return a===0?0:a-1}return g.length-1},ce=()=>{if(e.scrollspy&&!r){const a=se();O(a)}},re=()=>{if(e.type==="line"&&g.length)return S("div",{class:ne("line"),style:b.lineStyle},null)},n=()=>{var a,i,h;const{type:A,border:R,sticky:E}=e,U=[S("div",{ref:E?void 0:l,class:[ne("wrap"),{[dt]:A==="line"&&R}]},[S("div",{ref:v,role:"tablist",class:ne("nav",[A,{shrink:e.shrink,complete:X.value}]),style:Y.value,"aria-orientation":"horizontal"},[(a=c["nav-left"])==null?void 0:a.call(c),g.map(te=>te.renderTitle(ie)),re(),(i=c["nav-right"])==null?void 0:i.call(c)])]),(h=c["nav-bottom"])==null?void 0:h.call(c)];return E?S("div",{ref:l},[U]):U},y=()=>{B(),N(()=>{var a,i;H(!0),(i=(a=m.value)==null?void 0:a.swipeRef.value)==null||i.resize()})};P(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],B),P($e,y),P(()=>e.active,a=>{a!==M.value&&F(a)}),P(()=>g.length,()=>{b.inited&&(F(e.active),B(),N(()=>{H(!0)}))});const T=()=>{F(e.active,!0),N(()=>{b.inited=!0,l.value&&(s=Te(l.value).height),H(!0)})},_=(a,i)=>o("rendered",a,i);return p({resize:y,scrollTo:ee}),ke(B),Pe(B),at(T),ft(f,B),Be("scroll",ce,{target:k,passive:!0}),K({id:C,props:e,setLine:B,scrollable:X,onRendered:_,currentName:M,setTitleRefs:I,scrollIntoView:H}),()=>S("div",{ref:f,class:ne([e.type])},[e.showHeader?e.sticky?S(vt,{container:f.value,offsetTop:L.value,onScroll:oe},{default:()=>[n()]}):n():null,S(St,{ref:m,count:g.length,inited:b.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:b.currentIndex,onChange:O},{default:()=>{var a;return[(a=c.default)==null?void 0:a.call(c)]}})])}});const kt=Symbol(),[It,xe]=G("tab"),Rt=j({name:It,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:W,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:D},setup(e,{slots:o}){const c=x(()=>{const r={},{type:t,color:d,disabled:u,isActive:f,activeColor:v,inactiveColor:l}=e;d&&t==="card"&&(r.borderColor=d,u||(f?r.backgroundColor=d:r.color=d));const C=f?v:l;return C&&(r.color=C),r}),s=()=>{const r=S("span",{class:xe("text",{ellipsis:!e.scrollable})},[o.title?o.title():e.title]);return e.dot||ge(e.badge)&&e.badge!==""?S(lt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>S("div",{id:e.id,role:"tab",class:[xe([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:c.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[s()])}}),[$t,Bt]=G("swipe-item");var _t=j({name:$t,setup(e,{slots:o}){let c;const s=be({offset:0,inited:!1,mounted:!1}),{parent:r,index:t}=_e(Oe);if(!r)return;const d=x(()=>{const v={},{vertical:l}=r.props;return r.size.value&&(v[l?"height":"width"]=`${r.size.value}px`),s.offset&&(v.transform=`translate${l?"Y":"X"}(${s.offset}px)`),v}),u=x(()=>{const{loop:v,lazyRender:l}=r.props;if(!l||c)return!0;if(!s.mounted)return!1;const m=r.activeIndicator.value,C=r.count.value-1,k=m===0&&v?C:m-1,w=m===C&&v?0:m+1;return c=t.value===m||t.value===k||t.value===w,c}),f=v=>{s.offset=v};return me(()=>{N(()=>{s.mounted=!0})}),p({setOffset:f}),()=>{var v;return S("div",{class:Bt(),style:d.value},[u.value?(v=o.default)==null?void 0:v.call(o):null])}}});const At=le(_t),[Pt,fe]=G("tab"),zt=it({},ut,{dot:Boolean,name:W,badge:W,title:String,disabled:Boolean,titleClass:ot,titleStyle:[String,Object],showZeroBadge:D});var Ot=j({name:Pt,props:zt,setup(e,{slots:o}){const c=Ae(),s=z(!1),r=Ke(),{parent:t,index:d}=_e(Me);if(!t)return;const u=()=>{var w;return(w=e.name)!=null?w:d.value},f=()=>{s.value=!0,t.props.lazyRender&&N(()=>{t.onRendered(u(),e.title)})},v=x(()=>{const w=u()===t.currentName.value;return w&&!s.value&&f(),w}),l=z(""),m=z("");Ne(()=>{const{titleClass:w,titleStyle:I}=e;l.value=w?We(w):"",m.value=I&&typeof I!="string"?Xe(Ye(I)):I});const C=w=>S(Rt,Ze({key:c,id:`${t.id}-${d.value}`,ref:t.setTitleRefs(d.value),style:m.value,class:l.value,isActive:v.value,controls:c,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:I=>w(r.proxy,d.value,I)},Se(t.props,["type","color","shrink"]),Se(e,["dot","badge","title","disabled","showZeroBadge"])),{title:o.title}),k=z(!v.value);return P(v,w=>{w?k.value=!1:Q(()=>{k.value=!0})}),P(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),Ve(kt,v),p({id:c,renderTitle:C}),()=>{var w;const I=`${t.id}-${d.value}`,{animated:g,swipeable:K,scrollspy:b,lazyRender:X}=t.props;if(!o.default&&!g)return;const Y=b||v.value;if(g||K)return S(At,{id:c,role:"tabpanel",class:fe("panel-wrapper",{inactive:k.value}),tabindex:v.value?0:-1,"aria-hidden":!v.value,"aria-labelledby":I,"data-allow-mismatch":"attribute"},{default:()=>{var L;return[S("div",{class:fe("panel")},[(L=o.default)==null?void 0:L.call(o)])]}});const M=s.value||b||!X?(w=o.default)==null?void 0:w.call(o):null;return Fe(S("div",{id:c,role:"tabpanel",class:fe("panel"),tabindex:Y?0:-1,"aria-labelledby":I,"data-allow-mismatch":"attribute"},[M]),[[Ue,Y]])}}});const Et=le(Ot);var Xt=Et;const Mt=le(xt);var Yt=Mt;export{Mt as T,Et as a,Xt as b,Yt as s};
