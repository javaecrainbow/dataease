import{a as lt,b as it,u as ae}from"./index-0.0.0-dataease.js";import"./el-footer-0.0.0-dataease.js";import{c as kt}from"./el-aside-0.0.0-dataease.js";import{f as r,M as D,N as a,d as te,t as xe,k as e,j as t,ai as be,r as B,_ as ce,m as W,Z as X,a7 as $,g as F,i as o,a0 as U,U as re,aj as xt,B as It,ag as Dt,n as ye,V as H,a6 as O,o as we,e as Ne,ac as Vt,w as Et,ab as qe,X as Ae,aa as Ce,W as ot,ak as $t,q as Lt}from"./vue-0.0.0-dataease.js";import{d as fe}from"./dvMain-0.0.0-dataease.js";import{_ as Mt,i as Bt,D as Tt,f as jt}from"./DePreview-0.0.0-dataease.js";import{D as Ot,_ as he,b as At,c as Ht,i as Ut,d as Ft,U as zt,e as Zt,Q as Pt,f as Rt,T as Nt,g as Wt,M as Gt,h as qt,j as Jt,k as Qt,l as Oe,O as Xt,C as Kt,a as Yt,S as eo,m as to,n as Ze}from"./CanvasCacheDialog.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{w as Q,x as We,J as pe,e as le,n as He,j as ve,_ as G,k as Ge,y as oo,v as no,u as ao,r as me}from"./index-0.0.0-dataease2.js";import lo from"./MobileConfigPanel-0.0.0-dataease.js";import{useAppStoreWithOut as st}from"./app-0.0.0-dataease.js";import{E as io,a as so,b as ro}from"./el-dropdown-menu-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-dropdown-item-0.0.0-dataease.js";import{E as Je}from"./el-col-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{d as co,a as uo}from"./MultiplexPreviewShow-0.0.0-dataease.js";import{i as mo}from"./icon_copy_filled-0.0.0-dataease.js";import{i as po}from"./icon_left_outlined-0.0.0-dataease.js";import{i as fo}from"./PreviewHead.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{e as ee}from"./eventBus-0.0.0-dataease.js";import{s as Se}from"./snapshot-0.0.0-dataease.js";import vo from"./MultiplexingCanvas-0.0.0-dataease.js";import{c as _o,a as ho,b as Pe,i as rt,s as go,g as Co,q as bo,d as yo,o as wo}from"./canvasUtils-0.0.0-dataease.js";import{d as So}from"./DeShortcutKey-0.0.0-dataease.js";import ko from"./DeResourceGroupOpt-0.0.0-dataease.js";import{_ as ie}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import xo from"./DeAppApply-0.0.0-dataease.js";import{useUserStoreWithOut as Io}from"./user-0.0.0-dataease.js";import{E as ke}from"./index-0.0.0-dataease4.js";import Do from"./index-0.0.0-dataease21.js";import{g as Vo}from"./dataset-0.0.0-dataease.js";import{E as Ue}from"./el-row-0.0.0-dataease.js";import{E as ct,a as Eo}from"./el-collapse-item-0.0.0-dataease.js";import{C as dt,D as $o}from"./chart-0.0.0-dataease.js";import{i as ut,b as Lo,u as nt}from"./imgUtils-0.0.0-dataease.js";import{b as mt,c as Mo}from"./canvasStyle-0.0.0-dataease.js";import{a as Bo,d as To,s as jo}from"./dataVisualization-0.0.0-dataease.js";import{g as Oo}from"./util-0.0.0-dataease.js";import{E as Ao}from"./el-dialog-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{a as Qe,E as pt}from"./el-form-item-0.0.0-dataease.js";import{E as Ho}from"./el-upload-0.0.0-dataease.js";import"./el-progress-0.0.0-dataease.js";import Uo from"./ImgViewDialog-0.0.0-dataease.js";import{E as Fo}from"./el-space-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{E as zo,a as Zo}from"./el-select-0.0.0-dataease.js";import{E as ft}from"./el-radio-button-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./el-radio-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import{i as Po,a as Ro}from"./icon_italic_outlined-0.0.0-dataease.js";import{i as No,a as Wo,b as Go}from"./icon_right-alignment_outlined-0.0.0-dataease.js";import{E as qo}from"./el-divider-0.0.0-dataease.js";import{i as Jo,a as Qo,b as Xo}from"./LegendSelector-0.0.0-dataease.js";import{d as vt,m as Ko}from"./lodash-0.0.0-dataease.js";import{B as Yo}from"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import en from"./ChartStyleBatchSet-0.0.0-dataease.js";import{c as tn,a as at}from"./CrossPermission-0.0.0-dataease.js";import{i as on}from"./interactive-0.0.0-dataease.js";import{w as nn}from"./watermark-0.0.0-dataease.js";import{g as an}from"./base64-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease2.js";import"./chart-0.0.0-dataease2.js";import"./formatter-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./Component-0.0.0-dataease16.js";import"./Component-0.0.0-dataease15.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./el-popover-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./el-tree-0.0.0-dataease.js";import"./index-0.0.0-dataease12.js";import"./el-checkbox-0.0.0-dataease.js";import"./el-tree-select-0.0.0-dataease.js";import"./el-checkbox-group-0.0.0-dataease.js";import"./el-tabs-0.0.0-dataease.js";import"./strings-0.0.0-dataease.js";import"./HandleMore.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./more_v-0.0.0-dataease.js";import"./icon_add_outlined-0.0.0-dataease.js";import"./icon_drag_outlined-0.0.0-dataease.js";import"./icon_visible_outlined-0.0.0-dataease.js";import"./dv-folder-0.0.0-dataease.js";import"./icon_dataset-0.0.0-dataease.js";import"./icon_warning_filled-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./time-format-0.0.0-dataease.js";import"./time-format-dayjs-0.0.0-dataease.js";import"./dayjs.min-0.0.0-dataease.js";import"./attr-0.0.0-dataease20.js";import"./EmptyBackground-0.0.0-dataease.js";import"./el-empty-0.0.0-dataease.js";import"./none-0.0.0-dataease.js";import"./nothing-tree-0.0.0-dataease.js";import"./vuedraggable-es-0.0.0-dataease.js";import"./el-time-picker-0.0.0-dataease.js";import"./el-date-picker-0.0.0-dataease.js";import"./arrays-0.0.0-dataease.js";import"./index-0.0.0-dataease15.js";import"./index-0.0.0-dataease5.js";import"./icon_admin_outlined-0.0.0-dataease.js";import"./index-0.0.0-dataease22.js";import"./index-0.0.0-dataease23.js";import"./use-route-0.0.0-dataease.js";import"./index-0.0.0-dataease24.js";import"./index-0.0.0-dataease25.js";import"./index-0.0.0-dataease26.js";import"./index-0.0.0-dataease27.js";import"./el-virtual-list-0.0.0-dataease.js";import"./el-select-v2-0.0.0-dataease.js";import"./index-0.0.0-dataease14.js";import"./fixed-size-list-0.0.0-dataease.js";import"./browser-0.0.0-dataease.js";import"./chart-list-0.0.0-dataease.js";import"./field-list-0.0.0-dataease.js";import"./treeSortUtils-0.0.0-dataease.js";import"./Attr-0.0.0-dataease19.js";import"./CommonAttr-0.0.0-dataease.js";import"./CarouselSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./CollapseSwitchItem-0.0.0-dataease.js";import"./el-switch-0.0.0-dataease.js";import"./icon_replace_outlined-0.0.0-dataease.js";import"./dv-preview-download-0.0.0-dataease.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./watermark-0.0.0-dataease2.js";import"./user-0.0.0-dataease2.js";import"./ChartComponentS2-0.0.0-dataease.js";import"./ViewTrackBar-0.0.0-dataease.js";import"./el-pagination-0.0.0-dataease.js";import"./ChartError-0.0.0-dataease.js";import"./LinkageSet-0.0.0-dataease.js";import"./dv-link-target-0.0.0-dataease.js";import"./dv-dashboard-spine-0.0.0-dataease.js";import"./CodeMirror-0.0.0-dataease.js";import"./dv-empty-0.0.0-dataease.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease14.js";import"./index-0.0.0-dataease28.js";import"./ChartComponentG2Plot-0.0.0-dataease.js";import"./PluginComponent.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./DrillPath-0.0.0-dataease.js";import"./DeRichTextView-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./Component-0.0.0-dataease10.js";import"./ChartEmptyInfo-0.0.0-dataease.js";import"./chart-dark-list-0.0.0-dataease.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease11.js";import"./Attr-0.0.0-dataease13.js";import"./Attr-0.0.0-dataease.js";import"./Component-0.0.0-dataease3.js";import"./board-list-0.0.0-dataease.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease7.js";import"./Component-0.0.0-dataease5.js";import"./Attr-0.0.0-dataease5.js";import"./Component-0.0.0-dataease4.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Component-0.0.0-dataease12.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease3.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease8.js";import"./Component-0.0.0-dataease9.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease4.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease5.js";import"./Component-0.0.0-dataease8.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease6.js";import"./Component-0.0.0-dataease6.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease7.js";import"./Component-0.0.0-dataease13.js";import"./Attr-0.0.0-dataease16.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease8.js";import"./Attr-0.0.0-dataease12.js";import"./DatasetSelect-0.0.0-dataease.js";import"./icon_done_outlined-0.0.0-dataease.js";import"./Threshold-0.0.0-dataease.js";import"./TableThresholdEdit-0.0.0-dataease.js";import"./icon_info_filled-0.0.0-dataease.js";import"./TextLabelThresholdEdit-0.0.0-dataease.js";import"./TextThresholdEdit-0.0.0-dataease.js";import"./PictureGroupThresholdEdit-0.0.0-dataease.js";import"./Component-0.0.0-dataease2.js";import"./icon_download_outlined-0.0.0-dataease.js";import"./el-slider-0.0.0-dataease.js";import"./CustomColorStyleSelect-0.0.0-dataease.js";import"./GradientColorSelector-0.0.0-dataease.js";import"./outerParams-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./icon_pc_outlined-0.0.0-dataease.js";import"./MobileBackgroundSelector-0.0.0-dataease.js";import"./ComponentStyleEditor-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./row-0.0.0-dataease.js";import"./visual-star-0.0.0-dataease.js";import"./dv-info-0.0.0-dataease.js";import"./DvDetailInfo-0.0.0-dataease.js";import"./ShareVisualHead-0.0.0-dataease.js";import"./share-0.0.0-dataease.js";import"./ShareTicket-0.0.0-dataease.js";import"./el-table-column-0.0.0-dataease.js";import"./de-copy-0.0.0-dataease.js";import"./icon_refresh_outlined-0.0.0-dataease.js";import"./index-0.0.0-dataease16.js";import"./el-drawer-0.0.0-dataease.js";import"./use-dialog-0.0.0-dataease.js";import"./DashboardPreviewShow.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./DeResourceTree-0.0.0-dataease.js";import"./dv-dashboard-spine-mobile-0.0.0-dataease.js";import"./dv-rename-0.0.0-dataease.js";import"./icon_file-add_outlined-0.0.0-dataease.js";import"./icon_search-outline_outlined-0.0.0-dataease.js";import"./dv-sort-desc-0.0.0-dataease.js";import"./icon_operation-analysis_outlined-0.0.0-dataease.js";import"./ShareHandler-0.0.0-dataease.js";import"./DeResourceCreateOptV2.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./index-0.0.0-dataease17.js";import"./templateMarket-0.0.0-dataease.js";import"./MarketPreviewV2-0.0.0-dataease.js";import"./TemplateMarketPreviewItem-0.0.0-dataease.js";import"./CategoryTemplateV2-0.0.0-dataease.js";import"./TemplateMarketV2Item-0.0.0-dataease.js";import"./DeResourceArrow-0.0.0-dataease.js";import"./icon_right_outlined-0.0.0-dataease.js";import"./useMoveLine-0.0.0-dataease.js";import"./AppExportForm-0.0.0-dataease.js";import"./PreviewShow.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./DvPreview.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./icon_down_outlined-1-0.0.0-dataease.js";import"./icon_copy_outlined-0.0.0-dataease.js";import"./DimensionItem-0.0.0-dataease.js";import"./icon_sort_outlined-0.0.0-dataease.js";import"./utils-0.0.0-dataease.js";import"./QuotaItem-0.0.0-dataease.js";import"./DragPlaceholder-0.0.0-dataease.js";import"./FilterTree.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./RowAuth-0.0.0-dataease.js";import"./AuthTree-0.0.0-dataease.js";import"./FilterFiled-0.0.0-dataease.js";import"./TimeDialog-0.0.0-dataease.js";import"./options-0.0.0-dataease.js";import"./icon_down_outlined-0.0.0-dataease.js";import"./ChartStyle-0.0.0-dataease.js";import"./MiscSelector-0.0.0-dataease.js";import"./LabelSelector-0.0.0-dataease.js";import"./StringUtils-0.0.0-dataease.js";import"./TooltipSelector-0.0.0-dataease.js";import"./XAxisSelector-0.0.0-dataease.js";import"./YAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelectorInner-0.0.0-dataease.js";import"./TitleSelector-0.0.0-dataease.js";import"./icon_letter-spacing_outlined-0.0.0-dataease.js";import"./BasicStyleSelector-0.0.0-dataease.js";import"./DualBasicStyleSelector-0.0.0-dataease.js";import"./TableHeaderSelector-0.0.0-dataease.js";import"./TableCellSelector-0.0.0-dataease.js";import"./TableTotalSelector-0.0.0-dataease.js";import"./CustomAggrEdit-0.0.0-dataease.js";import"./icon_adjustment_outlined-0.0.0-dataease.js";import"./MiscStyleSelector-0.0.0-dataease.js";import"./IndicatorValueSelector-0.0.0-dataease.js";import"./icon_bottom-align_outlined-0.0.0-dataease.js";import"./IndicatorNameSelector-0.0.0-dataease.js";import"./QuadrantSelector-0.0.0-dataease.js";import"./FlowMapLineSelector-0.0.0-dataease.js";import"./FlowMapPointSelector-0.0.0-dataease.js";import"./VQueryChartStyle-0.0.0-dataease.js";import"./Senior-0.0.0-dataease.js";import"./FunctionCfg-0.0.0-dataease.js";import"./ScrollCfg-0.0.0-dataease.js";import"./AssistLine-0.0.0-dataease.js";import"./AssistLineEdit-0.0.0-dataease.js";import"./MapMapping-0.0.0-dataease.js";import"./BubbleAnimateCfg-0.0.0-dataease.js";import"./QuotaFilterEditor-0.0.0-dataease.js";import"./ResultFilterEditor-0.0.0-dataease.js";import"./DrillItem-0.0.0-dataease.js";import"./ChartType-0.0.0-dataease.js";import"./CompareEdit-0.0.0-dataease.js";import"./ValueFormatterEdit-0.0.0-dataease.js";import"./CustomSortEdit-0.0.0-dataease.js";import"./CalcFieldEdit-0.0.0-dataease.js";import"./ChartTemplateInfo-0.0.0-dataease.js";import"./position-0.0.0-dataease.js";import"./datasource-0.0.0-dataease.js";const ln={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function sn(A,l){return r(),D("svg",ln,l[0]||(l[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.6667 2.08398H17.0834C17.5436 2.08398 17.9167 2.45708 17.9167 2.91732V8.33398C17.9167 8.79422 17.5436 9.16732 17.0834 9.16732H11.6667C11.2065 9.16732 10.8334 8.79422 10.8334 8.33398V2.91732C10.8334 2.45708 11.2065 2.08398 11.6667 2.08398ZM12.5001 7.50065H16.2501V3.75065H12.5001V7.50065ZM2.91674 10.834H8.33341C8.79364 10.834 9.16674 11.2071 9.16674 11.6673V17.084C9.16674 17.5442 8.79364 17.9173 8.33341 17.9173H2.91674C2.4565 17.9173 2.08341 17.5442 2.08341 17.084V11.6673C2.08341 11.2071 2.4565 10.834 2.91674 10.834ZM3.75007 16.2507H7.50007V12.5007H3.75007V16.2507ZM17.0834 10.834H11.6667C11.2065 10.834 10.8334 11.2071 10.8334 11.6673V17.084C10.8334 17.5442 11.2065 17.9173 11.6667 17.9173H17.0834C17.5436 17.9173 17.9167 17.5442 17.9167 17.084V11.6673C17.9167 11.2071 17.5436 10.834 17.0834 10.834ZM12.5001 16.2507V12.5007H16.2501V16.2507H12.5001ZM2.09567 5.8636C1.93295 5.70088 1.93295 5.43706 2.09567 5.27434L2.68493 4.68508C2.84765 4.52237 3.11146 4.52237 3.27418 4.68508L4.74732 6.15822L7.98823 2.91732C8.15095 2.7546 8.41477 2.7546 8.57748 2.91732L9.16674 3.50657C9.32946 3.66929 9.32946 3.93311 9.16674 4.09583L5.10088 8.16169C4.90561 8.35696 4.58903 8.35696 4.39377 8.16169L2.09567 5.8636Z",fill:"white","fill-opacity":"0.6"},null,-1)]))}const rn={render:sn},cn={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function dn(A,l){return r(),D("svg",cn,l[0]||(l[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.17657 10.4785L9.174 10.4816L8.62618 11.1344C8.32264 11.4962 8.30723 11.9378 8.30784 12.1448C8.3082 12.2683 8.31704 12.3875 8.32329 12.4716C8.33061 12.5701 8.33378 12.6159 8.33378 12.6484C8.33383 13.4649 9.10394 14.0621 9.89478 13.859L10.5216 13.698C10.8369 13.617 11.0443 13.4284 11.1599 13.3046C11.219 13.2415 11.2683 13.1794 11.3013 13.1374L11.332 13.0981C11.3503 13.0746 11.3606 13.0614 11.373 13.0467L17.7441 5.45382C17.8648 5.59853 17.9804 5.74754 18.0907 5.90069C18.3024 6.161 18.4971 6.43158 18.6744 6.71176C19.1869 7.51954 19.5332 8.38333 19.7047 9.27787L19.7608 9.61472L19.8024 9.97542L19.8068 10.1754L19.8019 10.3577C19.7208 11.863 18.6414 13.0679 17.2958 13.1619L17.1262 13.1678H15.6529C15.1454 13.1703 14.6687 13.4406 14.3711 13.8943C14.1398 14.2487 14.0366 14.6805 14.0742 15.1056L14.0989 15.2872L14.1737 15.5781C14.3443 16.1879 14.2649 16.8533 13.9574 17.3931C13.7122 17.8236 13.3411 18.1404 12.9127 18.2951L12.7495 18.3454L12.1476 18.4686C11.7129 18.5493 11.2768 18.6057 10.8397 18.638L10.4022 18.6622L9.94788 18.6703C8.6298 18.6703 7.34847 18.4612 6.14512 18.0493C4.97677 17.6491 3.92507 17.0752 3.01631 16.3426C2.1002 15.6023 1.3785 14.7373 0.872027 13.7729C0.340156 12.7578 0.0703125 11.679 0.0703125 10.5664C0.0703125 9.45171 0.338847 8.36362 0.869922 7.32918C1.37691 6.34067 2.09677 5.45017 3.01015 4.68246C3.91985 3.91859 4.97114 3.31868 6.13895 2.89698C7.08916 2.558 8.0712 2.3483 9.06314 2.27184L9.4888 2.24724L9.93729 2.2384L9.95757 2.23438C10.7604 2.23506 11.5548 2.32059 12.3246 2.48573C13.3328 2.63875 14.2782 2.94404 15.1326 3.3804L9.17657 10.4785ZM9.99722 5.18537C10.6309 5.18537 11.1422 5.69878 11.1422 6.33034C11.1422 6.9619 10.6288 7.47531 9.99722 7.47531C9.36352 7.47531 8.85225 6.9619 8.85225 6.33034C8.85225 5.69878 9.36566 5.18537 9.99722 5.18537ZM5.62548 6.74669C6.25704 6.74669 6.77045 7.2601 6.77045 7.89166C6.77045 8.52322 6.25704 9.03663 5.62548 9.03663C4.99177 9.03663 4.48051 8.52322 4.48051 7.89166C4.48051 7.2601 4.99392 6.74669 5.62548 6.74669ZM5.72959 12.0552C5.72745 11.4236 5.21618 10.9102 4.58463 10.9102C3.95307 10.9102 3.43966 11.4236 3.43966 12.0552C3.43966 12.6867 3.95092 13.2001 4.58463 13.2001C5.21618 13.2001 5.72959 12.6867 5.72959 12.0552Z",fill:"white","fill-opacity":"0.6"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.7341 12.5111C10.6156 12.6523 10.5034 12.8422 10.3137 12.8909L9.68691 13.0519C9.4233 13.1196 9.1666 12.9206 9.16658 12.6484C9.16656 12.3663 9.06493 11.9074 9.26402 11.6701L9.80935 11.0202L9.81191 11.0172L18.2318 0.982833C18.3797 0.806552 18.6425 0.783558 18.8188 0.931475L19.4571 1.46713C19.6334 1.61505 19.6564 1.87786 19.5085 2.05415L10.7341 12.5111Z",fill:"white","fill-opacity":"0.6"},null,-1)]))}const un={render:dn},mn={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};function pn(A,l){return r(),D("svg",mn,l[0]||(l[0]=[a("path",{d:"M6.66666 3.66667H9.33332V5H6.66666V3.66667Z"},null,-1),a("path",{d:"M8.99999 11H6.99999V12.3333H8.99999V11Z"},null,-1),a("path",{d:"M3.33332 1C2.96513 1 2.66666 1.29848 2.66666 1.66667V14.3333C2.66666 14.7015 2.96513 15 3.33332 15H12.6667C13.0348 15 13.3333 14.7015 13.3333 14.3333V1.66667C13.3333 1.29848 13.0348 1 12.6667 1H3.33332ZM3.99999 2.33333H12V13.6667H3.99999V2.33333Z"},null,-1)]))}const fn={render:pn},vn={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function _n(A,l){return r(),D("svg",vn,l[0]||(l[0]=[a("path",{d:"M14.3333 1.33398H1.66667C1.29848 1.33398 1 1.63246 1 2.00065V11.334C1 11.7022 1.29848 12.0007 1.66667 12.0007H14.3333C14.7015 12.0007 15 11.7022 15 11.334V2.00065C15 1.63246 14.7015 1.33398 14.3333 1.33398ZM2.33333 8.66732V2.66732H13.6667V8.66732H2.33333ZM2.33333 10.0007H13.6667V10.6673H2.33333V10.0007ZM4.66667 13.334H11.3333V14.6673H4.66667V13.334Z",fill:"#646A73"},null,-1)]))}const hn={render:_n},gn=te({__name:"DbMoreComGroup",props:{dvModel:{type:String,default:"dv"},themes:{type:String,default:"dark"}},setup(A){const l=A,{dvModel:u}=xe(l),h=()=>{ee.emit("handleNew",{componentName:"DeFrame",innerType:"DeFrame"})},I=p=>{_o(p,u.value)},_=p=>{ho(p,u.value)};return(p,b)=>(r(),D("div",{class:"group",onDragstart:I,onDragend:_,onClick:h},[e(Ot,{themes:A.themes,icon:t(co),label:"网页","drag-info":"DeFrame&DeFrame"},null,8,["themes","icon"])],32))}});const Cn=ie(gn,[["__scopeId","data-v-6fde2707"]]),bn={class:"toolbar-main"},yn={class:"toolbar"},wn={class:"left-area"},Sn={id:"canvas-name",class:"name-area",style:{height:"100%",padding:"10px"}},kn={key:1,class:"left-area"},xn={class:"opt-area"},In={key:2,class:"left-area"},Dn={key:3,class:"middle-area"},Vn={key:2,class:"right-area"},En={key:3,class:"right-area full-area"},$n={key:4,class:"right-area full-area"},ge="dashboard",Ln=te({__name:"DbToolbar",props:{createType:{type:String,default:"create"}},setup(A){const{t:l}=ve(),u=fe(),h=Se(),I=So(),{styleChangeTimes:_,snapshotIndex:p}=be(h),b=B(null),{linkageSettingStatus:S,curLinkageView:C,componentData:n,dvInfo:m,canvasViewInfo:k,editMode:w,batchOptStatus:s,targetLinkageInfo:L,curBatchOptComponents:y,appData:g}=be(u),M=B(null),V=B(null);let f=B(!1),i=B(""),d=B(null);const x=ce({preBatchComponentData:[],preBatchCanvasViewInfo:{}}),T=B(null),se=B(null),{wsCache:z}=lt("localStorage"),R=Io();xe(A);const ue=()=>{f.value=!0,i.value=m.value.name,ye(()=>{d.value.focus()})},Ie=()=>{if(f.value=!1,!(!i.value||!i.value.trim())&&i.value.trim()!==m.value.name){if(i.value.trim().length>64||i.value.trim().length<1){Q.warning(l("components.length_1_64_characters")),ue();return}m.value.name=i.value,i.value=""}},De=()=>{p.value>0&&(h.undo(),ee.emit("matrix-canvasInit",!1))},Ve=()=>{p.value!==h.snapshotData.length-1&&(h.redo(),ee.emit("matrix-canvasInit",!1))},Ee=()=>{V.value.toggleFullscreen()},$e=()=>{if(!m.value.id){Q.warning(l("components.current_page_first"));return}Pe(()=>{const v="#/preview?ignoreParams=true&dvId="+m.value.id,c=window.open(v,"_blank");yt(c)})},E=()=>{u.setEditMode("edit")},j=W(()=>{let v=[];return n.value.forEach(c=>{c.innerType==="VQuery"&&v.push(c),c.innerType==="DeTabs"&&c.propValue.forEach(N=>{v=[...N.componentData.filter(Z=>Z.innerType==="VQuery"),...v]})}),v}),P=v=>{v&&v.opt==="newLeaf"&&(m.value.dataState="ready",m.value.pid=v.pid,m.value.name=v.name,K())},K=()=>{if(R.getOid&&z.get("user.oid")&&R.getOid!==z.get("user.oid")){We.confirm(l("components.from_other_organizations"),{confirmButtonType:"primary",type:"warning",confirmButtonText:l("components.close_the_page"),cancelButtonText:l("common.cancel"),autofocus:!1,showClose:!1}).then(()=>{window.close()});return}if(m.value.dataState==="prepare")if(g.value){const v={base:{pid:"",name:m.value.name,datasetFolderPid:null,datasetFolderName:m.value.name},appData:g.value};b.value.init(v)}else{const v={name:m.value.name,leaf:!0,id:m.value.pid};T.value.optInit("leaf",v,"newLeaf",!0);return}Le()},Le=()=>{if(z.delete("DE-DV-CATCH-"+m.value.id),_.value>0){u.matrixSizeAdaptor(),j.value.forEach(v=>{ae().emitter.emit(`updateQueryCriteria${v.id}`)});try{Pe(()=>{h.resetStyleChangeTimes(),Q.success(l("common.save_success"));let v=window.location.href;v=v.replace(/\?opt=create/,`?resourceId=${m.value.id}`),window.history.replaceState(null,"",v),g.value&&rt(m.value.id,"dashboard",()=>{ae().emitter.emit("refresh-dataset-selector"),ae().emitter.emit("calcData-all"),b.value.close(),u.setAppDataInfo(null),h.resetSnapshot()})})}catch(v){console.error(v)}}},Xe=()=>{u.setCurComponent({component:null,index:null}),u.setComponentData([]),h.recordSnapshotCache("renderChart")},Me=()=>{let v="#/panel/index";m.value.id&&(v=v+"?dvId="+m.value.id),_.value>0?We.confirm(l("components.sure_to_exit"),{confirmButtonType:"primary",type:"warning",autofocus:!1,showClose:!1}).then(()=>{oe(v)}):oe(v)},q=it(),oe=v=>{if(bt.value){q.clearState(),ae().emitter.emit("changeCurrentComponent","DashboardPanel");return}if(window["dataease-embedded-host"]&&(ne!=null&&ne.value)){const c={methodName:"embeddedInteractive",args:{eventName:"de-dashboard-editor-back",args:"Just a demo that descript dataease embedded interactive"}};ne.value.invokeMethod(c);return}z.delete("DE-DV-CATCH-"+m.value.id),window.open(v,"_self")},Be=()=>{M.value.dialogInit()};ee.on("preview",Ee),ee.on("save",K),ee.on("clearCanvas",Xe);const _e=()=>{u.setCurComponent({component:null,index:null})},Fe=()=>{if(!m.value.id||m.value.dataState==="prepare"){Q.warning(l("components.current_page_first"));return}ae().emitter.emit("mobileConfig")},Te=()=>{pe(n.value).forEach(c=>{y.value.includes(c.id)&&ee.emit("removeMatrixItemById-"+c.canvasId,c.id),c.component==="DeTabs"&&c.propValue.forEach(N=>{N.componentData.forEach(Z=>{y.value.includes(Z.id)&&ee.emit("removeMatrixItemById-"+Z.canvasId,Z.id)})})}),ye(()=>{ze()})},_t=()=>{const v={};n.value.forEach(c=>{y.value.includes(c.id)&&(v[c.id]=c),c.component==="DeTabs"&&c.propValue.forEach(N=>{N.componentData.forEach(Z=>{y.value.includes(Z.id)&&(v[Z.id]=Z)})})}),I.copyMultiplexingComponents(k.value,v,!0,"batchOpt"),ze()},Ke=v=>{v?(x.preBatchComponentData=pe(n.value),x.preBatchCanvasViewInfo=pe(k.value)):(x.preBatchComponentData=[],x.preBatchCanvasViewInfo={}),u.setBatchOptStatus(v)},ht=()=>{if(n.value.length===0){Q.warning(l("components.add_components_first"));return}if(!m.value.id){Q.warning(l("components.current_page_first"));return}Pe(()=>{se.value.optInit()})},ze=()=>{Ke(!1)},Ye=()=>{u.clearLinkageSettingInfo()},gt=()=>{for(const c in L.value){let N=0;const Z=L.value[c],je=Z.linkageFields;if(je&&je.forEach(function(J){J.sourceField&&J.targetField||N++}),N>0){Q.error(l("visualization.datalist")+"【"+Z.targetViewName+"】"+l("visualization.exit_un_march_linkage_field"));return}}const v={dvId:m.value.id,sourceViewId:C.value.id,linkageInfo:L.value};go(v).then(()=>{Q.success(l("save_success.common")),Co(m.value.id).then(c=>{u.setNowPanelTrackInfo(c.data)}),Ye(),bo(m.value.id).then(c=>{u.setNowPanelJumpInfo(c.data)})})},Ct=()=>{h.recordSnapshotCache()},et=st(),bt=W(()=>et.getIsDataEaseBi||et.getIsIframe),ne=B(null),yt=v=>{if(ne!=null&&ne.value){const c={methodName:"initOpenHandler",args:v};ne.value.invokeMethod(c)}};return(v,c)=>{const N=le,Z=ke,je=Je,J=He,tt=so,wt=ro,St=io;return r(),D(X,null,[a("div",bn,[a("div",yn,[t(w)==="preview"?(r(),D(X,{key:0},[a("div",wn,[a("span",Sn,$(t(m).name),1)]),c[9]||(c[9]=a("div",{class:"middle-area"},null,-1))],64)):(r(),D(X,{key:1},[t(s)?U("",!0):(r(),F(N,{key:0,class:"custom-el-icon back-icon",onClick:c[0]||(c[0]=Y=>Me())},{default:o(()=>[e(G,{name:"icon_left_outlined"},{default:o(()=>[e(t(po),{class:"svg-icon toolbar-icon"})]),_:1})]),_:1})),t(w)==="edit"&&!t(s)?(r(),D("div",kn,[a("span",{id:"canvas-name",class:"name-area",onDblclick:ue},$(t(m).name),33),a("div",xn,[e(Z,{effect:"dark",content:v.$t("visualization.undo"),placement:"bottom"},{default:o(()=>[e(N,{class:H(["toolbar-hover-icon",{"toolbar-icon-disabled":t(p)<1}]),disabled:t(p)<1,onClick:c[1]||(c[1]=Y=>De())},{default:o(()=>[e(G,{name:"icon_undo_outlined"},{default:o(()=>[e(t(Ut),{class:"svg-icon"})]),_:1})]),_:1},8,["class","disabled"])]),_:1},8,["content"]),e(Z,{effect:"dark",content:v.$t("commons.reduction"),placement:"bottom"},{default:o(()=>[e(N,{class:H(["toolbar-hover-icon opt-icon-redo",{"toolbar-icon-disabled":t(p)===t(h).snapshotData.length-1}]),onClick:c[2]||(c[2]=Y=>Ve())},{default:o(()=>[e(G,{name:"icon_redo_outlined"},{default:o(()=>[e(t(Ft),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["content"])])])):U("",!0),t(s)?(r(),D("div",In,[e(je,{class:"adapt-count"},{default:o(()=>[a("span",null,$(t(l)("user.selection_info",[t(y).length])),1)]),_:1})])):U("",!0),!t(s)&&!t(S)?(r(),D("div",Dn,[e(he,{"base-width":410,"show-split-line":!0,"is-label":"","icon-name":t(Zt),themes:"light",title:t(l)("chart.datalist")},{default:o(()=>[e(zt,{themes:"light","dv-model":ge})]),_:1},8,["icon-name","title"]),e(he,{"base-width":115,"show-split-line":!0,"is-label":"",themes:"light","icon-name":t(Rt),title:t(l)("visualization.filter_component")},{default:o(()=>[e(Pt,{themes:"light","dv-model":ge})]),_:1},8,["icon-name","title"]),e(he,{"is-label":"",themes:"light","base-width":115,"icon-name":t(Wt),title:t(l)("components.rich_text")},{default:o(()=>[e(Nt,{themes:"light","dv-model":ge})]),_:1},8,["icon-name","title"]),e(he,{"is-label":"",themes:"light",placement:"bottom","base-width":328,"icon-name":t(qt),title:t(l)("components.media")},{default:o(()=>[e(Gt,{themes:"light","dv-model":ge})]),_:1},8,["icon-name","title"]),e(he,{themes:"light","is-label":"","base-width":115,"icon-name":t(uo),title:"Tab"},{default:o(()=>[e(Jt,{themes:"light","dv-model":ge})]),_:1},8,["icon-name"]),e(he,{themes:"light","show-split-line":"","is-label":"","base-width":115,"icon-name":t(Qt),title:t(l)("visualization.more")},{default:o(()=>[e(Cn,{themes:"light","dv-model":ge})]),_:1},8,["icon-name","title"]),e(At,{"icon-name":t(mo),title:t(l)("visualization.multiplexing"),"is-label":"",onCustomClick:Be},null,8,["icon-name","title"])])):U("",!0)],64)),!t(s)&&!t(S)?(r(),D("div",Vn,[t(w)!=="preview"?(r(),D(X,{key:0},[e(Z,{effect:"dark",content:t(l)("visualization.outer_param_set"),placement:"bottom"},{default:o(()=>[e(Oe,{tips:t(l)("visualization.outer_param_set"),onCustomClick:ht,"icon-name":t(Bt)},null,8,["tips","icon-name"])]),_:1},8,["content"]),e(Z,{effect:"dark",content:t(l)("visualization.batch_opt"),placement:"bottom"},{default:o(()=>[e(Oe,{tips:t(l)("visualization.batch_opt"),onCustomClick:c[3]||(c[3]=Y=>Ke(!0)),"icon-name":t(rn)},null,8,["tips","icon-name"])]),_:1},8,["content"]),e(Z,{effect:"dark",content:t(l)("components.dashboard_configuration"),placement:"bottom"},{default:o(()=>[e(Oe,{tips:t(l)("components.dashboard_configuration"),onCustomClick:_e,"icon-name":t(un)},null,8,["tips","icon-name"])]),_:1},8,["content"]),c[10]||(c[10]=a("div",{class:"divider"},null,-1)),e(Z,{offset:14,effect:"dark",content:t(l)("components.to_mobile_layout"),placement:"bottom"},{default:o(()=>[e(Oe,{tips:t(l)("components.to_mobile_layout"),onCustomClick:Fe,"icon-name":t(fn)},null,8,["tips","icon-name"])]),_:1},8,["content"])],64)):U("",!0),t(w)==="edit"?(r(),F(St,{key:1,trigger:"hover"},{dropdown:o(()=>[e(wt,{class:"drop-style"},{default:o(()=>[e(tt,{onClick:Ee},{default:o(()=>[e(N,{style:{"margin-right":"8px","font-size":"16px"}},{default:o(()=>[e(G,{name:"icon_pc_fullscreen"},{default:o(()=>[e(t(fo),{class:"svg-icon"})]),_:1})]),_:1}),O(" "+$(t(l)("visualization.fullscreen_preview")),1)]),_:1}),e(tt,{onClick:c[4]||(c[4]=Y=>$e())},{default:o(()=>[e(N,{style:{"margin-right":"8px","font-size":"16px"}},{default:o(()=>[e(G,{name:"dv-preview-outer"},{default:o(()=>[e(t(hn),{class:"svg-icon"})]),_:1})]),_:1}),O(" "+$(t(l)("work_branch.new_page_preview")),1)]),_:1})]),_:1})]),default:o(()=>[e(J,{class:"preview-button",style:{float:"right","margin-right":"12px"}},{default:o(()=>[O($(t(l)("visualization.preview")),1)]),_:1})]),_:1})):U("",!0),t(w)==="preview"?(r(),F(J,{key:2,class:"custom-normal-button",icon:"EditPen",onClick:c[5]||(c[5]=Y=>E()),type:"primary"},{default:o(()=>[O($(t(l)("data_set.edit")),1)]),_:1})):U("",!0),t(w)==="edit"||t(w)==="preview"?(r(),F(J,{key:3,disabled:t(_)<1,onClick:c[6]||(c[6]=Y=>K()),style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[O($(t(l)("data_set.save")),1)]),_:1},8,["disabled"])):U("",!0)])):U("",!0),t(s)?(r(),D("div",En,[e(J,{text:"",icon:"CopyDocument",class:"custom-normal-button",onClick:_t,disabled:t(y).length===0,style:{float:"right","margin-right":"12px"}},{default:o(()=>[O($(t(l)("data_set.copy")),1)]),_:1},8,["disabled"]),e(J,{text:"",icon:"Delete",class:"custom-normal-button",onClick:Te,disabled:t(y).length===0,style:{float:"right","margin-right":"12px"}},{default:o(()=>[O($(t(l)("data_set.delete")),1)]),_:1},8,["disabled"]),e(J,{onClick:ze,style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[O($(t(l)("components.complete")),1)]),_:1})])):U("",!0),t(S)?(r(),D("div",$n,[e(J,{class:"custom-normal-button",onClick:c[7]||(c[7]=Y=>Ye()),style:{float:"right","margin-right":"12px"}},{default:o(()=>[O($(t(l)("userimport.cancel")),1)]),_:1}),e(J,{onClick:gt,style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[O($(t(l)("userimport.sure")),1)]),_:1})])):U("",!0)]),t(f)?(r(),F(Dt,{key:0,to:"#canvas-name"},[re(a("input",{onChange:Ct,ref_key:"nameInput",ref:d,"onUpdate:modelValue":c[8]||(c[8]=Y=>It(i)?i.value=Y:i=Y),onBlur:Ie},null,544),[[xt,t(i)]])])):U("",!0),e(vo,{ref_key:"multiplexingRef",ref:M},null,512),e(ko,{onFinish:P,"cur-canvas-type":"dashboard",ref_key:"resourceGroupOpt",ref:T},null,512),e(Ht,{ref_key:"outerParamsSetRef",ref:se},null,512)]),e(Mt,{"show-position":"edit",ref_key:"fullScreeRef",ref:V},null,512),e(t(Ge),{ref_key:"openHandler",ref:ne,jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvT3BlbkhhbmRsZXI="},null,512),e(xo,{ref_key:"resourceAppOpt",ref:b,"component-data":t(n),"dv-info":t(m),"canvas-view-info":t(k),"cur-canvas-type":"dashboard",onSaveAppCanvas:K},null,8,["component-data","dv-info","canvas-view-info"])],64)}}});const Mn=ie(Ln,[["__scopeId","data-v-3be89ced"]]),Bn={t:"1690342810342",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2380","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"};function Tn(A,l){return r(),D("svg",Bn,l[0]||(l[0]=[a("path",{d:"M87 160h850c13.255 0 24 10.745 24 24v656c0 13.255-10.745 24-24 24H87c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24z",fill:"#C5C5C5","fill-opacity":".45","p-id":"2381","data-spm-anchor-id":"a313x.7781069.0.i1",class:"selected"},null,-1),a("path",{d:"M111 864l128.17-128.361c22.092-22.125 57.936-22.151 80.06-0.06 22.124 22.091 57.968 22.065 80.06-0.06l120.576-120.756c39.023-39.081 102.34-39.128 141.42-0.105L911 864H111z",fill:"#ABABAB","fill-opacity":".574","p-id":"2382","data-spm-anchor-id":"a313x.7781069.0.i0",class:"selected"},null,-1),a("path",{d:"M321 487m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",fill:"#ABABAB","fill-opacity":".574","p-id":"2383"},null,-1),a("path",{d:"M71 160h882a8 8 0 0 1 8 8v104H63V168a8 8 0 0 1 8-8z",fill:"#ABABAB","fill-opacity":".5","p-id":"2384"},null,-1),a("path",{d:"M287 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2385"},null,-1),a("path",{d:"M207 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2386"},null,-1),a("path",{d:"M127 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2387"},null,-1)]))}const jn={render:Tn},On=["src"],An={class:"title-main"},Hn={class:"title-area"},Un=["title"],Fn={key:0,class:"edit-area"},zn=te({__name:"SubjectTemplateItem",props:{subjectItem:{type:Object,required:!0}},emits:["subjectDelete","onSubjectChange","subjectEdit"],setup(A,{emit:l}){const u=fe(),h=Se(),{canvasStyleData:I}=be(u),_=ce({defaultSubject:{},subjectItemDetails:null,canEdit:!1}),{t:p}=ve(),b=A,{subjectItem:S}=xe(b),C=W(()=>_.subjectItemDetails&&_.subjectItemDetails.themeId===I.value.themeId),n=l,m=()=>{We.confirm(p("components.to_delete_",[S.value.name]),{confirmButtonType:"danger",type:"warning",autofocus:!1,showClose:!1}).then(()=>{n("subjectDelete",S.value.id)})},k=()=>{n("subjectEdit")},w=()=>{C.value||(u.setCanvasStyle(JSON.parse(S.value.details)),h.recordSnapshotCache("renderChart"),mt(),ae().emitter.emit("onSubjectChange"))};return we(()=>{try{_.subjectItemDetails=JSON.parse(S.value.details)}catch{}}),(s,L)=>{const y=Ne("Delete"),g=le,M=He,V=Ne("EditPen");return r(),D("div",{class:H([{"background-selected":C.value},"subject-template"])},[a("div",null,[a("div",{class:"vertical-layout",onClick:Vt(w,["stop"])},[t(S).coverUrl?(r(),D("img",{key:0,src:t(ut)(t(S).coverUrl),alt:"",width:"172",height:"79"},null,8,On)):(r(),F(G,{key:1,name:"dv-no-img"},{default:o(()=>[e(t(jn),{class:"svg-icon",style:{width:"172px",height:"79px"}})]),_:1}))]),a("div",An,[a("div",Hn,[a("span",{style:{"margin-top":"8px","margin-left":"8px"},title:t(S).name},$(t(S).name),9,Un)]),t(S).type==="self"?(r(),D("div",Fn,[e(t(ke),{effect:"dark",placement:"top",content:s.$t("common.delete")},{default:o(()=>[e(M,{text:"",class:"m-custom-icon",onClick:L[0]||(L[0]=f=>m())},{default:o(()=>[e(g,{size:"14px"},{default:o(()=>[e(y)]),_:1})]),_:1})]),_:1},8,["content"]),e(t(ke),{effect:"dark",placement:"top",content:s.$t("common.edit")},{default:o(()=>[e(M,{text:"",class:"m-custom-icon",style:{"margin-left":"2px"},onClick:L[1]||(L[1]=f=>k())},{default:o(()=>[e(g,{size:"14px"},{default:o(()=>[e(V)]),_:1})]),_:1})]),_:1},8,["content"])])):U("",!0)])])],2)}}});const Re=ie(zn,[["__scopeId","data-v-063a2e56"]]),Zn=15e6,Pn=te({__name:"DeUpload",props:{imgUrl:{type:String},themes:{type:String,default:"dark"}},emits:["onImgChange"],setup(A,{emit:l}){const u=Se(),h=l,I=B(null),_=A,{themes:p,imgUrl:b}=xe(_),S=B(null),C=ce({fileList:[],dialogImageUrl:"",dialogVisible:!1,uploadDisabled:!1}),n=()=>{S.value=b.value,S.value?C.fileList.push({url:ut(S.value)}):C.fileList=[]},m=()=>{C.uploadDisabled=!1,S.value=null,C.fileList=[],h("onImgChange")},k=y=>{C.dialogImageUrl=y.url,C.dialogVisible=!0},w=y=>{nt(y.file,g=>{u.recordSnapshotCache(),S.value=g,h("onImgChange",g)})},s=y=>{const g=y.target.files[0];if(g.size>Zn){L();return}nt(g,M=>{u.recordSnapshotCache(),S.value=M,h("onImgChange",M)})},L=()=>{Q.success("图片大小不符合")};return we(()=>{n()}),Et(()=>b.value,()=>{n()}),(y,g)=>{const M=Ne("Plus"),V=le,f=Ho;return r(),D("div",{class:H(["avatar-uploader-container",`img-area_${t(p)}`])},[e(f,{action:"",effect:t(p),accept:".jpeg,.jpg,.png,.gif,.svg",class:H(["avatar-uploader",{disabled:C.uploadDisabled}]),"list-type":"picture-card","on-preview":k,"on-remove":m,"http-request":w,"before-upload":t(Lo),"file-list":C.fileList},{default:o(()=>[e(V,null,{default:o(()=>[e(M)]),_:1})]),_:1},8,["effect","class","before-upload","file-list"]),a("input",{id:"input",ref_key:"files",ref:I,type:"file",accept:".jpeg,.jpg,.png,.gif,.svg",hidden:"",onClick:g[0]||(g[0]=i=>{i.target.value=""}),onChange:s},null,544),e(Uo,{modelValue:C.dialogVisible,"onUpdate:modelValue":g[1]||(g[1]=i=>C.dialogVisible=i),"image-url":C.dialogImageUrl},null,8,["modelValue","image-url"])],2)}}});const Rn=ie(Pn,[["__scopeId","data-v-58fdce75"]]),Nn={class:"m-label"},Wn={class:"m-label"},Gn=te({__name:"SubjectEditDialog",emits:["finish"],setup(A,{expose:l,emit:u}){const{t:h}=ve(),I=B(!1),_={name:[{required:!0,message:h("commons.input_content"),trigger:"change"},{max:50,message:h("commons.char_can_not_more_50"),trigger:"change"}],coverUrl:[{required:!0,message:h("components.upload_a_cover"),trigger:"change"}]},p=B(),b=B(!1),S=B("new"),C=()=>{p.value.clearValidate(),b.value=!1},n=B(null),m=W(()=>S.value==="new"?h("components.a_new_theme"):h("components.edit_theme")),k=(y,g)=>{S.value=g,b.value=!0,n.value=pe(y)},w=()=>{p.value.validate(y=>{y&&s("finish",n.value)})};l({optInit:k,resetForm:C});const s=u,L=y=>{n.value.coverUrl=y};return(y,g)=>{const M=oo,V=Qe,f=pt,i=He,d=Ao,x=qe("loading");return re((r(),F(d,{title:m.value,modelValue:b.value,"onUpdate:modelValue":g[3]||(g[3]=T=>b.value=T),width:"400px","before-close":C},{footer:o(()=>[e(i,{secondary:"",onClick:g[1]||(g[1]=T=>C())},{default:o(()=>[O($(t(h)("common.cancel")),1)]),_:1}),e(i,{type:"primary",onClick:g[2]||(g[2]=T=>w())},{default:o(()=>[O($(t(h)("chart.confirm")),1)]),_:1})]),default:o(()=>[e(f,{"label-position":"top","require-asterisk-position":"right",ref_key:"subject",ref:p,model:n.value,rules:_},{default:o(()=>[e(V,{class:"form-item",prop:"name"},{label:o(()=>[a("label",Nn,$(t(h)("common.name")),1)]),default:o(()=>[e(M,{modelValue:n.value.name,"onUpdate:modelValue":g[0]||(g[0]=T=>n.value.name=T)},null,8,["modelValue"])]),_:1}),e(V,{class:"form-item",prop:"coverUrl"},{label:o(()=>[a("label",Wn,$(t(h)("components.cover")),1)]),default:o(()=>[e(Rn,{themes:"light","img-url":n.value.coverUrl,onOnImgChange:L},null,8,["img-url"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])),[[x,I.value]])}}});const qn=ie(Gn,[["__scopeId","data-v-ce3dd517"]]),Jn={class:"direction-left"},Qn={class:"direction"},Xn={class:"item-area",style:{overflow:"hidden"}},Kn={class:"item-area"},Yn={class:"item-area"},ea={class:"direction-right"},ta={class:"direction"},oa={style:{display:"flex","margin-top":"16px"}},na={style:{flex:"1"},class:"dot-container"},aa={key:0,class:"dots"},la=["onClick"],ia=te({__name:"Slider",props:{initialSpeed:{type:Number,default:30},initialInterval:{type:Number,default:3}},emits:["reload"],setup(A,{expose:l,emit:u}){const h=fe(),{canvasStyleData:I}=be(h),_=u,p=B(null),b=A,{initialSpeed:S}=xe(b),{t:C}=ve(),n=ce({temp:null,sliders:[],slidersLoading:!1,sliderWidth:420,imgWidth:420,currentIndex:1,distance:-420,transitionEnd:!0,speed:S.value,saveSubjectVisible:!1}),m=W(()=>({transform:`translate3d(${n.distance}px, 0, 0)`})),k=W(()=>{var i;return{height:((i=n.sliders[0])==null?void 0:i.length)<3?"140px":"250px"}}),w=()=>{n.slidersLoading=!0,Bo({}).then(i=>{n.sliders=[],n.sliders=i.data,n.slidersLoading=!1,n.sliders.length<n.currentIndex&&(n.currentIndex=1,_("reload"))}).catch(()=>{n.slidersLoading=!1})},s=i=>{To(i).then(()=>{Q.success(C("chart.delete_success")),w()})},L=i=>{n.slidersLoading=!0,jo(i).then(()=>{p.value.resetForm(),Q.success(C("dataset.save_success")),w()}).catch(()=>{n.slidersLoading=!1})},y=i=>{i&&i.id?p.value.optInit(i,"edit"):p.value.optInit(i,"new")},g=()=>{const i=pe(I.value);i.themeId=Oo();const d={name:C("components.a_new_theme"),coverUrl:null,details:JSON.stringify(i)};y(d)},M=(i,d,x)=>{n.temp&&(window.clearInterval(n.temp),n.temp=null),n.temp=window.setInterval(()=>{d===-1&&i<n.distance||d===1&&i>n.distance?n.distance+=x*d:(n.transitionEnd=!0,window.clearInterval(n.temp),n.distance=i,i<-n.sliderWidth*n.sliders.length&&(n.distance=-n.sliderWidth),i>-n.sliderWidth&&(n.distance=-n.sliderWidth*n.sliders.length))},20)},V=(i,d,x)=>{if(!n.transitionEnd)return;n.transitionEnd=!1,d===-1?n.currentIndex+=i/n.sliderWidth:n.currentIndex-=i/n.sliderWidth,n.currentIndex>n.sliders.length&&(n.currentIndex=1),n.currentIndex<1&&(n.currentIndex=n.sliders.length);const T=n.distance+i*d;M(T,d,x)},f=i=>{const d=i-n.currentIndex>=0?-1:1,x=Math.abs(i-n.currentIndex)*n.sliderWidth,T=Math.abs(i-n.currentIndex)===0?n.speed:Math.abs(i-n.currentIndex)*n.speed;V(x,d,T)};return we(()=>{w()}),l({saveSelfSubject:g}),(i,d)=>{const x=Ue,T=Je,se=qe("loading");return r(),F(x,{style:{"flex-direction":"column",width:"100%"}},{default:o(()=>[re((r(),F(x,{style:{"margin-top":"-4px","margin-bottom":"-6px"}},{default:o(()=>[a("div",Jn,[d[3]||(d[3]=a("span",null," ",-1)),re(a("ul",Qn,[a("li",{class:"left",onClick:d[0]||(d[0]=z=>V(n.sliderWidth,1,n.speed))},d[2]||(d[2]=[a("svg",{width:"36",height:"40",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{filter:"url(#filter0_d_1423_44506)"},[a("rect",{width:"24",height:"24",rx:"12",transform:"matrix(-1 0 0 1 28 4)",fill:"white"}),a("rect",{x:"-0.5",y:"0.5",width:"23",height:"23",rx:"11.5",transform:"matrix(-1 0 0 1 27 4)",stroke:"#DEE0E3"})]),a("path",{d:"M13.8609 16.0005L17.9268 11.9346C18.0244 11.837 18.0244 11.6787 17.9268 11.5811L17.5732 11.2275C17.4756 11.1299 17.3173 11.1299 17.2197 11.2275L12.8003 15.6469C12.605 15.8422 12.605 16.1588 12.8003 16.354L17.2197 20.7735C17.3173 20.8711 17.4756 20.8711 17.5732 20.7735L17.9268 20.4199C18.0244 20.3223 18.0244 20.164 17.9268 20.0664L13.8609 16.0005Z",fill:"#1F2329"}),a("defs",null,[a("filter",{id:"filter0_d_1423_44506",x:"-4",y:"0",width:"40",height:"40",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[a("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),a("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a("feOffset",{dy:"4"}),a("feGaussianBlur",{stdDeviation:"4"}),a("feComposite",{in2:"hardAlpha",operator:"out"}),a("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1423_44506"}),a("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1423_44506",result:"shape"})])])],-1)]))],512),[[Ae,n.currentIndex>1]])]),e(T,{span:24},{default:o(()=>[e(x,{id:"slider"},{default:o(()=>[a("div",{class:"slider-window",style:ot(k.value)},[n.slidersLoading?U("",!0):(r(),D("ul",{key:0,class:"container",style:ot(m.value)},[a("li",null,[a("div",Xn,[(r(!0),D(X,null,Ce(n.sliders[n.sliders.length-1],z=>(r(),F(Re,{key:z.id,"subject-item":z,onSubjectDelete:s,onSubjectEdit:R=>y(z)},null,8,["subject-item","onSubjectEdit"]))),128))])]),(r(!0),D(X,null,Ce(n.sliders,(z,R)=>(r(),D("li",{key:R},[a("div",Kn,[(r(!0),D(X,null,Ce(z,de=>(r(),F(Re,{key:de.id,"subject-item":de,onSubjectDelete:s,onSubjectEdit:ue=>y(de)},null,8,["subject-item","onSubjectEdit"]))),128))])]))),128)),a("li",null,[a("div",Yn,[(r(!0),D(X,null,Ce(n.sliders[0],z=>(r(),F(Re,{key:z.id,"subject-item":z,onSubjectDelete:s,onSubjectEdit:R=>y(z)},null,8,["subject-item","onSubjectEdit"]))),128))])])],4))],4)]),_:1})]),_:1}),a("div",ea,[d[5]||(d[5]=a("span",null," ",-1)),re(a("ul",ta,[a("li",{class:"right",onClick:d[1]||(d[1]=z=>V(n.sliderWidth,-1,n.speed))},d[4]||(d[4]=[a("svg",{width:"36",height:"40",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{filter:"url(#filter0_d_1423_44502)"},[a("rect",{x:"8",y:"4",width:"24",height:"24",rx:"12",fill:"white"}),a("rect",{x:"8.5",y:"4.5",width:"23",height:"23",rx:"11.5",stroke:"#DEE0E3"})]),a("path",{d:"M22.1391 15.9985L18.0732 11.9327C17.9756 11.835 17.9756 11.6768 18.0732 11.5791L18.4268 11.2256C18.5244 11.1279 18.6827 11.1279 18.7803 11.2256L23.1997 15.645C23.395 15.8402 23.395 16.1568 23.1997 16.3521L18.7803 20.7715C18.6827 20.8691 18.5244 20.8691 18.4268 20.7715L18.0732 20.418C17.9756 20.3203 17.9756 20.162 18.0732 20.0644L22.1391 15.9985Z",fill:"#1F2329"}),a("defs",null,[a("filter",{id:"filter0_d_1423_44502",x:"0",y:"0",width:"40",height:"40",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[a("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),a("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a("feOffset",{dy:"4"}),a("feGaussianBlur",{stdDeviation:"4"}),a("feComposite",{in2:"hardAlpha",operator:"out"}),a("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1423_44502"}),a("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1423_44502",result:"shape"})])])],-1)]))],512),[[Ae,n.currentIndex<n.sliders.length]])])]),_:1})),[[se,n.slidersLoading]]),a("div",oa,[d[7]||(d[7]=a("div",{style:{flex:"1"}},null,-1)),a("div",na,[d[6]||(d[6]=a("span",{hidden:""},"B",-1)),n.sliders.length>1?(r(),D("ul",aa,[(r(!0),D(X,null,Ce(n.sliders,(z,R)=>(r(),D("li",{key:R,class:H({dotted:R===n.currentIndex-1}),onClick:de=>f(R+1)},null,10,la))),128))])):U("",!0)])]),e(qn,{ref_key:"subjectEditDialogRef",ref:p,onFinish:L},null,512)]),_:1})}}});const sa=ie(ia,[["__scopeId","data-v-3b7e2903"]]),ra={class:"custom-item-text"},ca=te({__name:"ViewSimpleTitle",emits:["onTextChange"],setup(A,{emit:l}){const{t:u}=ve(),h=fe(),I=l,_=W(()=>h.canvasStyleData.component.chartTitle),p=ce({fontSize:[],isSetting:!1,predefineColors:dt}),b=B("light"),S=W(()=>{const w=[];for(let s=10;s<=60;s=s+2)w.push({name:s+"",value:s+""});return w}),C=w=>{_.value.modifyName=w,I("onTextChange",_.value)};function n(){_.value.isBolder=!_.value.isBolder,C("isBolder")}function m(){_.value.isItalic=!_.value.isItalic,C("isItalic")}function k(w){_.value.hPosition=w,C("hPosition")}return(w,s)=>{const L=Ue,y=ft,g=Qe,M=zo,V=Zo,f=le,i=ke,d=Fo;return r(),F(L,{class:"custom-row"},{default:o(()=>[e(L,null,{default:o(()=>[a("span",ra,$(t(u)("chart.text")),1)]),_:1}),e(L,{style:{"margin-top":"8px"}},{default:o(()=>[e(d,{wrap:""},{default:o(()=>[e(g,{class:H(["form-item no-margin-bottom","form-item-"+b.value])},{default:o(()=>[e(y,{title:t(u)("chart.text_color"),modelValue:_.value.color,"onUpdate:modelValue":s[0]||(s[0]=x=>_.value.color=x),class:"color-picker-style","is-custom":"",predefine:p.predefineColors,onChange:s[1]||(s[1]=x=>C("color"))},null,8,["title","modelValue","predefine"])]),_:1},8,["class"]),e(g,{class:H(["form-item no-margin-bottom","form-item-"+b.value])},{default:o(()=>[e(V,{style:{width:"56px"},title:t(u)("chart.text_fontsize"),modelValue:_.value.fontSize,"onUpdate:modelValue":s[2]||(s[2]=x=>_.value.fontSize=x),placeholder:t(u)("chart.size"),size:"small",onChange:s[3]||(s[3]=x=>C("fontSize"))},{default:o(()=>[(r(!0),D(X,null,Ce(S.value,x=>(r(),F(M,{key:x.value,label:x.name,value:x.value},null,8,["label","value"]))),128))]),_:1},8,["title","modelValue","placeholder"])]),_:1},8,["class"]),e(i,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(u)("chart.bolder")),1)]),default:o(()=>[a("div",{class:H(["icon-btn",{dark:b.value==="dark",active:_.value.isBolder}]),onClick:n},[e(f,null,{default:o(()=>[e(G,{name:"icon_bold_outlined"},{default:o(()=>[e(t(Po),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),e(i,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(u)("chart.italic")),1)]),default:o(()=>[a("div",{class:H(["icon-btn",{dark:b.value==="dark",active:_.value.isItalic}]),onClick:m},[e(f,null,{default:o(()=>[e(G,{name:"icon_italic_outlined"},{default:o(()=>[e(t(Ro),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),s[7]||(s[7]=a("div",{class:"m-divider"},null,-1)),e(i,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(u)("chart.text_pos_left")),1)]),default:o(()=>[a("div",{class:H(["icon-btn",{dark:b.value==="dark",active:_.value.hPosition==="left"}]),onClick:s[4]||(s[4]=x=>k("left"))},[e(f,null,{default:o(()=>[e(G,{name:"icon_left-alignment_outlined"},{default:o(()=>[e(t(No),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),e(i,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(u)("chart.text_pos_center")),1)]),default:o(()=>[a("div",{class:H(["icon-btn",{dark:b.value==="dark",active:_.value.hPosition==="center"}]),onClick:s[5]||(s[5]=x=>k("center"))},[e(f,null,{default:o(()=>[e(G,{name:"icon_center-alignment_outlined"},{default:o(()=>[e(t(Wo),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),e(i,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(u)("chart.text_pos_right")),1)]),default:o(()=>[a("div",{class:H(["icon-btn",{dark:b.value==="dark",active:_.value.hPosition==="right"}]),onClick:s[6]||(s[6]=x=>k("right"))},[e(f,null,{default:o(()=>[e(G,{name:"icon_right-alignment_outlined"},{default:o(()=>[e(t(Go),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1})]),_:1})]),_:1})]),_:1})}}});const da=ie(ca,[["__scopeId","data-v-c650a2c4"]]),ua={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function ma(A,l){return r(),D("svg",ua,l[0]||(l[0]=[a("path",{d:"M2 5.5C2 5.22386 2.22386 5 2.5 5H17.5C17.7761 5 18 5.22386 18 5.5V8.5C18 8.77614 17.7761 9 17.5 9H2.5C2.22386 9 2 8.77614 2 8.5V5.5Z"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12V18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18V12ZM4 17V13H20V17H4Z"},null,-1)]))}const pa={render:ma},fa={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function va(A,l){return r(),D("svg",fa,l[0]||(l[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 9C9 8.44772 9.44772 8 10 8H23C23.5523 8 24 8.44772 24 9V15C24 15.5523 23.5523 16 23 16H10C9.44771 16 9 15.5523 9 15V9ZM11 14V10H22V14H11Z"},null,-1),a("path",{d:"M0 10.5C0 10.2239 0.223858 10 0.5 10H6.5C6.77614 10 7 10.2239 7 10.5V13.5C7 13.7761 6.77614 14 6.5 14H0.5C0.223858 14 0 13.7761 0 13.5V10.5Z"},null,-1)]))}const _a={render:va},ha={style:{width:"100%","padding-bottom":"8px"}},ga={style:{width:"100%",padding:"16px 8px 0"}},Ca={style:{padding:"0 8px 8px"}},ba=te({__name:"FilterStyleSimpleSelector",setup(A){const{t:l}=ve(),u=fe(),h=Se(),I=W(()=>u.canvasStyleData.component.filterStyle),_=ce({fontSize:[],isSetting:!1,predefineColors:dt}),p=()=>{},b=C=>{u.canvasStyleData.component.filterStyle=vt(I.value),Mo(C),h.recordSnapshotCache("filterStyleSimpleSelector-themeChange")},S=(C,n="titleLayout")=>{I.value[n]=C,b(n)};return we(()=>{ee.on("onThemeColorChange",p)}),(C,n)=>{const m=G,k=ke,w=Qe,s=Je,L=ft,y=Ue,g=qo,M=ct,V=pt;return r(),D("div",ha,[e(V,{"label-position":"top",style:{width:"100%"}},{default:o(()=>[a("div",ga,[e(y,{gutter:8},{default:o(()=>[e(s,{span:12},{default:o(()=>[e(w,{class:"form-item",label:t(l)("components.title_horizontal_position")},{default:o(()=>[e(k,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(l)("chart.text_pos_left")),1)]),default:o(()=>[e(t(le),{class:H([I.value.titleLayout==="left"?"active":"cbd","hover-icon"]),onClick:n[0]||(n[0]=f=>S("left"))},{default:o(()=>[e(m,{name:"icon_left-align_outlined"},{default:o(()=>[e(t(Jo),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),e(k,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(l)("chart.text_pos_center")),1)]),default:o(()=>[e(t(le),{class:H([I.value.titleLayout==="center"&&"active","hover-icon"]),onClick:n[1]||(n[1]=f=>S("center"))},{default:o(()=>[e(m,{name:"icon_horizontal-align_outlined"},{default:o(()=>[e(t(Qo),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),e(k,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(l)("chart.text_pos_right")),1)]),default:o(()=>[e(t(le),{class:H([I.value.titleLayout==="right"&&"active","hover-icon"]),onClick:n[2]||(n[2]=f=>S("right"))},{default:o(()=>[e(m,{name:"icon_right-align_outlined"},{default:o(()=>[e(t(Xo),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["label"])]),_:1}),e(s,{span:12},{default:o(()=>[e(w,{class:"form-item",label:t(l)("components.title_display_position")},{default:o(()=>[e(k,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(l)("chart.text_pos_top")),1)]),default:o(()=>[e(t(le),{class:H([I.value.layout==="vertical"&&"active","hover-icon"]),onClick:n[3]||(n[3]=f=>S("vertical","layout"))},{default:o(()=>[e(m,{name:"icon_title-top-align_outlined"},{default:o(()=>[e(t(pa),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),e(k,{effect:"dark",placement:"top"},{content:o(()=>[O($(t(l)("chart.text_pos_center")),1)]),default:o(()=>[e(t(le),{class:H([I.value.layout==="horizontal"&&"active","hover-icon"]),onClick:n[4]||(n[4]=f=>S("horizontal","layout"))},{default:o(()=>[e(m,{name:"icon_title-left-align_outlined"},{default:o(()=>[e(t(_a),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["label"])]),_:1}),e(s,{span:12},{default:o(()=>[e(w,{class:"form-item",label:t(l)("components.title_color")},{default:o(()=>[e(L,{modelValue:I.value.titleColor,"onUpdate:modelValue":n[5]||(n[5]=f=>I.value.titleColor=f),"trigger-width":197,"is-custom":"",predefine:_.predefineColors,onChange:n[6]||(n[6]=f=>b("titleColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),e(s,{span:12},{default:o(()=>[e(w,{class:"form-item",label:t(l)("components.label_color")},{default:o(()=>[e(L,{modelValue:I.value.labelColor,"onUpdate:modelValue":n[7]||(n[7]=f=>I.value.labelColor=f),"trigger-width":197,"is-custom":"",predefine:_.predefineColors,onChange:n[8]||(n[8]=f=>b("labelColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1})]),_:1}),e(g,{class:"m-divider"})]),e(M,{title:t(l)("components.input_box_style"),name:"input_style_filter_selector",class:"inner-collapse"},{default:o(()=>[a("div",Ca,[e(y,{gutter:8},{default:o(()=>[e(s,{span:12},{default:o(()=>[e(w,{class:"form-item",label:t(l)("visualization.board")},{default:o(()=>[e(L,{modelValue:I.value.borderColor,"onUpdate:modelValue":n[9]||(n[9]=f=>I.value.borderColor=f),"trigger-width":197,"is-custom":"",predefine:_.predefineColors,onChange:n[10]||(n[10]=f=>b("borderColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),e(s,{span:12},{default:o(()=>[e(w,{class:"form-item",label:t(l)("visualization.text")},{default:o(()=>[e(L,{modelValue:I.value.text,"onUpdate:modelValue":n[11]||(n[11]=f=>I.value.text=f),"trigger-width":197,"is-custom":"",predefine:_.predefineColors,onChange:n[12]||(n[12]=f=>b("text"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),e(s,{span:12},{default:o(()=>[e(w,{class:"form-item",label:t(l)("visualization.board_background")},{default:o(()=>[e(L,{modelValue:I.value.bgColor,"onUpdate:modelValue":n[13]||(n[13]=f=>I.value.bgColor=f),"trigger-width":197,"is-custom":"",predefine:_.predefineColors,onChange:n[14]||(n[14]=f=>b("bgColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1})]),_:1})])]),_:1},8,["title"])]),_:1})])}}});const ya=ie(ba,[["__scopeId","data-v-838aca0b"]]),wa={class:"attr-container"},Sa=te({__name:"DbCanvasAttr",setup(A){const l=fe(),u=Se(),{canvasStyleData:h,componentData:I,canvasViewInfo:_}=be(l),{t:p}=ve();let b=!1;const S=B(["style"]),C=ce({colorForm:JSON.parse(JSON.stringify($o)),customColor:null,colorIndex:0,sliderShow:!0,collapseShow:!0}),n=()=>{C.collapseShow=!1,ye(()=>{m(),C.collapseShow=!0})},m=()=>{mt(),u.recordSnapshotCache("renderChart")},k=V=>{s("customAttr","color",V)},w=V=>{s("customStyle","text",V)},s=(V,f,i)=>{b&&(Object.keys(_.value).forEach(function(d){const x=_.value[d];try{V==="customAttr"?Ko(x.customAttr,i):Object.keys(i).forEach(function(T){x[V][f][T]!==void 0&&(x[V][f][T]=i[T])}),ae().emitter.emit("renderChart-"+d,x)}catch{console.warn("themeAttrChange-error")}}),u.recordSnapshotCache("renderChart"))},L=()=>{},y=V=>{h.value.component.chartCommonStyle=V,I.value.forEach(f=>{f.commonBackground=pe(V)})};we(()=>{ae({name:"onSubjectChange",callback:()=>{n()}}),ye(()=>{b=!0})});const g=B(),M=()=>{g.value.saveSelfSubject()};return(V,f)=>{const i=He,d=ct,x=Eo,T=Ue;return r(),D("div",wa,[e(T,null,{default:o(()=>[e(x,{modelValue:S.value,"onUpdate:modelValue":f[0]||(f[0]=se=>S.value=se)},{default:o(()=>[e(d,{title:t(p)("components.dashboard_style"),name:"style"},{default:o(()=>[e(sa,{ref_key:"slider",ref:g},null,512),e(i,{class:"button-panel__style",text:"",size:"small",onClick:M},{default:o(()=>[O($(V.$t("commons.save")),1)]),_:1})]),_:1},8,["title"]),e(d,{title:t(p)("components.overall_configuration"),name:"overallSetting"},{default:o(()=>[e(Xt,{onOnThemeColorChange:L})]),_:1},8,["title"]),e(d,{title:t(p)("components.dashboard_background"),name:"background",class:"content-no-padding-bottom"},{default:o(()=>[e(Kt,{themes:"light"})]),_:1},8,["title"]),e(d,{title:t(p)("visualization.view_style"),name:"componentStyle",class:"content-no-padding-bottom"},{default:o(()=>[e(Yo,{"common-background-pop":t(h).component.chartCommonStyle,"component-position":"'dashboard'",themes:"light",onOnBackgroundChange:y,"background-color-picker-width":197,"background-border-select-width":197},null,8,["common-background-pop"])]),_:1},8,["title"]),e(d,{title:t(p)("components.chart_color"),name:"graphical",class:"no-padding no-border-bottom"},{default:o(()=>[C.collapseShow?(r(),F(Yt,{key:0,onOnColorChange:k})):U("",!0)]),_:1},8,["title"]),e(d,{title:t(p)("visualization.chart_title"),name:"viewTitle"},{default:o(()=>[e(da,{onOnTextChange:w})]),_:1},8,["title"]),e(d,{title:t(p)("visualization.filter_component"),name:"filterComponent",class:"no-padding no-border-bottom"},{default:o(()=>[e(ya)]),_:1},8,["title"]),e(d,{title:t(p)("components.advanced_style_settings"),name:"seniorStyleSetting",class:"no-padding no-border-bottom"},{default:o(()=>[e(eo)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1})])}}});const ka=ie(Sa,[["__scopeId","data-v-5e877012"]]),xa={style:{height:"100%"}},ed=te({__name:"index",setup(A){const l=on(),u=it(),{wsCache:h}=lt(),I=B(null),_=E=>{if(E.key==="panel-weight"&&!tn(E.oldValue,E.newValue)){const j=u.resourceId||me.currentRoute.value.query.resourceId,P=u.opt||me.currentRoute.value.query.opt;P&&P==="create"||at(h.get("panel-weight"),j,4)}},p=fe(),b=Se(),S=no(),C=ao(),{fullscreenFlag:n,componentData:m,curComponent:k,canvasStyleData:w,canvasViewInfo:s,editMode:L,batchOptStatus:y,dvInfo:g}=be(p),M=B(!1),V=st(),f=W(()=>V.getIsDataEaseBi),i=ce({datasetTree:[],sourcePid:null,canvasId:"canvas-main",opt:null,resourceId:null}),d=()=>{Vo({}).then(E=>{i.datasetTree=E||[]})},x=W(()=>{var E,j,P;return!!(k.value&&(!["UserView","VQuery"].includes((E=k.value)==null?void 0:E.component)||((j=k.value)==null?void 0:j.component)==="UserView"&&((P=k.value)==null?void 0:P.innerType)==="picture-group")&&!y.value)}),T=W(()=>{var E,j;return((E=k.value)==null?void 0:E.component)==="UserView"?"属性":((j=k.value)==null?void 0:j.label)||"属性"}),se=W(()=>!!(k.value&&["UserView","VQuery"].includes(k.value.component)&&k.value.innerType!=="picture-group"&&!y.value)),z=async E=>{if(!window.DataEaseBi||!E)return!0;const j={busiFlag:"dashboard"};return await l.setInteractive(j),at(h.get("panel-weight"),E,4)},R=B(!1),de=()=>{const E=vt(w.value);E.mobileSetting||(E.mobileSetting={backgroundColorSelect:!1,background:"",color:"#ffffff",backgroundImageEnable:!1,customSetting:!1}),p.setCanvasStyle(E),ye(()=>{R.value=!0,p.setCurComponent({component:null,index:null})})},ue=B(!1),Ie=B(!1);let De=null;const Ve=()=>De(!0),Ee=E=>{const j=h.get("DE-DV-CATCH-"+i.resourceId);if(E&&j){const P=pe(j);b.snapshotPublish(P),M.value=!0,setTimeout(()=>{b.recordSnapshotCache(),b.recordSnapshotCache("renderChart")},1500)}else $e(),h.delete("DE-DV-CATCH-"+i.resourceId)},$e=()=>{const{resourceId:E,opt:j,sourcePid:P}=i;rt(E,j==="copy"?"dashboard-copy":"dashboard",function(){M.value=!0,g.value&&j==="copy"&&(g.value.dataState="prepare",g.value.optType="copy",g.value.pid=P,setTimeout(()=>{b.recordSnapshotCache()},1500)),wo({resourceId:E})})};return we(async()=>{var Me;window.location.hash.includes("#/dashboard")&&(Ie.value=!0),await new Promise(q=>De=q),ue.value=!0,ae({name:"mobileConfig",callback:()=>{de()}}),window.addEventListener("storage",_);const E=u.resourceId||me.currentRoute.value.query.resourceId,j=u.pid||me.currentRoute.value.query.pid,P=u.opt||me.currentRoute.value.query.opt,K=u.createType||me.currentRoute.value.query.createType,Le=u.templateParams||me.currentRoute.value.query.templateParams;if(await z(E))if(d(),i.sourcePid=j,i.opt=P,i.resourceId=E,E)M.value=!1,h.get("DE-DV-CATCH-"+E)?(Me=I.value)==null||Me.dialogInit({canvasType:"dashboard",resourceId:E}):$e();else if(P&&P==="create"){M.value=!1;let q;try{await nn().then(_e=>{q=_e.data,q.settingContent=JSON.parse(q.settingContent)})}catch{console.error("can not find watermark info")}let oe,Be;if(K==="template"){const _e=JSON.parse(an.decode(decodeURIComponent(Le+"")));await yo(_e,Fe=>{var Te;oe=Fe,Be=(Te=oe.baseInfo)==null?void 0:Te.preName})}ye(()=>{p.createInit("dashboard",null,j,q,Be),K==="template"&&(h.delete("de-template-data"),p.setComponentData(oe.componentData),p.setCanvasStyle(oe.canvasStyleData),p.setCanvasViewInfo(oe.canvasViewInfo),p.setAppDataInfo(oe.appData),setTimeout(()=>{b.recordSnapshotCache()},1500),p.getAppDataInfo()&&ee.emit("save")),M.value=!0,w.value.component.chartTitle.color="#000000"})}else{let q="#/panel/index";window.open(q,"_self")}}),$t(()=>{window.removeEventListener("storage",_)}),(E,j)=>{const P=kt,K=qe("loading");return r(),D(X,null,[ue.value&&!R.value?re((r(),D("div",{key:0,class:H(["dv-common-layout dv-teleport-query",f.value&&!Ie.value&&"dataease-w-h"])},[e(Mn),e(P,{class:H(["dv-layout-container",{"preview-content":t(L)==="preview"}]),"element-loading-background":"rgba(0, 0, 0, 0)"},{default:o(()=>[a("main",{class:H(["center",{"de-screen-full":t(n)}])},[M.value?(r(),F(Tt,{key:0,style:{"overflow-x":"hidden"},"canvas-id":i.canvasId,"component-data":t(m),"canvas-style-data":t(w),"canvas-view-info":t(s)},null,8,["canvas-id","component-data","canvas-style-data","canvas-view-info"])):U("",!0)],2),x.value?(r(),F(Ze,{key:0,"theme-info":"light",title:T.value,width:420,"side-name":"componentProp","aside-position":"right",view:t(s)[t(k).id],class:"left-sidebar"},{default:o(()=>[(r(),F(Lt(t(jt)(t(k))),{themes:"light"}))]),_:1},8,["title","view"])):U("",!0),re(e(Ze,{"theme-info":"light",title:"仪表板配置",width:420,"aside-position":"right",class:"left-sidebar"},{default:o(()=>[e(ka)]),_:1},512),[[Ae,!t(k)&&!t(y)]]),re(a("div",xa,[e(Do,{themes:"light",view:t(s)[t(k)?t(k).id:"default"],"dataset-tree":i.datasetTree},null,8,["view","dataset-tree"])],512),[[Ae,se.value]]),t(y)?(r(),F(Ze,{key:1,"theme-info":"light",title:"批量设置样式",width:280,"aside-position":"right",class:"left-sidebar","side-name":"batchOpt"},{default:o(()=>[e(en)]),_:1})):U("",!0)]),_:1},8,["class"])],2)),[[K,t(S).loadingMap[t(C).currentPath]]]):ue.value&&R.value?(r(),F(lo,{key:1,onPcMode:j[0]||(j[0]=Le=>R.value=!1)})):U("",!0),e(t(Ge),{jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvTmV3V2luZG93SGFuZGxlcg==",onLoaded:Ve,onLoadFail:Ve}),e(t(Ge),{jsname:"L2NvbXBvbmVudC90aHJlc2hvbGQtd2FybmluZy9UaHJlc2hvbGREaWFsb2c="}),e(to,{ref_key:"canvasCacheOutRef",ref:I,onDoUseCache:Ee},null,512)],64)}}});export{ed as default};
