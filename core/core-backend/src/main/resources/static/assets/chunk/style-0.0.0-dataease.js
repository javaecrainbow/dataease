import{t as l,b as w,s as b}from"./translate-0.0.0-dataease.js";import{i as c}from"./imgUtils-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import{d as x}from"./dvMain-0.0.0-dataease.js";import{k as I,j as k}from"./canvasUtils-0.0.0-dataease.js";const p=x();function M(t,{dvModel:e,cellWidth:o,cellHeight:i,curGap:r,showPosition:d="preview"}){let a={};return e==="dashboard"&&!t.isPlayer?a={padding:r+"px!important",width:o*t.sizeX+"px",height:i*t.sizeY+"px",left:o*(t.x-1)+"px",top:i*(t.y-1)+"px"}:e==="dataV"&&k(t.canvasId)&&d==="preview"?a={padding:r+"px!important",width:l(t.groupStyle.width),height:l(t.groupStyle.height),top:l(t.groupStyle.top),left:l(t.groupStyle.left)}:a={padding:r+"px!important",width:t.style.width+"px",height:t.style.height+"px",left:t.style.left+"px",top:t.style.top+"px"},a}function P(t,e,o){t.style.left=e*(t.x-1),t.style.top=o*(t.y-1),t.style.width=e*t.sizeX,t.style.height=o*t.sizeY}const v=["fontSize","width","height","top","left","borderWidth","letterSpacing","borderRadius"];function X(t,e=[]){const o={};return Object.keys(t).forEach(i=>{e.includes(i)||(i!="rotate"?t[i]!==""&&(o[i]=t[i],v.includes(i)&&(o[i]+="px")):o.transform=i+"("+t[i]+"deg)")}),o}function Y(t){if(t={...t},t.rotate!=0){const e=t.width*w(t.rotate)+t.height*b(t.rotate),o=(t.width-e)/2;t.left+=o,t.right=t.left+e;const i=t.height*w(t.rotate)+t.width*b(t.rotate),r=(i-t.height)/2;t.top-=r,t.bottom=t.top+i,t.width=e,t.height=i}else t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function j(t,e="canvas-main"){const{backgroundColorSelect:o,background:i,backgroundColor:r,backgroundImageEnable:d,fontSize:a,mobileSetting:g}=t,h={fontSize:a+"px",color:t.color};if(I(e)){let f=p.dvInfo.type==="dashboard"?"#f5f6f7":"#1a1a1a";if(o&&r&&(f=r),d?h.background=`url(${c(i)}) no-repeat ${f}`:h["background-color"]=f,p.mobileInPc&&(g!=null&&g.customSetting)){const{backgroundColorSelect:u,color:n,backgroundImageEnable:S,background:s}=g;u&&S&&typeof s=="string"?h.background=`url(${c(s)}) no-repeat ${n}`:u?h["background-color"]=n:S&&(h.background=`url(${c(s)}) no-repeat`)}}return h}function B(t){const e=t.style;t.propValue.forEach(o=>{const i={...o.style};o.groupStyle.left=(i.left-e.left)/e.width,o.groupStyle.top=(i.top-e.top)/e.height,o.groupStyle.width=i.width/e.width,o.groupStyle.height=i.height/e.height,o.style.left=o.style.left-e.left,o.style.top=o.style.top-e.top})}function z(t){const e={...t.style},o=p.editMode==="edit"?"component"+t.id:"enlarge-inner-content"+t.id,i=document.getElementById(o);i?(e.height=i.clientHeight-46,e.width=i.clientWidth):e.height=e.height-46,t.propValue.forEach(r=>{r.componentData.forEach(d=>{y(d,e)})})}function y(t,e){const o=t.groupStyle;t.style.left=e.width*o.left,t.style.top=e.height*o.top,t.style.width=e.width*o.width,t.style.height=e.height*o.height}function E(t,e){const o={...t.style};t.groupStyle.left=o.left/e.width,t.groupStyle.top=o.top/e.height,t.groupStyle.width=o.width/e.width,t.groupStyle.height=o.height/e.height}function O(t){if(t.component==="Group"){const e=t.style;t.propValue.forEach(o=>{y(o,e)})}else z(t)}function U(t,e){t.style.top=0,t.style.left=0;const o={...e};o.height=o.height-48,E(t,o)}export{E as a,O as b,B as c,j as d,X as e,M as f,Y as g,U as h,P as s};
